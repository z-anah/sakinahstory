(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&s(c)}).observe(document,{childList:!0,subtree:!0});function t(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function s(a){if(a.ep)return;a.ep=!0;const l=t(a);fetch(a.href,l)}})();var qm={exports:{}},su={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var H0;function mR(){if(H0)return su;H0=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(s,a,l){var c=null;if(l!==void 0&&(c=""+l),a.key!==void 0&&(c=""+a.key),"key"in a){l={};for(var d in a)d!=="key"&&(l[d]=a[d])}else l=a;return a=l.ref,{$$typeof:n,type:s,key:c,ref:a!==void 0?a:null,props:l}}return su.Fragment=e,su.jsx=t,su.jsxs=t,su}var q0;function pR(){return q0||(q0=1,qm.exports=mR()),qm.exports}var w=pR(),Gm={exports:{}},Re={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var G0;function gR(){if(G0)return Re;G0=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),c=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),T=Symbol.iterator;function b(k){return k===null||typeof k!="object"?null:(k=T&&k[T]||k["@@iterator"],typeof k=="function"?k:null)}var x={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},D=Object.assign,L={};function P(k,ie,pe){this.props=k,this.context=ie,this.refs=L,this.updater=pe||x}P.prototype.isReactComponent={},P.prototype.setState=function(k,ie){if(typeof k!="object"&&typeof k!="function"&&k!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,k,ie,"setState")},P.prototype.forceUpdate=function(k){this.updater.enqueueForceUpdate(this,k,"forceUpdate")};function B(){}B.prototype=P.prototype;function Q(k,ie,pe){this.props=k,this.context=ie,this.refs=L,this.updater=pe||x}var Y=Q.prototype=new B;Y.constructor=Q,D(Y,P.prototype),Y.isPureReactComponent=!0;var ae=Array.isArray,G={H:null,A:null,T:null,S:null},se=Object.prototype.hasOwnProperty;function O(k,ie,pe,le,ue,Ce){return pe=Ce.ref,{$$typeof:n,type:k,key:ie,ref:pe!==void 0?pe:null,props:Ce}}function C(k,ie){return O(k.type,ie,void 0,void 0,void 0,k.props)}function R(k){return typeof k=="object"&&k!==null&&k.$$typeof===n}function N(k){var ie={"=":"=0",":":"=2"};return"$"+k.replace(/[=:]/g,function(pe){return ie[pe]})}var U=/\/+/g;function H(k,ie){return typeof k=="object"&&k!==null&&k.key!=null?N(""+k.key):ie.toString(36)}function M(){}function ot(k){switch(k.status){case"fulfilled":return k.value;case"rejected":throw k.reason;default:switch(typeof k.status=="string"?k.then(M,M):(k.status="pending",k.then(function(ie){k.status==="pending"&&(k.status="fulfilled",k.value=ie)},function(ie){k.status==="pending"&&(k.status="rejected",k.reason=ie)})),k.status){case"fulfilled":return k.value;case"rejected":throw k.reason}}throw k}function mt(k,ie,pe,le,ue){var Ce=typeof k;(Ce==="undefined"||Ce==="boolean")&&(k=null);var xe=!1;if(k===null)xe=!0;else switch(Ce){case"bigint":case"string":case"number":xe=!0;break;case"object":switch(k.$$typeof){case n:case e:xe=!0;break;case v:return xe=k._init,mt(xe(k._payload),ie,pe,le,ue)}}if(xe)return ue=ue(k),xe=le===""?"."+H(k,0):le,ae(ue)?(pe="",xe!=null&&(pe=xe.replace(U,"$&/")+"/"),mt(ue,ie,pe,"",function(lt){return lt})):ue!=null&&(R(ue)&&(ue=C(ue,pe+(ue.key==null||k&&k.key===ue.key?"":(""+ue.key).replace(U,"$&/")+"/")+xe)),ie.push(ue)),1;xe=0;var _t=le===""?".":le+":";if(ae(k))for(var Fe=0;Fe<k.length;Fe++)le=k[Fe],Ce=_t+H(le,Fe),xe+=mt(le,ie,pe,Ce,ue);else if(Fe=b(k),typeof Fe=="function")for(k=Fe.call(k),Fe=0;!(le=k.next()).done;)le=le.value,Ce=_t+H(le,Fe++),xe+=mt(le,ie,pe,Ce,ue);else if(Ce==="object"){if(typeof k.then=="function")return mt(ot(k),ie,pe,le,ue);throw ie=String(k),Error("Objects are not valid as a React child (found: "+(ie==="[object Object]"?"object with keys {"+Object.keys(k).join(", ")+"}":ie)+"). If you meant to render a collection of children, use an array instead.")}return xe}function oe(k,ie,pe){if(k==null)return k;var le=[],ue=0;return mt(k,le,"","",function(Ce){return ie.call(pe,Ce,ue++)}),le}function he(k){if(k._status===-1){var ie=k._result;ie=ie(),ie.then(function(pe){(k._status===0||k._status===-1)&&(k._status=1,k._result=pe)},function(pe){(k._status===0||k._status===-1)&&(k._status=2,k._result=pe)}),k._status===-1&&(k._status=0,k._result=ie)}if(k._status===1)return k._result.default;throw k._result}var fe=typeof reportError=="function"?reportError:function(k){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ie=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof k=="object"&&k!==null&&typeof k.message=="string"?String(k.message):String(k),error:k});if(!window.dispatchEvent(ie))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",k);return}console.error(k)};function ke(){}return Re.Children={map:oe,forEach:function(k,ie,pe){oe(k,function(){ie.apply(this,arguments)},pe)},count:function(k){var ie=0;return oe(k,function(){ie++}),ie},toArray:function(k){return oe(k,function(ie){return ie})||[]},only:function(k){if(!R(k))throw Error("React.Children.only expected to receive a single React element child.");return k}},Re.Component=P,Re.Fragment=t,Re.Profiler=a,Re.PureComponent=Q,Re.StrictMode=s,Re.Suspense=m,Re.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=G,Re.act=function(){throw Error("act(...) is not supported in production builds of React.")},Re.cache=function(k){return function(){return k.apply(null,arguments)}},Re.cloneElement=function(k,ie,pe){if(k==null)throw Error("The argument must be a React element, but you passed "+k+".");var le=D({},k.props),ue=k.key,Ce=void 0;if(ie!=null)for(xe in ie.ref!==void 0&&(Ce=void 0),ie.key!==void 0&&(ue=""+ie.key),ie)!se.call(ie,xe)||xe==="key"||xe==="__self"||xe==="__source"||xe==="ref"&&ie.ref===void 0||(le[xe]=ie[xe]);var xe=arguments.length-2;if(xe===1)le.children=pe;else if(1<xe){for(var _t=Array(xe),Fe=0;Fe<xe;Fe++)_t[Fe]=arguments[Fe+2];le.children=_t}return O(k.type,ue,void 0,void 0,Ce,le)},Re.createContext=function(k){return k={$$typeof:c,_currentValue:k,_currentValue2:k,_threadCount:0,Provider:null,Consumer:null},k.Provider=k,k.Consumer={$$typeof:l,_context:k},k},Re.createElement=function(k,ie,pe){var le,ue={},Ce=null;if(ie!=null)for(le in ie.key!==void 0&&(Ce=""+ie.key),ie)se.call(ie,le)&&le!=="key"&&le!=="__self"&&le!=="__source"&&(ue[le]=ie[le]);var xe=arguments.length-2;if(xe===1)ue.children=pe;else if(1<xe){for(var _t=Array(xe),Fe=0;Fe<xe;Fe++)_t[Fe]=arguments[Fe+2];ue.children=_t}if(k&&k.defaultProps)for(le in xe=k.defaultProps,xe)ue[le]===void 0&&(ue[le]=xe[le]);return O(k,Ce,void 0,void 0,null,ue)},Re.createRef=function(){return{current:null}},Re.forwardRef=function(k){return{$$typeof:d,render:k}},Re.isValidElement=R,Re.lazy=function(k){return{$$typeof:v,_payload:{_status:-1,_result:k},_init:he}},Re.memo=function(k,ie){return{$$typeof:p,type:k,compare:ie===void 0?null:ie}},Re.startTransition=function(k){var ie=G.T,pe={};G.T=pe;try{var le=k(),ue=G.S;ue!==null&&ue(pe,le),typeof le=="object"&&le!==null&&typeof le.then=="function"&&le.then(ke,fe)}catch(Ce){fe(Ce)}finally{G.T=ie}},Re.unstable_useCacheRefresh=function(){return G.H.useCacheRefresh()},Re.use=function(k){return G.H.use(k)},Re.useActionState=function(k,ie,pe){return G.H.useActionState(k,ie,pe)},Re.useCallback=function(k,ie){return G.H.useCallback(k,ie)},Re.useContext=function(k){return G.H.useContext(k)},Re.useDebugValue=function(){},Re.useDeferredValue=function(k,ie){return G.H.useDeferredValue(k,ie)},Re.useEffect=function(k,ie){return G.H.useEffect(k,ie)},Re.useId=function(){return G.H.useId()},Re.useImperativeHandle=function(k,ie,pe){return G.H.useImperativeHandle(k,ie,pe)},Re.useInsertionEffect=function(k,ie){return G.H.useInsertionEffect(k,ie)},Re.useLayoutEffect=function(k,ie){return G.H.useLayoutEffect(k,ie)},Re.useMemo=function(k,ie){return G.H.useMemo(k,ie)},Re.useOptimistic=function(k,ie){return G.H.useOptimistic(k,ie)},Re.useReducer=function(k,ie,pe){return G.H.useReducer(k,ie,pe)},Re.useRef=function(k){return G.H.useRef(k)},Re.useState=function(k){return G.H.useState(k)},Re.useSyncExternalStore=function(k,ie,pe){return G.H.useSyncExternalStore(k,ie,pe)},Re.useTransition=function(){return G.H.useTransition()},Re.version="19.0.0",Re}var K0;function dg(){return K0||(K0=1,Gm.exports=gR()),Gm.exports}var V=dg(),Km={exports:{}},ru={},$m={exports:{}},Ym={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $0;function yR(){return $0||($0=1,function(n){function e(oe,he){var fe=oe.length;oe.push(he);e:for(;0<fe;){var ke=fe-1>>>1,k=oe[ke];if(0<a(k,he))oe[ke]=he,oe[fe]=k,fe=ke;else break e}}function t(oe){return oe.length===0?null:oe[0]}function s(oe){if(oe.length===0)return null;var he=oe[0],fe=oe.pop();if(fe!==he){oe[0]=fe;e:for(var ke=0,k=oe.length,ie=k>>>1;ke<ie;){var pe=2*(ke+1)-1,le=oe[pe],ue=pe+1,Ce=oe[ue];if(0>a(le,fe))ue<k&&0>a(Ce,le)?(oe[ke]=Ce,oe[ue]=fe,ke=ue):(oe[ke]=le,oe[pe]=fe,ke=pe);else if(ue<k&&0>a(Ce,fe))oe[ke]=Ce,oe[ue]=fe,ke=ue;else break e}}return he}function a(oe,he){var fe=oe.sortIndex-he.sortIndex;return fe!==0?fe:oe.id-he.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;n.unstable_now=function(){return l.now()}}else{var c=Date,d=c.now();n.unstable_now=function(){return c.now()-d}}var m=[],p=[],v=1,T=null,b=3,x=!1,D=!1,L=!1,P=typeof setTimeout=="function"?setTimeout:null,B=typeof clearTimeout=="function"?clearTimeout:null,Q=typeof setImmediate<"u"?setImmediate:null;function Y(oe){for(var he=t(p);he!==null;){if(he.callback===null)s(p);else if(he.startTime<=oe)s(p),he.sortIndex=he.expirationTime,e(m,he);else break;he=t(p)}}function ae(oe){if(L=!1,Y(oe),!D)if(t(m)!==null)D=!0,ot();else{var he=t(p);he!==null&&mt(ae,he.startTime-oe)}}var G=!1,se=-1,O=5,C=-1;function R(){return!(n.unstable_now()-C<O)}function N(){if(G){var oe=n.unstable_now();C=oe;var he=!0;try{e:{D=!1,L&&(L=!1,B(se),se=-1),x=!0;var fe=b;try{t:{for(Y(oe),T=t(m);T!==null&&!(T.expirationTime>oe&&R());){var ke=T.callback;if(typeof ke=="function"){T.callback=null,b=T.priorityLevel;var k=ke(T.expirationTime<=oe);if(oe=n.unstable_now(),typeof k=="function"){T.callback=k,Y(oe),he=!0;break t}T===t(m)&&s(m),Y(oe)}else s(m);T=t(m)}if(T!==null)he=!0;else{var ie=t(p);ie!==null&&mt(ae,ie.startTime-oe),he=!1}}break e}finally{T=null,b=fe,x=!1}he=void 0}}finally{he?U():G=!1}}}var U;if(typeof Q=="function")U=function(){Q(N)};else if(typeof MessageChannel<"u"){var H=new MessageChannel,M=H.port2;H.port1.onmessage=N,U=function(){M.postMessage(null)}}else U=function(){P(N,0)};function ot(){G||(G=!0,U())}function mt(oe,he){se=P(function(){oe(n.unstable_now())},he)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(oe){oe.callback=null},n.unstable_continueExecution=function(){D||x||(D=!0,ot())},n.unstable_forceFrameRate=function(oe){0>oe||125<oe?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<oe?Math.floor(1e3/oe):5},n.unstable_getCurrentPriorityLevel=function(){return b},n.unstable_getFirstCallbackNode=function(){return t(m)},n.unstable_next=function(oe){switch(b){case 1:case 2:case 3:var he=3;break;default:he=b}var fe=b;b=he;try{return oe()}finally{b=fe}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(oe,he){switch(oe){case 1:case 2:case 3:case 4:case 5:break;default:oe=3}var fe=b;b=oe;try{return he()}finally{b=fe}},n.unstable_scheduleCallback=function(oe,he,fe){var ke=n.unstable_now();switch(typeof fe=="object"&&fe!==null?(fe=fe.delay,fe=typeof fe=="number"&&0<fe?ke+fe:ke):fe=ke,oe){case 1:var k=-1;break;case 2:k=250;break;case 5:k=1073741823;break;case 4:k=1e4;break;default:k=5e3}return k=fe+k,oe={id:v++,callback:he,priorityLevel:oe,startTime:fe,expirationTime:k,sortIndex:-1},fe>ke?(oe.sortIndex=fe,e(p,oe),t(m)===null&&oe===t(p)&&(L?(B(se),se=-1):L=!0,mt(ae,fe-ke))):(oe.sortIndex=k,e(m,oe),D||x||(D=!0,ot())),oe},n.unstable_shouldYield=R,n.unstable_wrapCallback=function(oe){var he=b;return function(){var fe=b;b=he;try{return oe.apply(this,arguments)}finally{b=fe}}}}(Ym)),Ym}var Y0;function vR(){return Y0||(Y0=1,$m.exports=yR()),$m.exports}var Qm={exports:{}},Wt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Q0;function _R(){if(Q0)return Wt;Q0=1;var n=dg();function e(m){var p="https://react.dev/errors/"+m;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)p+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+m+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var s={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},a=Symbol.for("react.portal");function l(m,p,v){var T=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:T==null?null:""+T,children:m,containerInfo:p,implementation:v}}var c=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(m,p){if(m==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return Wt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Wt.createPortal=function(m,p){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(e(299));return l(m,p,null,v)},Wt.flushSync=function(m){var p=c.T,v=s.p;try{if(c.T=null,s.p=2,m)return m()}finally{c.T=p,s.p=v,s.d.f()}},Wt.preconnect=function(m,p){typeof m=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,s.d.C(m,p))},Wt.prefetchDNS=function(m){typeof m=="string"&&s.d.D(m)},Wt.preinit=function(m,p){if(typeof m=="string"&&p&&typeof p.as=="string"){var v=p.as,T=d(v,p.crossOrigin),b=typeof p.integrity=="string"?p.integrity:void 0,x=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;v==="style"?s.d.S(m,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:T,integrity:b,fetchPriority:x}):v==="script"&&s.d.X(m,{crossOrigin:T,integrity:b,fetchPriority:x,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},Wt.preinitModule=function(m,p){if(typeof m=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var v=d(p.as,p.crossOrigin);s.d.M(m,{crossOrigin:v,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&s.d.M(m)},Wt.preload=function(m,p){if(typeof m=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var v=p.as,T=d(v,p.crossOrigin);s.d.L(m,v,{crossOrigin:T,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},Wt.preloadModule=function(m,p){if(typeof m=="string")if(p){var v=d(p.as,p.crossOrigin);s.d.m(m,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:v,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else s.d.m(m)},Wt.requestFormReset=function(m){s.d.r(m)},Wt.unstable_batchedUpdates=function(m,p){return m(p)},Wt.useFormState=function(m,p,v){return c.H.useFormState(m,p,v)},Wt.useFormStatus=function(){return c.H.useHostTransitionStatus()},Wt.version="19.0.0",Wt}var X0;function ER(){if(X0)return Qm.exports;X0=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Qm.exports=_R(),Qm.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var W0;function TR(){if(W0)return ru;W0=1;var n=vR(),e=dg(),t=ER();function s(i){var r="https://react.dev/errors/"+i;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)r+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+i+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}var l=Symbol.for("react.element"),c=Symbol.for("react.transitional.element"),d=Symbol.for("react.portal"),m=Symbol.for("react.fragment"),p=Symbol.for("react.strict_mode"),v=Symbol.for("react.profiler"),T=Symbol.for("react.provider"),b=Symbol.for("react.consumer"),x=Symbol.for("react.context"),D=Symbol.for("react.forward_ref"),L=Symbol.for("react.suspense"),P=Symbol.for("react.suspense_list"),B=Symbol.for("react.memo"),Q=Symbol.for("react.lazy"),Y=Symbol.for("react.offscreen"),ae=Symbol.for("react.memo_cache_sentinel"),G=Symbol.iterator;function se(i){return i===null||typeof i!="object"?null:(i=G&&i[G]||i["@@iterator"],typeof i=="function"?i:null)}var O=Symbol.for("react.client.reference");function C(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===O?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case m:return"Fragment";case d:return"Portal";case v:return"Profiler";case p:return"StrictMode";case L:return"Suspense";case P:return"SuspenseList"}if(typeof i=="object")switch(i.$$typeof){case x:return(i.displayName||"Context")+".Provider";case b:return(i._context.displayName||"Context")+".Consumer";case D:var r=i.render;return i=i.displayName,i||(i=r.displayName||r.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case B:return r=i.displayName||null,r!==null?r:C(i.type)||"Memo";case Q:r=i._payload,i=i._init;try{return C(i(r))}catch{}}return null}var R=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,N=Object.assign,U,H;function M(i){if(U===void 0)try{throw Error()}catch(o){var r=o.stack.trim().match(/\n( *(at )?)/);U=r&&r[1]||"",H=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+U+i+H}var ot=!1;function mt(i,r){if(!i||ot)return"";ot=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(r){var te=function(){throw Error()};if(Object.defineProperty(te.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(te,[])}catch(W){var $=W}Reflect.construct(i,[],te)}else{try{te.call()}catch(W){$=W}i.call(te.prototype)}}else{try{throw Error()}catch(W){$=W}(te=i())&&typeof te.catch=="function"&&te.catch(function(){})}}catch(W){if(W&&$&&typeof W.stack=="string")return[W.stack,$.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var g=u.DetermineComponentFrameRoot(),E=g[0],S=g[1];if(E&&S){var I=E.split(`
`),F=S.split(`
`);for(f=u=0;u<I.length&&!I[u].includes("DetermineComponentFrameRoot");)u++;for(;f<F.length&&!F[f].includes("DetermineComponentFrameRoot");)f++;if(u===I.length||f===F.length)for(u=I.length-1,f=F.length-1;1<=u&&0<=f&&I[u]!==F[f];)f--;for(;1<=u&&0<=f;u--,f--)if(I[u]!==F[f]){if(u!==1||f!==1)do if(u--,f--,0>f||I[u]!==F[f]){var Z=`
`+I[u].replace(" at new "," at ");return i.displayName&&Z.includes("<anonymous>")&&(Z=Z.replace("<anonymous>",i.displayName)),Z}while(1<=u&&0<=f);break}}}finally{ot=!1,Error.prepareStackTrace=o}return(o=i?i.displayName||i.name:"")?M(o):""}function oe(i){switch(i.tag){case 26:case 27:case 5:return M(i.type);case 16:return M("Lazy");case 13:return M("Suspense");case 19:return M("SuspenseList");case 0:case 15:return i=mt(i.type,!1),i;case 11:return i=mt(i.type.render,!1),i;case 1:return i=mt(i.type,!0),i;default:return""}}function he(i){try{var r="";do r+=oe(i),i=i.return;while(i);return r}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}function fe(i){var r=i,o=i;if(i.alternate)for(;r.return;)r=r.return;else{i=r;do r=i,r.flags&4098&&(o=r.return),i=r.return;while(i)}return r.tag===3?o:null}function ke(i){if(i.tag===13){var r=i.memoizedState;if(r===null&&(i=i.alternate,i!==null&&(r=i.memoizedState)),r!==null)return r.dehydrated}return null}function k(i){if(fe(i)!==i)throw Error(s(188))}function ie(i){var r=i.alternate;if(!r){if(r=fe(i),r===null)throw Error(s(188));return r!==i?null:i}for(var o=i,u=r;;){var f=o.return;if(f===null)break;var g=f.alternate;if(g===null){if(u=f.return,u!==null){o=u;continue}break}if(f.child===g.child){for(g=f.child;g;){if(g===o)return k(f),i;if(g===u)return k(f),r;g=g.sibling}throw Error(s(188))}if(o.return!==u.return)o=f,u=g;else{for(var E=!1,S=f.child;S;){if(S===o){E=!0,o=f,u=g;break}if(S===u){E=!0,u=f,o=g;break}S=S.sibling}if(!E){for(S=g.child;S;){if(S===o){E=!0,o=g,u=f;break}if(S===u){E=!0,u=g,o=f;break}S=S.sibling}if(!E)throw Error(s(189))}}if(o.alternate!==u)throw Error(s(190))}if(o.tag!==3)throw Error(s(188));return o.stateNode.current===o?i:r}function pe(i){var r=i.tag;if(r===5||r===26||r===27||r===6)return i;for(i=i.child;i!==null;){if(r=pe(i),r!==null)return r;i=i.sibling}return null}var le=Array.isArray,ue=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Ce={pending:!1,data:null,method:null,action:null},xe=[],_t=-1;function Fe(i){return{current:i}}function lt(i){0>_t||(i.current=xe[_t],xe[_t]=null,_t--)}function $e(i,r){_t++,xe[_t]=i.current,i.current=r}var rn=Fe(null),Vi=Fe(null),Dn=Fe(null),Es=Fe(null);function Ts(i,r){switch($e(Dn,r),$e(Vi,i),$e(rn,null),i=r.nodeType,i){case 9:case 11:r=(r=r.documentElement)&&(r=r.namespaceURI)?v0(r):0;break;default:if(i=i===8?r.parentNode:r,r=i.tagName,i=i.namespaceURI)i=v0(i),r=_0(i,r);else switch(r){case"svg":r=1;break;case"math":r=2;break;default:r=0}}lt(rn),$e(rn,r)}function Mi(){lt(rn),lt(Vi),lt(Dn)}function Jo(i){i.memoizedState!==null&&$e(Es,i);var r=rn.current,o=_0(r,i.type);r!==o&&($e(Vi,i),$e(rn,o))}function Sa(i){Vi.current===i&&(lt(rn),lt(Vi)),Es.current===i&&(lt(Es),Jl._currentValue=Ce)}var Aa=Object.prototype.hasOwnProperty,Cr=n.unstable_scheduleCallback,xa=n.unstable_cancelCallback,Kf=n.unstable_shouldYield,el=n.unstable_requestPaint,fn=n.unstable_now,nc=n.unstable_getCurrentPriorityLevel,St=n.unstable_ImmediatePriority,Mt=n.unstable_UserBlockingPriority,Oi=n.unstable_NormalPriority,ic=n.unstable_LowPriority,tl=n.unstable_IdlePriority,$f=n.log,Dr=n.unstable_setDisableYieldValue,bs=null,Qt=null;function nl(i){if(Qt&&typeof Qt.onCommitFiberRoot=="function")try{Qt.onCommitFiberRoot(bs,i,void 0,(i.current.flags&128)===128)}catch{}}function si(i){if(typeof $f=="function"&&Dr(i),Qt&&typeof Qt.setStrictMode=="function")try{Qt.setStrictMode(bs,i)}catch{}}var an=Math.clz32?Math.clz32:rc,il=Math.log,sc=Math.LN2;function rc(i){return i>>>=0,i===0?32:31-(il(i)/sc|0)|0}var ri=128,ws=4194304;function Qn(i){var r=i&42;if(r!==0)return r;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function In(i,r){var o=i.pendingLanes;if(o===0)return 0;var u=0,f=i.suspendedLanes,g=i.pingedLanes,E=i.warmLanes;i=i.finishedLanes!==0;var S=o&134217727;return S!==0?(o=S&~f,o!==0?u=Qn(o):(g&=S,g!==0?u=Qn(g):i||(E=S&~E,E!==0&&(u=Qn(E))))):(S=o&~f,S!==0?u=Qn(S):g!==0?u=Qn(g):i||(E=o&~E,E!==0&&(u=Qn(E)))),u===0?0:r!==0&&r!==u&&!(r&f)&&(f=u&-u,E=r&-r,f>=E||f===32&&(E&4194176)!==0)?r:u}function Ss(i,r){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&r)===0}function Ra(i,r){switch(i){case 1:case 2:case 4:case 8:return r+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function sl(){var i=ri;return ri<<=1,!(ri&4194176)&&(ri=128),i}function As(){var i=ws;return ws<<=1,!(ws&62914560)&&(ws=4194304),i}function Ca(i){for(var r=[],o=0;31>o;o++)r.push(i);return r}function pt(i,r){i.pendingLanes|=r,r!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function ac(i,r,o,u,f,g){var E=i.pendingLanes;i.pendingLanes=o,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=o,i.entangledLanes&=o,i.errorRecoveryDisabledLanes&=o,i.shellSuspendCounter=0;var S=i.entanglements,I=i.expirationTimes,F=i.hiddenUpdates;for(o=E&~o;0<o;){var Z=31-an(o),te=1<<Z;S[Z]=0,I[Z]=-1;var $=F[Z];if($!==null)for(F[Z]=null,Z=0;Z<$.length;Z++){var W=$[Z];W!==null&&(W.lane&=-536870913)}o&=~te}u!==0&&xs(i,u,0),g!==0&&f===0&&i.tag!==0&&(i.suspendedLanes|=g&~(E&~r))}function xs(i,r,o){i.pendingLanes|=r,i.suspendedLanes&=~r;var u=31-an(r);i.entangledLanes|=r,i.entanglements[u]=i.entanglements[u]|1073741824|o&4194218}function Rs(i,r){var o=i.entangledLanes|=r;for(i=i.entanglements;o;){var u=31-an(o),f=1<<u;f&r|i[u]&r&&(i[u]|=r),o&=~f}}function oc(i){return i&=-i,2<i?8<i?i&134217727?32:268435456:8:2}function lc(){var i=ue.p;return i!==0?i:(i=window.event,i===void 0?32:L0(i.type))}function Cs(i,r){var o=ue.p;try{return ue.p=i,r()}finally{ue.p=o}}var ai=Math.random().toString(36).slice(2),Ot="__reactFiber$"+ai,At="__reactProps$"+ai,Pi="__reactContainer$"+ai,Ir="__reactEvents$"+ai,Da="__reactListeners$"+ai,oi="__reactHandles$"+ai,rl="__reactResources$"+ai,Ds="__reactMarker$"+ai;function Nr(i){delete i[Ot],delete i[At],delete i[Ir],delete i[Da],delete i[oi]}function Xn(i){var r=i[Ot];if(r)return r;for(var o=i.parentNode;o;){if(r=o[Pi]||o[Ot]){if(o=r.alternate,r.child!==null||o!==null&&o.child!==null)for(i=b0(i);i!==null;){if(o=i[Ot])return o;i=b0(i)}return r}i=o,o=i.parentNode}return null}function ki(i){if(i=i[Ot]||i[Pi]){var r=i.tag;if(r===5||r===6||r===13||r===26||r===27||r===3)return i}return null}function Is(i){var r=i.tag;if(r===5||r===26||r===27||r===6)return i.stateNode;throw Error(s(33))}function Ns(i){var r=i[rl];return r||(r=i[rl]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function tt(i){i[Ds]=!0}var al=new Set,Ia={};function _n(i,r){dn(i,r),dn(i+"Capture",r)}function dn(i,r){for(Ia[i]=r,i=0;i<r.length;i++)al.add(r[i])}var En=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Yf=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ol={},ll={};function uc(i){return Aa.call(ll,i)?!0:Aa.call(ol,i)?!1:Yf.test(i)?ll[i]=!0:(ol[i]=!0,!1)}function Vs(i,r,o){if(uc(r))if(o===null)i.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":i.removeAttribute(r);return;case"boolean":var u=r.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){i.removeAttribute(r);return}}i.setAttribute(r,""+o)}}function Ms(i,r,o){if(o===null)i.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(r);return}i.setAttribute(r,""+o)}}function Nn(i,r,o,u){if(u===null)i.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(o);return}i.setAttributeNS(r,o,""+u)}}function on(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function cc(i){var r=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function Qf(i){var r=cc(i)?"checked":"value",o=Object.getOwnPropertyDescriptor(i.constructor.prototype,r),u=""+i[r];if(!i.hasOwnProperty(r)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var f=o.get,g=o.set;return Object.defineProperty(i,r,{configurable:!0,get:function(){return f.call(this)},set:function(E){u=""+E,g.call(this,E)}}),Object.defineProperty(i,r,{enumerable:o.enumerable}),{getValue:function(){return u},setValue:function(E){u=""+E},stopTracking:function(){i._valueTracker=null,delete i[r]}}}}function Vr(i){i._valueTracker||(i._valueTracker=Qf(i))}function ul(i){if(!i)return!1;var r=i._valueTracker;if(!r)return!0;var o=r.getValue(),u="";return i&&(u=cc(i)?i.checked?"true":"false":i.value),i=u,i!==o?(r.setValue(i),!0):!1}function Na(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var Li=/[\n"\\]/g;function ut(i){return i.replace(Li,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function Os(i,r,o,u,f,g,E,S){i.name="",E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?i.type=E:i.removeAttribute("type"),r!=null?E==="number"?(r===0&&i.value===""||i.value!=r)&&(i.value=""+on(r)):i.value!==""+on(r)&&(i.value=""+on(r)):E!=="submit"&&E!=="reset"||i.removeAttribute("value"),r!=null?Va(i,E,on(r)):o!=null?Va(i,E,on(o)):u!=null&&i.removeAttribute("value"),f==null&&g!=null&&(i.defaultChecked=!!g),f!=null&&(i.checked=f&&typeof f!="function"&&typeof f!="symbol"),S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?i.name=""+on(S):i.removeAttribute("name")}function Mr(i,r,o,u,f,g,E,S){if(g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(i.type=g),r!=null||o!=null){if(!(g!=="submit"&&g!=="reset"||r!=null))return;o=o!=null?""+on(o):"",r=r!=null?""+on(r):o,S||r===i.value||(i.value=r),i.defaultValue=r}u=u??f,u=typeof u!="function"&&typeof u!="symbol"&&!!u,i.checked=S?i.checked:!!u,i.defaultChecked=!!u,E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"&&(i.name=E)}function Va(i,r,o){r==="number"&&Na(i.ownerDocument)===i||i.defaultValue===""+o||(i.defaultValue=""+o)}function ze(i,r,o,u){if(i=i.options,r){r={};for(var f=0;f<o.length;f++)r["$"+o[f]]=!0;for(o=0;o<i.length;o++)f=r.hasOwnProperty("$"+i[o].value),i[o].selected!==f&&(i[o].selected=f),f&&u&&(i[o].defaultSelected=!0)}else{for(o=""+on(o),r=null,f=0;f<i.length;f++){if(i[f].value===o){i[f].selected=!0,u&&(i[f].defaultSelected=!0);return}r!==null||i[f].disabled||(r=i[f])}r!==null&&(r.selected=!0)}}function Or(i,r,o){if(r!=null&&(r=""+on(r),r!==i.value&&(i.value=r),o==null)){i.defaultValue!==r&&(i.defaultValue=r);return}i.defaultValue=o!=null?""+on(o):""}function Ps(i,r,o,u){if(r==null){if(u!=null){if(o!=null)throw Error(s(92));if(le(u)){if(1<u.length)throw Error(s(93));u=u[0]}o=u}o==null&&(o=""),r=o}o=on(r),i.defaultValue=o,u=i.textContent,u===o&&u!==""&&u!==null&&(i.value=u)}function Vn(i,r){if(r){var o=i.firstChild;if(o&&o===i.lastChild&&o.nodeType===3){o.nodeValue=r;return}}i.textContent=r}var Xf=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function cl(i,r,o){var u=r.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?u?i.setProperty(r,""):r==="float"?i.cssFloat="":i[r]="":u?i.setProperty(r,o):typeof o!="number"||o===0||Xf.has(r)?r==="float"?i.cssFloat=o:i[r]=(""+o).trim():i[r]=o+"px"}function hc(i,r,o){if(r!=null&&typeof r!="object")throw Error(s(62));if(i=i.style,o!=null){for(var u in o)!o.hasOwnProperty(u)||r!=null&&r.hasOwnProperty(u)||(u.indexOf("--")===0?i.setProperty(u,""):u==="float"?i.cssFloat="":i[u]="");for(var f in r)u=r[f],r.hasOwnProperty(f)&&o[f]!==u&&cl(i,f,u)}else for(var g in r)r.hasOwnProperty(g)&&cl(i,g,r[g])}function hl(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Wf=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Zf=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function li(i){return Zf.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}var Mn=null;function Ma(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var Ui=null,ji=null;function Bi(i){var r=ki(i);if(r&&(i=r.stateNode)){var o=i[At]||null;e:switch(i=r.stateNode,r.type){case"input":if(Os(i,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),r=o.name,o.type==="radio"&&r!=null){for(o=i;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+ut(""+r)+'"][type="radio"]'),r=0;r<o.length;r++){var u=o[r];if(u!==i&&u.form===i.form){var f=u[At]||null;if(!f)throw Error(s(90));Os(u,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(r=0;r<o.length;r++)u=o[r],u.form===i.form&&ul(u)}break e;case"textarea":Or(i,o.value,o.defaultValue);break e;case"select":r=o.value,r!=null&&ze(i,!!o.multiple,r,!1)}}}var fl=!1;function fc(i,r,o){if(fl)return i(r,o);fl=!0;try{var u=i(r);return u}finally{if(fl=!1,(Ui!==null||ji!==null)&&(ih(),Ui&&(r=Ui,i=ji,ji=Ui=null,Bi(r),i)))for(r=0;r<i.length;r++)Bi(i[r])}}function Pr(i,r){var o=i.stateNode;if(o===null)return null;var u=o[At]||null;if(u===null)return null;o=u[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(i=i.type,u=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!u;break e;default:i=!1}if(i)return null;if(o&&typeof o!="function")throw Error(s(231,r,typeof o));return o}var On=!1;if(En)try{var kr={};Object.defineProperty(kr,"passive",{get:function(){On=!0}}),window.addEventListener("test",kr,kr),window.removeEventListener("test",kr,kr)}catch{On=!1}var ui=null,ks=null,Fi=null;function dl(){if(Fi)return Fi;var i,r=ks,o=r.length,u,f="value"in ui?ui.value:ui.textContent,g=f.length;for(i=0;i<o&&r[i]===f[i];i++);var E=o-i;for(u=1;u<=E&&r[o-u]===f[g-u];u++);return Fi=f.slice(i,1<u?1-u:void 0)}function ci(i){var r=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&r===13&&(i=13)):i=r,i===10&&(i=13),32<=i||i===13?i:0}function hi(){return!0}function ml(){return!1}function Pt(i){function r(o,u,f,g,E){this._reactName=o,this._targetInst=f,this.type=u,this.nativeEvent=g,this.target=E,this.currentTarget=null;for(var S in i)i.hasOwnProperty(S)&&(o=i[S],this[S]=o?o(g):g[S]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?hi:ml,this.isPropagationStopped=ml,this}return N(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=hi)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=hi)},persist:function(){},isPersistent:hi}),r}var Ge={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Oa=Pt(Ge),Lr=N({},Ge,{view:0,detail:0}),dc=Pt(Lr),Pa,ka,fi,Ur=N({},Lr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Fr,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==fi&&(fi&&i.type==="mousemove"?(Pa=i.screenX-fi.screenX,ka=i.screenY-fi.screenY):ka=Pa=0,fi=i),Pa)},movementY:function(i){return"movementY"in i?i.movementY:ka}}),Pn=Pt(Ur),mc=N({},Ur,{dataTransfer:0}),Jf=Pt(mc),jr=N({},Lr,{relatedTarget:0}),La=Pt(jr),pl=N({},Ge,{animationName:0,elapsedTime:0,pseudoElement:0}),Ua=Pt(pl),pc=N({},Ge,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),ja=Pt(pc),ed=N({},Ge,{data:0}),gl=Pt(ed),Br={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},gc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},yc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function yl(i){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(i):(i=yc[i])?!!r[i]:!1}function Fr(){return yl}var vc=N({},Lr,{key:function(i){if(i.key){var r=Br[i.key]||i.key;if(r!=="Unidentified")return r}return i.type==="keypress"?(i=ci(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?gc[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Fr,charCode:function(i){return i.type==="keypress"?ci(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?ci(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),Ba=Pt(vc),_c=N({},Ur,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),vl=Pt(_c),zi=N({},Lr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Fr}),Ec=Pt(zi),Tc=N({},Ge,{propertyName:0,elapsedTime:0,pseudoElement:0}),bc=Pt(Tc),wc=N({},Ur,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),Fa=Pt(wc),ln=N({},Ge,{newState:0,oldState:0}),Sc=Pt(ln),Ac=[9,13,27,32],di=En&&"CompositionEvent"in window,h=null;En&&"documentMode"in document&&(h=document.documentMode);var y=En&&"TextEvent"in window&&!h,_=En&&(!di||h&&8<h&&11>=h),A=" ",q=!1;function X(i,r){switch(i){case"keyup":return Ac.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function re(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var Le=!1;function xt(i,r){switch(i){case"compositionend":return re(r);case"keypress":return r.which!==32?null:(q=!0,A);case"textInput":return i=r.data,i===A&&q?null:i;default:return null}}function Ue(i,r){if(Le)return i==="compositionend"||!di&&X(i,r)?(i=dl(),Fi=ks=ui=null,Le=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return _&&r.locale!=="ko"?null:r.data;default:return null}}var kt={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Rt(i){var r=i&&i.nodeName&&i.nodeName.toLowerCase();return r==="input"?!!kt[i.type]:r==="textarea"}function Hi(i,r,o,u){Ui?ji?ji.push(u):ji=[u]:Ui=u,r=lh(r,"onChange"),0<r.length&&(o=new Oa("onChange","change",null,o,u),i.push({event:o,listeners:r}))}var Ft=null,mi=null;function _l(i){d0(i,0)}function xc(i){var r=Is(i);if(ul(r))return i}function zy(i,r){if(i==="change")return r}var Hy=!1;if(En){var td;if(En){var nd="oninput"in document;if(!nd){var qy=document.createElement("div");qy.setAttribute("oninput","return;"),nd=typeof qy.oninput=="function"}td=nd}else td=!1;Hy=td&&(!document.documentMode||9<document.documentMode)}function Gy(){Ft&&(Ft.detachEvent("onpropertychange",Ky),mi=Ft=null)}function Ky(i){if(i.propertyName==="value"&&xc(mi)){var r=[];Hi(r,mi,i,Ma(i)),fc(_l,r)}}function qx(i,r,o){i==="focusin"?(Gy(),Ft=r,mi=o,Ft.attachEvent("onpropertychange",Ky)):i==="focusout"&&Gy()}function Gx(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return xc(mi)}function Kx(i,r){if(i==="click")return xc(r)}function $x(i,r){if(i==="input"||i==="change")return xc(r)}function Yx(i,r){return i===r&&(i!==0||1/i===1/r)||i!==i&&r!==r}var Tn=typeof Object.is=="function"?Object.is:Yx;function El(i,r){if(Tn(i,r))return!0;if(typeof i!="object"||i===null||typeof r!="object"||r===null)return!1;var o=Object.keys(i),u=Object.keys(r);if(o.length!==u.length)return!1;for(u=0;u<o.length;u++){var f=o[u];if(!Aa.call(r,f)||!Tn(i[f],r[f]))return!1}return!0}function $y(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function Yy(i,r){var o=$y(i);i=0;for(var u;o;){if(o.nodeType===3){if(u=i+o.textContent.length,i<=r&&u>=r)return{node:o,offset:r-i};i=u}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=$y(o)}}function Qy(i,r){return i&&r?i===r?!0:i&&i.nodeType===3?!1:r&&r.nodeType===3?Qy(i,r.parentNode):"contains"in i?i.contains(r):i.compareDocumentPosition?!!(i.compareDocumentPosition(r)&16):!1:!1}function Xy(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var r=Na(i.document);r instanceof i.HTMLIFrameElement;){try{var o=typeof r.contentWindow.location.href=="string"}catch{o=!1}if(o)i=r.contentWindow;else break;r=Na(i.document)}return r}function id(i){var r=i&&i.nodeName&&i.nodeName.toLowerCase();return r&&(r==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||r==="textarea"||i.contentEditable==="true")}function Qx(i,r){var o=Xy(r);r=i.focusedElem;var u=i.selectionRange;if(o!==r&&r&&r.ownerDocument&&Qy(r.ownerDocument.documentElement,r)){if(u!==null&&id(r)){if(i=u.start,o=u.end,o===void 0&&(o=i),"selectionStart"in r)r.selectionStart=i,r.selectionEnd=Math.min(o,r.value.length);else if(o=(i=r.ownerDocument||document)&&i.defaultView||window,o.getSelection){o=o.getSelection();var f=r.textContent.length,g=Math.min(u.start,f);u=u.end===void 0?g:Math.min(u.end,f),!o.extend&&g>u&&(f=u,u=g,g=f),f=Yy(r,g);var E=Yy(r,u);f&&E&&(o.rangeCount!==1||o.anchorNode!==f.node||o.anchorOffset!==f.offset||o.focusNode!==E.node||o.focusOffset!==E.offset)&&(i=i.createRange(),i.setStart(f.node,f.offset),o.removeAllRanges(),g>u?(o.addRange(i),o.extend(E.node,E.offset)):(i.setEnd(E.node,E.offset),o.addRange(i)))}}for(i=[],o=r;o=o.parentNode;)o.nodeType===1&&i.push({element:o,left:o.scrollLeft,top:o.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<i.length;r++)o=i[r],o.element.scrollLeft=o.left,o.element.scrollTop=o.top}}var Xx=En&&"documentMode"in document&&11>=document.documentMode,za=null,sd=null,Tl=null,rd=!1;function Wy(i,r,o){var u=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;rd||za==null||za!==Na(u)||(u=za,"selectionStart"in u&&id(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),Tl&&El(Tl,u)||(Tl=u,u=lh(sd,"onSelect"),0<u.length&&(r=new Oa("onSelect","select",null,r,o),i.push({event:r,listeners:u}),r.target=za)))}function zr(i,r){var o={};return o[i.toLowerCase()]=r.toLowerCase(),o["Webkit"+i]="webkit"+r,o["Moz"+i]="moz"+r,o}var Ha={animationend:zr("Animation","AnimationEnd"),animationiteration:zr("Animation","AnimationIteration"),animationstart:zr("Animation","AnimationStart"),transitionrun:zr("Transition","TransitionRun"),transitionstart:zr("Transition","TransitionStart"),transitioncancel:zr("Transition","TransitionCancel"),transitionend:zr("Transition","TransitionEnd")},ad={},Zy={};En&&(Zy=document.createElement("div").style,"AnimationEvent"in window||(delete Ha.animationend.animation,delete Ha.animationiteration.animation,delete Ha.animationstart.animation),"TransitionEvent"in window||delete Ha.transitionend.transition);function Hr(i){if(ad[i])return ad[i];if(!Ha[i])return i;var r=Ha[i],o;for(o in r)if(r.hasOwnProperty(o)&&o in Zy)return ad[i]=r[o];return i}var Jy=Hr("animationend"),ev=Hr("animationiteration"),tv=Hr("animationstart"),Wx=Hr("transitionrun"),Zx=Hr("transitionstart"),Jx=Hr("transitioncancel"),nv=Hr("transitionend"),iv=new Map,sv="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function Wn(i,r){iv.set(i,r),_n(r,[i])}var kn=[],qa=0,od=0;function Rc(){for(var i=qa,r=od=qa=0;r<i;){var o=kn[r];kn[r++]=null;var u=kn[r];kn[r++]=null;var f=kn[r];kn[r++]=null;var g=kn[r];if(kn[r++]=null,u!==null&&f!==null){var E=u.pending;E===null?f.next=f:(f.next=E.next,E.next=f),u.pending=f}g!==0&&rv(o,f,g)}}function Cc(i,r,o,u){kn[qa++]=i,kn[qa++]=r,kn[qa++]=o,kn[qa++]=u,od|=u,i.lanes|=u,i=i.alternate,i!==null&&(i.lanes|=u)}function ld(i,r,o,u){return Cc(i,r,o,u),Dc(i)}function Ls(i,r){return Cc(i,null,null,r),Dc(i)}function rv(i,r,o){i.lanes|=o;var u=i.alternate;u!==null&&(u.lanes|=o);for(var f=!1,g=i.return;g!==null;)g.childLanes|=o,u=g.alternate,u!==null&&(u.childLanes|=o),g.tag===22&&(i=g.stateNode,i===null||i._visibility&1||(f=!0)),i=g,g=g.return;f&&r!==null&&i.tag===3&&(g=i.stateNode,f=31-an(o),g=g.hiddenUpdates,i=g[f],i===null?g[f]=[r]:i.push(r),r.lane=o|536870912)}function Dc(i){if(50<Kl)throw Kl=0,mm=null,Error(s(185));for(var r=i.return;r!==null;)i=r,r=i.return;return i.tag===3?i.stateNode:null}var Ga={},av=new WeakMap;function Ln(i,r){if(typeof i=="object"&&i!==null){var o=av.get(i);return o!==void 0?o:(r={value:i,source:r,stack:he(r)},av.set(i,r),r)}return{value:i,source:r,stack:he(r)}}var Ka=[],$a=0,Ic=null,Nc=0,Un=[],jn=0,qr=null,qi=1,Gi="";function Gr(i,r){Ka[$a++]=Nc,Ka[$a++]=Ic,Ic=i,Nc=r}function ov(i,r,o){Un[jn++]=qi,Un[jn++]=Gi,Un[jn++]=qr,qr=i;var u=qi;i=Gi;var f=32-an(u)-1;u&=~(1<<f),o+=1;var g=32-an(r)+f;if(30<g){var E=f-f%5;g=(u&(1<<E)-1).toString(32),u>>=E,f-=E,qi=1<<32-an(r)+f|o<<f|u,Gi=g+i}else qi=1<<g|o<<f|u,Gi=i}function ud(i){i.return!==null&&(Gr(i,1),ov(i,1,0))}function cd(i){for(;i===Ic;)Ic=Ka[--$a],Ka[$a]=null,Nc=Ka[--$a],Ka[$a]=null;for(;i===qr;)qr=Un[--jn],Un[jn]=null,Gi=Un[--jn],Un[jn]=null,qi=Un[--jn],Un[jn]=null}var un=null,zt=null,He=!1,Zn=null,pi=!1,hd=Error(s(519));function Kr(i){var r=Error(s(418,""));throw Sl(Ln(r,i)),hd}function lv(i){var r=i.stateNode,o=i.type,u=i.memoizedProps;switch(r[Ot]=i,r[At]=u,o){case"dialog":Oe("cancel",r),Oe("close",r);break;case"iframe":case"object":case"embed":Oe("load",r);break;case"video":case"audio":for(o=0;o<Yl.length;o++)Oe(Yl[o],r);break;case"source":Oe("error",r);break;case"img":case"image":case"link":Oe("error",r),Oe("load",r);break;case"details":Oe("toggle",r);break;case"input":Oe("invalid",r),Mr(r,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0),Vr(r);break;case"select":Oe("invalid",r);break;case"textarea":Oe("invalid",r),Ps(r,u.value,u.defaultValue,u.children),Vr(r)}o=u.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||r.textContent===""+o||u.suppressHydrationWarning===!0||y0(r.textContent,o)?(u.popover!=null&&(Oe("beforetoggle",r),Oe("toggle",r)),u.onScroll!=null&&Oe("scroll",r),u.onScrollEnd!=null&&Oe("scrollend",r),u.onClick!=null&&(r.onclick=uh),r=!0):r=!1,r||Kr(i)}function uv(i){for(un=i.return;un;)switch(un.tag){case 3:case 27:pi=!0;return;case 5:case 13:pi=!1;return;default:un=un.return}}function bl(i){if(i!==un)return!1;if(!He)return uv(i),He=!0,!1;var r=!1,o;if((o=i.tag!==3&&i.tag!==27)&&((o=i.tag===5)&&(o=i.type,o=!(o!=="form"&&o!=="button")||Nm(i.type,i.memoizedProps)),o=!o),o&&(r=!0),r&&zt&&Kr(i),uv(i),i.tag===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(s(317));e:{for(i=i.nextSibling,r=0;i;){if(i.nodeType===8)if(o=i.data,o==="/$"){if(r===0){zt=ei(i.nextSibling);break e}r--}else o!=="$"&&o!=="$!"&&o!=="$?"||r++;i=i.nextSibling}zt=null}}else zt=un?ei(i.stateNode.nextSibling):null;return!0}function wl(){zt=un=null,He=!1}function Sl(i){Zn===null?Zn=[i]:Zn.push(i)}var Al=Error(s(460)),cv=Error(s(474)),fd={then:function(){}};function hv(i){return i=i.status,i==="fulfilled"||i==="rejected"}function Vc(){}function fv(i,r,o){switch(o=i[o],o===void 0?i.push(r):o!==r&&(r.then(Vc,Vc),r=o),r.status){case"fulfilled":return r.value;case"rejected":throw i=r.reason,i===Al?Error(s(483)):i;default:if(typeof r.status=="string")r.then(Vc,Vc);else{if(i=We,i!==null&&100<i.shellSuspendCounter)throw Error(s(482));i=r,i.status="pending",i.then(function(u){if(r.status==="pending"){var f=r;f.status="fulfilled",f.value=u}},function(u){if(r.status==="pending"){var f=r;f.status="rejected",f.reason=u}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw i=r.reason,i===Al?Error(s(483)):i}throw xl=r,Al}}var xl=null;function dv(){if(xl===null)throw Error(s(459));var i=xl;return xl=null,i}var Ya=null,Rl=0;function Mc(i){var r=Rl;return Rl+=1,Ya===null&&(Ya=[]),fv(Ya,i,r)}function Cl(i,r){r=r.props.ref,i.ref=r!==void 0?r:null}function Oc(i,r){throw r.$$typeof===l?Error(s(525)):(i=Object.prototype.toString.call(r),Error(s(31,i==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":i)))}function mv(i){var r=i._init;return r(i._payload)}function pv(i){function r(z,j){if(i){var K=z.deletions;K===null?(z.deletions=[j],z.flags|=16):K.push(j)}}function o(z,j){if(!i)return null;for(;j!==null;)r(z,j),j=j.sibling;return null}function u(z){for(var j=new Map;z!==null;)z.key!==null?j.set(z.key,z):j.set(z.index,z),z=z.sibling;return j}function f(z,j){return z=Qs(z,j),z.index=0,z.sibling=null,z}function g(z,j,K){return z.index=K,i?(K=z.alternate,K!==null?(K=K.index,K<j?(z.flags|=33554434,j):K):(z.flags|=33554434,j)):(z.flags|=1048576,j)}function E(z){return i&&z.alternate===null&&(z.flags|=33554434),z}function S(z,j,K,J){return j===null||j.tag!==6?(j=am(K,z.mode,J),j.return=z,j):(j=f(j,K),j.return=z,j)}function I(z,j,K,J){var de=K.type;return de===m?Z(z,j,K.props.children,J,K.key):j!==null&&(j.elementType===de||typeof de=="object"&&de!==null&&de.$$typeof===Q&&mv(de)===j.type)?(j=f(j,K.props),Cl(j,K),j.return=z,j):(j=Zc(K.type,K.key,K.props,null,z.mode,J),Cl(j,K),j.return=z,j)}function F(z,j,K,J){return j===null||j.tag!==4||j.stateNode.containerInfo!==K.containerInfo||j.stateNode.implementation!==K.implementation?(j=om(K,z.mode,J),j.return=z,j):(j=f(j,K.children||[]),j.return=z,j)}function Z(z,j,K,J,de){return j===null||j.tag!==7?(j=na(K,z.mode,J,de),j.return=z,j):(j=f(j,K),j.return=z,j)}function te(z,j,K){if(typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint")return j=am(""+j,z.mode,K),j.return=z,j;if(typeof j=="object"&&j!==null){switch(j.$$typeof){case c:return K=Zc(j.type,j.key,j.props,null,z.mode,K),Cl(K,j),K.return=z,K;case d:return j=om(j,z.mode,K),j.return=z,j;case Q:var J=j._init;return j=J(j._payload),te(z,j,K)}if(le(j)||se(j))return j=na(j,z.mode,K,null),j.return=z,j;if(typeof j.then=="function")return te(z,Mc(j),K);if(j.$$typeof===x)return te(z,Qc(z,j),K);Oc(z,j)}return null}function $(z,j,K,J){var de=j!==null?j.key:null;if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return de!==null?null:S(z,j,""+K,J);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case c:return K.key===de?I(z,j,K,J):null;case d:return K.key===de?F(z,j,K,J):null;case Q:return de=K._init,K=de(K._payload),$(z,j,K,J)}if(le(K)||se(K))return de!==null?null:Z(z,j,K,J,null);if(typeof K.then=="function")return $(z,j,Mc(K),J);if(K.$$typeof===x)return $(z,j,Qc(z,K),J);Oc(z,K)}return null}function W(z,j,K,J,de){if(typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint")return z=z.get(K)||null,S(j,z,""+J,de);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case c:return z=z.get(J.key===null?K:J.key)||null,I(j,z,J,de);case d:return z=z.get(J.key===null?K:J.key)||null,F(j,z,J,de);case Q:var Ie=J._init;return J=Ie(J._payload),W(z,j,K,J,de)}if(le(J)||se(J))return z=z.get(K)||null,Z(j,z,J,de,null);if(typeof J.then=="function")return W(z,j,K,Mc(J),de);if(J.$$typeof===x)return W(z,j,K,Qc(j,J),de);Oc(j,J)}return null}function me(z,j,K,J){for(var de=null,Ie=null,ye=j,_e=j=0,jt=null;ye!==null&&_e<K.length;_e++){ye.index>_e?(jt=ye,ye=null):jt=ye.sibling;var qe=$(z,ye,K[_e],J);if(qe===null){ye===null&&(ye=jt);break}i&&ye&&qe.alternate===null&&r(z,ye),j=g(qe,j,_e),Ie===null?de=qe:Ie.sibling=qe,Ie=qe,ye=jt}if(_e===K.length)return o(z,ye),He&&Gr(z,_e),de;if(ye===null){for(;_e<K.length;_e++)ye=te(z,K[_e],J),ye!==null&&(j=g(ye,j,_e),Ie===null?de=ye:Ie.sibling=ye,Ie=ye);return He&&Gr(z,_e),de}for(ye=u(ye);_e<K.length;_e++)jt=W(ye,z,_e,K[_e],J),jt!==null&&(i&&jt.alternate!==null&&ye.delete(jt.key===null?_e:jt.key),j=g(jt,j,_e),Ie===null?de=jt:Ie.sibling=jt,Ie=jt);return i&&ye.forEach(function(nr){return r(z,nr)}),He&&Gr(z,_e),de}function Se(z,j,K,J){if(K==null)throw Error(s(151));for(var de=null,Ie=null,ye=j,_e=j=0,jt=null,qe=K.next();ye!==null&&!qe.done;_e++,qe=K.next()){ye.index>_e?(jt=ye,ye=null):jt=ye.sibling;var nr=$(z,ye,qe.value,J);if(nr===null){ye===null&&(ye=jt);break}i&&ye&&nr.alternate===null&&r(z,ye),j=g(nr,j,_e),Ie===null?de=nr:Ie.sibling=nr,Ie=nr,ye=jt}if(qe.done)return o(z,ye),He&&Gr(z,_e),de;if(ye===null){for(;!qe.done;_e++,qe=K.next())qe=te(z,qe.value,J),qe!==null&&(j=g(qe,j,_e),Ie===null?de=qe:Ie.sibling=qe,Ie=qe);return He&&Gr(z,_e),de}for(ye=u(ye);!qe.done;_e++,qe=K.next())qe=W(ye,z,_e,qe.value,J),qe!==null&&(i&&qe.alternate!==null&&ye.delete(qe.key===null?_e:qe.key),j=g(qe,j,_e),Ie===null?de=qe:Ie.sibling=qe,Ie=qe);return i&&ye.forEach(function(dR){return r(z,dR)}),He&&Gr(z,_e),de}function ft(z,j,K,J){if(typeof K=="object"&&K!==null&&K.type===m&&K.key===null&&(K=K.props.children),typeof K=="object"&&K!==null){switch(K.$$typeof){case c:e:{for(var de=K.key;j!==null;){if(j.key===de){if(de=K.type,de===m){if(j.tag===7){o(z,j.sibling),J=f(j,K.props.children),J.return=z,z=J;break e}}else if(j.elementType===de||typeof de=="object"&&de!==null&&de.$$typeof===Q&&mv(de)===j.type){o(z,j.sibling),J=f(j,K.props),Cl(J,K),J.return=z,z=J;break e}o(z,j);break}else r(z,j);j=j.sibling}K.type===m?(J=na(K.props.children,z.mode,J,K.key),J.return=z,z=J):(J=Zc(K.type,K.key,K.props,null,z.mode,J),Cl(J,K),J.return=z,z=J)}return E(z);case d:e:{for(de=K.key;j!==null;){if(j.key===de)if(j.tag===4&&j.stateNode.containerInfo===K.containerInfo&&j.stateNode.implementation===K.implementation){o(z,j.sibling),J=f(j,K.children||[]),J.return=z,z=J;break e}else{o(z,j);break}else r(z,j);j=j.sibling}J=om(K,z.mode,J),J.return=z,z=J}return E(z);case Q:return de=K._init,K=de(K._payload),ft(z,j,K,J)}if(le(K))return me(z,j,K,J);if(se(K)){if(de=se(K),typeof de!="function")throw Error(s(150));return K=de.call(K),Se(z,j,K,J)}if(typeof K.then=="function")return ft(z,j,Mc(K),J);if(K.$$typeof===x)return ft(z,j,Qc(z,K),J);Oc(z,K)}return typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint"?(K=""+K,j!==null&&j.tag===6?(o(z,j.sibling),J=f(j,K),J.return=z,z=J):(o(z,j),J=am(K,z.mode,J),J.return=z,z=J),E(z)):o(z,j)}return function(z,j,K,J){try{Rl=0;var de=ft(z,j,K,J);return Ya=null,de}catch(ye){if(ye===Al)throw ye;var Ie=Hn(29,ye,null,z.mode);return Ie.lanes=J,Ie.return=z,Ie}finally{}}}var $r=pv(!0),gv=pv(!1),Qa=Fe(null),Pc=Fe(0);function yv(i,r){i=ns,$e(Pc,i),$e(Qa,r),ns=i|r.baseLanes}function dd(){$e(Pc,ns),$e(Qa,Qa.current)}function md(){ns=Pc.current,lt(Qa),lt(Pc)}var Bn=Fe(null),gi=null;function Us(i){var r=i.alternate;$e(Ct,Ct.current&1),$e(Bn,i),gi===null&&(r===null||Qa.current!==null||r.memoizedState!==null)&&(gi=i)}function vv(i){if(i.tag===22){if($e(Ct,Ct.current),$e(Bn,i),gi===null){var r=i.alternate;r!==null&&r.memoizedState!==null&&(gi=i)}}else js()}function js(){$e(Ct,Ct.current),$e(Bn,Bn.current)}function Ki(i){lt(Bn),gi===i&&(gi=null),lt(Ct)}var Ct=Fe(0);function kc(i){for(var r=i;r!==null;){if(r.tag===13){var o=r.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o.data==="$?"||o.data==="$!"))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if(r.flags&128)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break;for(;r.sibling===null;){if(r.return===null||r.return===i)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var e1=typeof AbortController<"u"?AbortController:function(){var i=[],r=this.signal={aborted:!1,addEventListener:function(o,u){i.push(u)}};this.abort=function(){r.aborted=!0,i.forEach(function(o){return o()})}},t1=n.unstable_scheduleCallback,n1=n.unstable_NormalPriority,Dt={$$typeof:x,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function pd(){return{controller:new e1,data:new Map,refCount:0}}function Dl(i){i.refCount--,i.refCount===0&&t1(n1,function(){i.controller.abort()})}var Il=null,gd=0,Xa=0,Wa=null;function i1(i,r){if(Il===null){var o=Il=[];gd=0,Xa=bm(),Wa={status:"pending",value:void 0,then:function(u){o.push(u)}}}return gd++,r.then(_v,_v),r}function _v(){if(--gd===0&&Il!==null){Wa!==null&&(Wa.status="fulfilled");var i=Il;Il=null,Xa=0,Wa=null;for(var r=0;r<i.length;r++)(0,i[r])()}}function s1(i,r){var o=[],u={status:"pending",value:null,reason:null,then:function(f){o.push(f)}};return i.then(function(){u.status="fulfilled",u.value=r;for(var f=0;f<o.length;f++)(0,o[f])(r)},function(f){for(u.status="rejected",u.reason=f,f=0;f<o.length;f++)(0,o[f])(void 0)}),u}var Ev=R.S;R.S=function(i,r){typeof r=="object"&&r!==null&&typeof r.then=="function"&&i1(i,r),Ev!==null&&Ev(i,r)};var Yr=Fe(null);function yd(){var i=Yr.current;return i!==null?i:We.pooledCache}function Lc(i,r){r===null?$e(Yr,Yr.current):$e(Yr,r.pool)}function Tv(){var i=yd();return i===null?null:{parent:Dt._currentValue,pool:i}}var Bs=0,De=null,Ye=null,Et=null,Uc=!1,Za=!1,Qr=!1,jc=0,Nl=0,Ja=null,r1=0;function gt(){throw Error(s(321))}function vd(i,r){if(r===null)return!1;for(var o=0;o<r.length&&o<i.length;o++)if(!Tn(i[o],r[o]))return!1;return!0}function _d(i,r,o,u,f,g){return Bs=g,De=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,R.H=i===null||i.memoizedState===null?Xr:Fs,Qr=!1,g=o(u,f),Qr=!1,Za&&(g=wv(r,o,u,f)),bv(i),g}function bv(i){R.H=yi;var r=Ye!==null&&Ye.next!==null;if(Bs=0,Et=Ye=De=null,Uc=!1,Nl=0,Ja=null,r)throw Error(s(300));i===null||Lt||(i=i.dependencies,i!==null&&Yc(i)&&(Lt=!0))}function wv(i,r,o,u){De=i;var f=0;do{if(Za&&(Ja=null),Nl=0,Za=!1,25<=f)throw Error(s(301));if(f+=1,Et=Ye=null,i.updateQueue!=null){var g=i.updateQueue;g.lastEffect=null,g.events=null,g.stores=null,g.memoCache!=null&&(g.memoCache.index=0)}R.H=Wr,g=r(o,u)}while(Za);return g}function a1(){var i=R.H,r=i.useState()[0];return r=typeof r.then=="function"?Vl(r):r,i=i.useState()[0],(Ye!==null?Ye.memoizedState:null)!==i&&(De.flags|=1024),r}function Ed(){var i=jc!==0;return jc=0,i}function Td(i,r,o){r.updateQueue=i.updateQueue,r.flags&=-2053,i.lanes&=~o}function bd(i){if(Uc){for(i=i.memoizedState;i!==null;){var r=i.queue;r!==null&&(r.pending=null),i=i.next}Uc=!1}Bs=0,Et=Ye=De=null,Za=!1,Nl=jc=0,Ja=null}function mn(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Et===null?De.memoizedState=Et=i:Et=Et.next=i,Et}function Tt(){if(Ye===null){var i=De.alternate;i=i!==null?i.memoizedState:null}else i=Ye.next;var r=Et===null?De.memoizedState:Et.next;if(r!==null)Et=r,Ye=i;else{if(i===null)throw De.alternate===null?Error(s(467)):Error(s(310));Ye=i,i={memoizedState:Ye.memoizedState,baseState:Ye.baseState,baseQueue:Ye.baseQueue,queue:Ye.queue,next:null},Et===null?De.memoizedState=Et=i:Et=Et.next=i}return Et}var Bc;Bc=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function Vl(i){var r=Nl;return Nl+=1,Ja===null&&(Ja=[]),i=fv(Ja,i,r),r=De,(Et===null?r.memoizedState:Et.next)===null&&(r=r.alternate,R.H=r===null||r.memoizedState===null?Xr:Fs),i}function Fc(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return Vl(i);if(i.$$typeof===x)return Xt(i)}throw Error(s(438,String(i)))}function wd(i){var r=null,o=De.updateQueue;if(o!==null&&(r=o.memoCache),r==null){var u=De.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(r={data:u.data.map(function(f){return f.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),o===null&&(o=Bc(),De.updateQueue=o),o.memoCache=r,o=r.data[r.index],o===void 0)for(o=r.data[r.index]=Array(i),u=0;u<i;u++)o[u]=ae;return r.index++,o}function $i(i,r){return typeof r=="function"?r(i):r}function zc(i){var r=Tt();return Sd(r,Ye,i)}function Sd(i,r,o){var u=i.queue;if(u===null)throw Error(s(311));u.lastRenderedReducer=o;var f=i.baseQueue,g=u.pending;if(g!==null){if(f!==null){var E=f.next;f.next=g.next,g.next=E}r.baseQueue=f=g,u.pending=null}if(g=i.baseState,f===null)i.memoizedState=g;else{r=f.next;var S=E=null,I=null,F=r,Z=!1;do{var te=F.lane&-536870913;if(te!==F.lane?(je&te)===te:(Bs&te)===te){var $=F.revertLane;if($===0)I!==null&&(I=I.next={lane:0,revertLane:0,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null}),te===Xa&&(Z=!0);else if((Bs&$)===$){F=F.next,$===Xa&&(Z=!0);continue}else te={lane:0,revertLane:F.revertLane,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null},I===null?(S=I=te,E=g):I=I.next=te,De.lanes|=$,Xs|=$;te=F.action,Qr&&o(g,te),g=F.hasEagerState?F.eagerState:o(g,te)}else $={lane:te,revertLane:F.revertLane,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null},I===null?(S=I=$,E=g):I=I.next=$,De.lanes|=te,Xs|=te;F=F.next}while(F!==null&&F!==r);if(I===null?E=g:I.next=S,!Tn(g,i.memoizedState)&&(Lt=!0,Z&&(o=Wa,o!==null)))throw o;i.memoizedState=g,i.baseState=E,i.baseQueue=I,u.lastRenderedState=g}return f===null&&(u.lanes=0),[i.memoizedState,u.dispatch]}function Ad(i){var r=Tt(),o=r.queue;if(o===null)throw Error(s(311));o.lastRenderedReducer=i;var u=o.dispatch,f=o.pending,g=r.memoizedState;if(f!==null){o.pending=null;var E=f=f.next;do g=i(g,E.action),E=E.next;while(E!==f);Tn(g,r.memoizedState)||(Lt=!0),r.memoizedState=g,r.baseQueue===null&&(r.baseState=g),o.lastRenderedState=g}return[g,u]}function Sv(i,r,o){var u=De,f=Tt(),g=He;if(g){if(o===void 0)throw Error(s(407));o=o()}else o=r();var E=!Tn((Ye||f).memoizedState,o);if(E&&(f.memoizedState=o,Lt=!0),f=f.queue,Cd(Rv.bind(null,u,f,i),[i]),f.getSnapshot!==r||E||Et!==null&&Et.memoizedState.tag&1){if(u.flags|=2048,eo(9,xv.bind(null,u,f,o,r),{destroy:void 0},null),We===null)throw Error(s(349));g||Bs&60||Av(u,r,o)}return o}function Av(i,r,o){i.flags|=16384,i={getSnapshot:r,value:o},r=De.updateQueue,r===null?(r=Bc(),De.updateQueue=r,r.stores=[i]):(o=r.stores,o===null?r.stores=[i]:o.push(i))}function xv(i,r,o,u){r.value=o,r.getSnapshot=u,Cv(r)&&Dv(i)}function Rv(i,r,o){return o(function(){Cv(r)&&Dv(i)})}function Cv(i){var r=i.getSnapshot;i=i.value;try{var o=r();return!Tn(i,o)}catch{return!0}}function Dv(i){var r=Ls(i,2);r!==null&&cn(r,i,2)}function xd(i){var r=mn();if(typeof i=="function"){var o=i;if(i=o(),Qr){si(!0);try{o()}finally{si(!1)}}}return r.memoizedState=r.baseState=i,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:$i,lastRenderedState:i},r}function Iv(i,r,o,u){return i.baseState=o,Sd(i,Ye,typeof u=="function"?u:$i)}function o1(i,r,o,u,f){if(Gc(i))throw Error(s(485));if(i=r.action,i!==null){var g={payload:f,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(E){g.listeners.push(E)}};R.T!==null?o(!0):g.isTransition=!1,u(g),o=r.pending,o===null?(g.next=r.pending=g,Nv(r,g)):(g.next=o.next,r.pending=o.next=g)}}function Nv(i,r){var o=r.action,u=r.payload,f=i.state;if(r.isTransition){var g=R.T,E={};R.T=E;try{var S=o(f,u),I=R.S;I!==null&&I(E,S),Vv(i,r,S)}catch(F){Rd(i,r,F)}finally{R.T=g}}else try{g=o(f,u),Vv(i,r,g)}catch(F){Rd(i,r,F)}}function Vv(i,r,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(u){Mv(i,r,u)},function(u){return Rd(i,r,u)}):Mv(i,r,o)}function Mv(i,r,o){r.status="fulfilled",r.value=o,Ov(r),i.state=o,r=i.pending,r!==null&&(o=r.next,o===r?i.pending=null:(o=o.next,r.next=o,Nv(i,o)))}function Rd(i,r,o){var u=i.pending;if(i.pending=null,u!==null){u=u.next;do r.status="rejected",r.reason=o,Ov(r),r=r.next;while(r!==u)}i.action=null}function Ov(i){i=i.listeners;for(var r=0;r<i.length;r++)(0,i[r])()}function Pv(i,r){return r}function kv(i,r){if(He){var o=We.formState;if(o!==null){e:{var u=De;if(He){if(zt){t:{for(var f=zt,g=pi;f.nodeType!==8;){if(!g){f=null;break t}if(f=ei(f.nextSibling),f===null){f=null;break t}}g=f.data,f=g==="F!"||g==="F"?f:null}if(f){zt=ei(f.nextSibling),u=f.data==="F!";break e}}Kr(u)}u=!1}u&&(r=o[0])}}return o=mn(),o.memoizedState=o.baseState=r,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Pv,lastRenderedState:r},o.queue=u,o=e_.bind(null,De,u),u.dispatch=o,u=xd(!1),g=Md.bind(null,De,!1,u.queue),u=mn(),f={state:r,dispatch:null,action:i,pending:null},u.queue=f,o=o1.bind(null,De,f,g,o),f.dispatch=o,u.memoizedState=i,[r,o,!1]}function Lv(i){var r=Tt();return Uv(r,Ye,i)}function Uv(i,r,o){r=Sd(i,r,Pv)[0],i=zc($i)[0],r=typeof r=="object"&&r!==null&&typeof r.then=="function"?Vl(r):r;var u=Tt(),f=u.queue,g=f.dispatch;return o!==u.memoizedState&&(De.flags|=2048,eo(9,l1.bind(null,f,o),{destroy:void 0},null)),[r,g,i]}function l1(i,r){i.action=r}function jv(i){var r=Tt(),o=Ye;if(o!==null)return Uv(r,o,i);Tt(),r=r.memoizedState,o=Tt();var u=o.queue.dispatch;return o.memoizedState=i,[r,u,!1]}function eo(i,r,o,u){return i={tag:i,create:r,inst:o,deps:u,next:null},r=De.updateQueue,r===null&&(r=Bc(),De.updateQueue=r),o=r.lastEffect,o===null?r.lastEffect=i.next=i:(u=o.next,o.next=i,i.next=u,r.lastEffect=i),i}function Bv(){return Tt().memoizedState}function Hc(i,r,o,u){var f=mn();De.flags|=i,f.memoizedState=eo(1|r,o,{destroy:void 0},u===void 0?null:u)}function qc(i,r,o,u){var f=Tt();u=u===void 0?null:u;var g=f.memoizedState.inst;Ye!==null&&u!==null&&vd(u,Ye.memoizedState.deps)?f.memoizedState=eo(r,o,g,u):(De.flags|=i,f.memoizedState=eo(1|r,o,g,u))}function Fv(i,r){Hc(8390656,8,i,r)}function Cd(i,r){qc(2048,8,i,r)}function zv(i,r){return qc(4,2,i,r)}function Hv(i,r){return qc(4,4,i,r)}function qv(i,r){if(typeof r=="function"){i=i();var o=r(i);return function(){typeof o=="function"?o():r(null)}}if(r!=null)return i=i(),r.current=i,function(){r.current=null}}function Gv(i,r,o){o=o!=null?o.concat([i]):null,qc(4,4,qv.bind(null,r,i),o)}function Dd(){}function Kv(i,r){var o=Tt();r=r===void 0?null:r;var u=o.memoizedState;return r!==null&&vd(r,u[1])?u[0]:(o.memoizedState=[i,r],i)}function $v(i,r){var o=Tt();r=r===void 0?null:r;var u=o.memoizedState;if(r!==null&&vd(r,u[1]))return u[0];if(u=i(),Qr){si(!0);try{i()}finally{si(!1)}}return o.memoizedState=[u,r],u}function Id(i,r,o){return o===void 0||Bs&1073741824?i.memoizedState=r:(i.memoizedState=o,i=Q_(),De.lanes|=i,Xs|=i,o)}function Yv(i,r,o,u){return Tn(o,r)?o:Qa.current!==null?(i=Id(i,o,u),Tn(i,r)||(Lt=!0),i):Bs&42?(i=Q_(),De.lanes|=i,Xs|=i,r):(Lt=!0,i.memoizedState=o)}function Qv(i,r,o,u,f){var g=ue.p;ue.p=g!==0&&8>g?g:8;var E=R.T,S={};R.T=S,Md(i,!1,r,o);try{var I=f(),F=R.S;if(F!==null&&F(S,I),I!==null&&typeof I=="object"&&typeof I.then=="function"){var Z=s1(I,u);Ml(i,r,Z,An(i))}else Ml(i,r,u,An(i))}catch(te){Ml(i,r,{then:function(){},status:"rejected",reason:te},An())}finally{ue.p=g,R.T=E}}function u1(){}function Nd(i,r,o,u){if(i.tag!==5)throw Error(s(476));var f=Xv(i).queue;Qv(i,f,r,Ce,o===null?u1:function(){return Wv(i),o(u)})}function Xv(i){var r=i.memoizedState;if(r!==null)return r;r={memoizedState:Ce,baseState:Ce,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:$i,lastRenderedState:Ce},next:null};var o={};return r.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:$i,lastRenderedState:o},next:null},i.memoizedState=r,i=i.alternate,i!==null&&(i.memoizedState=r),r}function Wv(i){var r=Xv(i).next.queue;Ml(i,r,{},An())}function Vd(){return Xt(Jl)}function Zv(){return Tt().memoizedState}function Jv(){return Tt().memoizedState}function c1(i){for(var r=i.return;r!==null;){switch(r.tag){case 24:case 3:var o=An();i=qs(o);var u=Gs(r,i,o);u!==null&&(cn(u,r,o),kl(u,r,o)),r={cache:pd()},i.payload=r;return}r=r.return}}function h1(i,r,o){var u=An();o={lane:u,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null},Gc(i)?t_(r,o):(o=ld(i,r,o,u),o!==null&&(cn(o,i,u),n_(o,r,u)))}function e_(i,r,o){var u=An();Ml(i,r,o,u)}function Ml(i,r,o,u){var f={lane:u,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null};if(Gc(i))t_(r,f);else{var g=i.alternate;if(i.lanes===0&&(g===null||g.lanes===0)&&(g=r.lastRenderedReducer,g!==null))try{var E=r.lastRenderedState,S=g(E,o);if(f.hasEagerState=!0,f.eagerState=S,Tn(S,E))return Cc(i,r,f,0),We===null&&Rc(),!1}catch{}finally{}if(o=ld(i,r,f,u),o!==null)return cn(o,i,u),n_(o,r,u),!0}return!1}function Md(i,r,o,u){if(u={lane:2,revertLane:bm(),action:u,hasEagerState:!1,eagerState:null,next:null},Gc(i)){if(r)throw Error(s(479))}else r=ld(i,o,u,2),r!==null&&cn(r,i,2)}function Gc(i){var r=i.alternate;return i===De||r!==null&&r===De}function t_(i,r){Za=Uc=!0;var o=i.pending;o===null?r.next=r:(r.next=o.next,o.next=r),i.pending=r}function n_(i,r,o){if(o&4194176){var u=r.lanes;u&=i.pendingLanes,o|=u,r.lanes=o,Rs(i,o)}}var yi={readContext:Xt,use:Fc,useCallback:gt,useContext:gt,useEffect:gt,useImperativeHandle:gt,useLayoutEffect:gt,useInsertionEffect:gt,useMemo:gt,useReducer:gt,useRef:gt,useState:gt,useDebugValue:gt,useDeferredValue:gt,useTransition:gt,useSyncExternalStore:gt,useId:gt};yi.useCacheRefresh=gt,yi.useMemoCache=gt,yi.useHostTransitionStatus=gt,yi.useFormState=gt,yi.useActionState=gt,yi.useOptimistic=gt;var Xr={readContext:Xt,use:Fc,useCallback:function(i,r){return mn().memoizedState=[i,r===void 0?null:r],i},useContext:Xt,useEffect:Fv,useImperativeHandle:function(i,r,o){o=o!=null?o.concat([i]):null,Hc(4194308,4,qv.bind(null,r,i),o)},useLayoutEffect:function(i,r){return Hc(4194308,4,i,r)},useInsertionEffect:function(i,r){Hc(4,2,i,r)},useMemo:function(i,r){var o=mn();r=r===void 0?null:r;var u=i();if(Qr){si(!0);try{i()}finally{si(!1)}}return o.memoizedState=[u,r],u},useReducer:function(i,r,o){var u=mn();if(o!==void 0){var f=o(r);if(Qr){si(!0);try{o(r)}finally{si(!1)}}}else f=r;return u.memoizedState=u.baseState=f,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:f},u.queue=i,i=i.dispatch=h1.bind(null,De,i),[u.memoizedState,i]},useRef:function(i){var r=mn();return i={current:i},r.memoizedState=i},useState:function(i){i=xd(i);var r=i.queue,o=e_.bind(null,De,r);return r.dispatch=o,[i.memoizedState,o]},useDebugValue:Dd,useDeferredValue:function(i,r){var o=mn();return Id(o,i,r)},useTransition:function(){var i=xd(!1);return i=Qv.bind(null,De,i.queue,!0,!1),mn().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,r,o){var u=De,f=mn();if(He){if(o===void 0)throw Error(s(407));o=o()}else{if(o=r(),We===null)throw Error(s(349));je&60||Av(u,r,o)}f.memoizedState=o;var g={value:o,getSnapshot:r};return f.queue=g,Fv(Rv.bind(null,u,g,i),[i]),u.flags|=2048,eo(9,xv.bind(null,u,g,o,r),{destroy:void 0},null),o},useId:function(){var i=mn(),r=We.identifierPrefix;if(He){var o=Gi,u=qi;o=(u&~(1<<32-an(u)-1)).toString(32)+o,r=":"+r+"R"+o,o=jc++,0<o&&(r+="H"+o.toString(32)),r+=":"}else o=r1++,r=":"+r+"r"+o.toString(32)+":";return i.memoizedState=r},useCacheRefresh:function(){return mn().memoizedState=c1.bind(null,De)}};Xr.useMemoCache=wd,Xr.useHostTransitionStatus=Vd,Xr.useFormState=kv,Xr.useActionState=kv,Xr.useOptimistic=function(i){var r=mn();r.memoizedState=r.baseState=i;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=o,r=Md.bind(null,De,!0,o),o.dispatch=r,[i,r]};var Fs={readContext:Xt,use:Fc,useCallback:Kv,useContext:Xt,useEffect:Cd,useImperativeHandle:Gv,useInsertionEffect:zv,useLayoutEffect:Hv,useMemo:$v,useReducer:zc,useRef:Bv,useState:function(){return zc($i)},useDebugValue:Dd,useDeferredValue:function(i,r){var o=Tt();return Yv(o,Ye.memoizedState,i,r)},useTransition:function(){var i=zc($i)[0],r=Tt().memoizedState;return[typeof i=="boolean"?i:Vl(i),r]},useSyncExternalStore:Sv,useId:Zv};Fs.useCacheRefresh=Jv,Fs.useMemoCache=wd,Fs.useHostTransitionStatus=Vd,Fs.useFormState=Lv,Fs.useActionState=Lv,Fs.useOptimistic=function(i,r){var o=Tt();return Iv(o,Ye,i,r)};var Wr={readContext:Xt,use:Fc,useCallback:Kv,useContext:Xt,useEffect:Cd,useImperativeHandle:Gv,useInsertionEffect:zv,useLayoutEffect:Hv,useMemo:$v,useReducer:Ad,useRef:Bv,useState:function(){return Ad($i)},useDebugValue:Dd,useDeferredValue:function(i,r){var o=Tt();return Ye===null?Id(o,i,r):Yv(o,Ye.memoizedState,i,r)},useTransition:function(){var i=Ad($i)[0],r=Tt().memoizedState;return[typeof i=="boolean"?i:Vl(i),r]},useSyncExternalStore:Sv,useId:Zv};Wr.useCacheRefresh=Jv,Wr.useMemoCache=wd,Wr.useHostTransitionStatus=Vd,Wr.useFormState=jv,Wr.useActionState=jv,Wr.useOptimistic=function(i,r){var o=Tt();return Ye!==null?Iv(o,Ye,i,r):(o.baseState=i,[i,o.queue.dispatch])};function Od(i,r,o,u){r=i.memoizedState,o=o(u,r),o=o==null?r:N({},r,o),i.memoizedState=o,i.lanes===0&&(i.updateQueue.baseState=o)}var Pd={isMounted:function(i){return(i=i._reactInternals)?fe(i)===i:!1},enqueueSetState:function(i,r,o){i=i._reactInternals;var u=An(),f=qs(u);f.payload=r,o!=null&&(f.callback=o),r=Gs(i,f,u),r!==null&&(cn(r,i,u),kl(r,i,u))},enqueueReplaceState:function(i,r,o){i=i._reactInternals;var u=An(),f=qs(u);f.tag=1,f.payload=r,o!=null&&(f.callback=o),r=Gs(i,f,u),r!==null&&(cn(r,i,u),kl(r,i,u))},enqueueForceUpdate:function(i,r){i=i._reactInternals;var o=An(),u=qs(o);u.tag=2,r!=null&&(u.callback=r),r=Gs(i,u,o),r!==null&&(cn(r,i,o),kl(r,i,o))}};function i_(i,r,o,u,f,g,E){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(u,g,E):r.prototype&&r.prototype.isPureReactComponent?!El(o,u)||!El(f,g):!0}function s_(i,r,o,u){i=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(o,u),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(o,u),r.state!==i&&Pd.enqueueReplaceState(r,r.state,null)}function Zr(i,r){var o=r;if("ref"in r){o={};for(var u in r)u!=="ref"&&(o[u]=r[u])}if(i=i.defaultProps){o===r&&(o=N({},o));for(var f in i)o[f]===void 0&&(o[f]=i[f])}return o}var Kc=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)};function r_(i){Kc(i)}function a_(i){console.error(i)}function o_(i){Kc(i)}function $c(i,r){try{var o=i.onUncaughtError;o(r.value,{componentStack:r.stack})}catch(u){setTimeout(function(){throw u})}}function l_(i,r,o){try{var u=i.onCaughtError;u(o.value,{componentStack:o.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function kd(i,r,o){return o=qs(o),o.tag=3,o.payload={element:null},o.callback=function(){$c(i,r)},o}function u_(i){return i=qs(i),i.tag=3,i}function c_(i,r,o,u){var f=o.type.getDerivedStateFromError;if(typeof f=="function"){var g=u.value;i.payload=function(){return f(g)},i.callback=function(){l_(r,o,u)}}var E=o.stateNode;E!==null&&typeof E.componentDidCatch=="function"&&(i.callback=function(){l_(r,o,u),typeof f!="function"&&(Ws===null?Ws=new Set([this]):Ws.add(this));var S=u.stack;this.componentDidCatch(u.value,{componentStack:S!==null?S:""})})}function f1(i,r,o,u,f){if(o.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(r=o.alternate,r!==null&&Pl(r,o,f,!0),o=Bn.current,o!==null){switch(o.tag){case 13:return gi===null?ym():o.alternate===null&&ht===0&&(ht=3),o.flags&=-257,o.flags|=65536,o.lanes=f,u===fd?o.flags|=16384:(r=o.updateQueue,r===null?o.updateQueue=new Set([u]):r.add(u),_m(i,u,f)),!1;case 22:return o.flags|=65536,u===fd?o.flags|=16384:(r=o.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([u])},o.updateQueue=r):(o=r.retryQueue,o===null?r.retryQueue=new Set([u]):o.add(u)),_m(i,u,f)),!1}throw Error(s(435,o.tag))}return _m(i,u,f),ym(),!1}if(He)return r=Bn.current,r!==null?(!(r.flags&65536)&&(r.flags|=256),r.flags|=65536,r.lanes=f,u!==hd&&(i=Error(s(422),{cause:u}),Sl(Ln(i,o)))):(u!==hd&&(r=Error(s(423),{cause:u}),Sl(Ln(r,o))),i=i.current.alternate,i.flags|=65536,f&=-f,i.lanes|=f,u=Ln(u,o),f=kd(i.stateNode,u,f),Wd(i,f),ht!==4&&(ht=2)),!1;var g=Error(s(520),{cause:u});if(g=Ln(g,o),ql===null?ql=[g]:ql.push(g),ht!==4&&(ht=2),r===null)return!0;u=Ln(u,o),o=r;do{switch(o.tag){case 3:return o.flags|=65536,i=f&-f,o.lanes|=i,i=kd(o.stateNode,u,i),Wd(o,i),!1;case 1:if(r=o.type,g=o.stateNode,(o.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(Ws===null||!Ws.has(g))))return o.flags|=65536,f&=-f,o.lanes|=f,f=u_(f),c_(f,i,o,u),Wd(o,f),!1}o=o.return}while(o!==null);return!1}var h_=Error(s(461)),Lt=!1;function Ht(i,r,o,u){r.child=i===null?gv(r,null,o,u):$r(r,i.child,o,u)}function f_(i,r,o,u,f){o=o.render;var g=r.ref;if("ref"in u){var E={};for(var S in u)S!=="ref"&&(E[S]=u[S])}else E=u;return ea(r),u=_d(i,r,o,E,g,f),S=Ed(),i!==null&&!Lt?(Td(i,r,f),Yi(i,r,f)):(He&&S&&ud(r),r.flags|=1,Ht(i,r,u,f),r.child)}function d_(i,r,o,u,f){if(i===null){var g=o.type;return typeof g=="function"&&!rm(g)&&g.defaultProps===void 0&&o.compare===null?(r.tag=15,r.type=g,m_(i,r,g,u,f)):(i=Zc(o.type,null,u,r,r.mode,f),i.ref=r.ref,i.return=r,r.child=i)}if(g=i.child,!Gd(i,f)){var E=g.memoizedProps;if(o=o.compare,o=o!==null?o:El,o(E,u)&&i.ref===r.ref)return Yi(i,r,f)}return r.flags|=1,i=Qs(g,u),i.ref=r.ref,i.return=r,r.child=i}function m_(i,r,o,u,f){if(i!==null){var g=i.memoizedProps;if(El(g,u)&&i.ref===r.ref)if(Lt=!1,r.pendingProps=u=g,Gd(i,f))i.flags&131072&&(Lt=!0);else return r.lanes=i.lanes,Yi(i,r,f)}return Ld(i,r,o,u,f)}function p_(i,r,o){var u=r.pendingProps,f=u.children,g=(r.stateNode._pendingVisibility&2)!==0,E=i!==null?i.memoizedState:null;if(Ol(i,r),u.mode==="hidden"||g){if(r.flags&128){if(u=E!==null?E.baseLanes|o:o,i!==null){for(f=r.child=i.child,g=0;f!==null;)g=g|f.lanes|f.childLanes,f=f.sibling;r.childLanes=g&~u}else r.childLanes=0,r.child=null;return g_(i,r,u,o)}if(o&536870912)r.memoizedState={baseLanes:0,cachePool:null},i!==null&&Lc(r,E!==null?E.cachePool:null),E!==null?yv(r,E):dd(),vv(r);else return r.lanes=r.childLanes=536870912,g_(i,r,E!==null?E.baseLanes|o:o,o)}else E!==null?(Lc(r,E.cachePool),yv(r,E),js(),r.memoizedState=null):(i!==null&&Lc(r,null),dd(),js());return Ht(i,r,f,o),r.child}function g_(i,r,o,u){var f=yd();return f=f===null?null:{parent:Dt._currentValue,pool:f},r.memoizedState={baseLanes:o,cachePool:f},i!==null&&Lc(r,null),dd(),vv(r),i!==null&&Pl(i,r,u,!0),null}function Ol(i,r){var o=r.ref;if(o===null)i!==null&&i.ref!==null&&(r.flags|=2097664);else{if(typeof o!="function"&&typeof o!="object")throw Error(s(284));(i===null||i.ref!==o)&&(r.flags|=2097664)}}function Ld(i,r,o,u,f){return ea(r),o=_d(i,r,o,u,void 0,f),u=Ed(),i!==null&&!Lt?(Td(i,r,f),Yi(i,r,f)):(He&&u&&ud(r),r.flags|=1,Ht(i,r,o,f),r.child)}function y_(i,r,o,u,f,g){return ea(r),r.updateQueue=null,o=wv(r,u,o,f),bv(i),u=Ed(),i!==null&&!Lt?(Td(i,r,g),Yi(i,r,g)):(He&&u&&ud(r),r.flags|=1,Ht(i,r,o,g),r.child)}function v_(i,r,o,u,f){if(ea(r),r.stateNode===null){var g=Ga,E=o.contextType;typeof E=="object"&&E!==null&&(g=Xt(E)),g=new o(u,g),r.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,g.updater=Pd,r.stateNode=g,g._reactInternals=r,g=r.stateNode,g.props=u,g.state=r.memoizedState,g.refs={},Qd(r),E=o.contextType,g.context=typeof E=="object"&&E!==null?Xt(E):Ga,g.state=r.memoizedState,E=o.getDerivedStateFromProps,typeof E=="function"&&(Od(r,o,E,u),g.state=r.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(E=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),E!==g.state&&Pd.enqueueReplaceState(g,g.state,null),Ul(r,u,g,f),Ll(),g.state=r.memoizedState),typeof g.componentDidMount=="function"&&(r.flags|=4194308),u=!0}else if(i===null){g=r.stateNode;var S=r.memoizedProps,I=Zr(o,S);g.props=I;var F=g.context,Z=o.contextType;E=Ga,typeof Z=="object"&&Z!==null&&(E=Xt(Z));var te=o.getDerivedStateFromProps;Z=typeof te=="function"||typeof g.getSnapshotBeforeUpdate=="function",S=r.pendingProps!==S,Z||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(S||F!==E)&&s_(r,g,u,E),Hs=!1;var $=r.memoizedState;g.state=$,Ul(r,u,g,f),Ll(),F=r.memoizedState,S||$!==F||Hs?(typeof te=="function"&&(Od(r,o,te,u),F=r.memoizedState),(I=Hs||i_(r,o,I,u,$,F,E))?(Z||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(r.flags|=4194308)):(typeof g.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=u,r.memoizedState=F),g.props=u,g.state=F,g.context=E,u=I):(typeof g.componentDidMount=="function"&&(r.flags|=4194308),u=!1)}else{g=r.stateNode,Xd(i,r),E=r.memoizedProps,Z=Zr(o,E),g.props=Z,te=r.pendingProps,$=g.context,F=o.contextType,I=Ga,typeof F=="object"&&F!==null&&(I=Xt(F)),S=o.getDerivedStateFromProps,(F=typeof S=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(E!==te||$!==I)&&s_(r,g,u,I),Hs=!1,$=r.memoizedState,g.state=$,Ul(r,u,g,f),Ll();var W=r.memoizedState;E!==te||$!==W||Hs||i!==null&&i.dependencies!==null&&Yc(i.dependencies)?(typeof S=="function"&&(Od(r,o,S,u),W=r.memoizedState),(Z=Hs||i_(r,o,Z,u,$,W,I)||i!==null&&i.dependencies!==null&&Yc(i.dependencies))?(F||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(u,W,I),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(u,W,I)),typeof g.componentDidUpdate=="function"&&(r.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof g.componentDidUpdate!="function"||E===i.memoizedProps&&$===i.memoizedState||(r.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||E===i.memoizedProps&&$===i.memoizedState||(r.flags|=1024),r.memoizedProps=u,r.memoizedState=W),g.props=u,g.state=W,g.context=I,u=Z):(typeof g.componentDidUpdate!="function"||E===i.memoizedProps&&$===i.memoizedState||(r.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||E===i.memoizedProps&&$===i.memoizedState||(r.flags|=1024),u=!1)}return g=u,Ol(i,r),u=(r.flags&128)!==0,g||u?(g=r.stateNode,o=u&&typeof o.getDerivedStateFromError!="function"?null:g.render(),r.flags|=1,i!==null&&u?(r.child=$r(r,i.child,null,f),r.child=$r(r,null,o,f)):Ht(i,r,o,f),r.memoizedState=g.state,i=r.child):i=Yi(i,r,f),i}function __(i,r,o,u){return wl(),r.flags|=256,Ht(i,r,o,u),r.child}var Ud={dehydrated:null,treeContext:null,retryLane:0};function jd(i){return{baseLanes:i,cachePool:Tv()}}function Bd(i,r,o){return i=i!==null?i.childLanes&~o:0,r&&(i|=qn),i}function E_(i,r,o){var u=r.pendingProps,f=!1,g=(r.flags&128)!==0,E;if((E=g)||(E=i!==null&&i.memoizedState===null?!1:(Ct.current&2)!==0),E&&(f=!0,r.flags&=-129),E=(r.flags&32)!==0,r.flags&=-33,i===null){if(He){if(f?Us(r):js(),He){var S=zt,I;if(I=S){e:{for(I=S,S=pi;I.nodeType!==8;){if(!S){S=null;break e}if(I=ei(I.nextSibling),I===null){S=null;break e}}S=I}S!==null?(r.memoizedState={dehydrated:S,treeContext:qr!==null?{id:qi,overflow:Gi}:null,retryLane:536870912},I=Hn(18,null,null,0),I.stateNode=S,I.return=r,r.child=I,un=r,zt=null,I=!0):I=!1}I||Kr(r)}if(S=r.memoizedState,S!==null&&(S=S.dehydrated,S!==null))return S.data==="$!"?r.lanes=16:r.lanes=536870912,null;Ki(r)}return S=u.children,u=u.fallback,f?(js(),f=r.mode,S=zd({mode:"hidden",children:S},f),u=na(u,f,o,null),S.return=r,u.return=r,S.sibling=u,r.child=S,f=r.child,f.memoizedState=jd(o),f.childLanes=Bd(i,E,o),r.memoizedState=Ud,u):(Us(r),Fd(r,S))}if(I=i.memoizedState,I!==null&&(S=I.dehydrated,S!==null)){if(g)r.flags&256?(Us(r),r.flags&=-257,r=Hd(i,r,o)):r.memoizedState!==null?(js(),r.child=i.child,r.flags|=128,r=null):(js(),f=u.fallback,S=r.mode,u=zd({mode:"visible",children:u.children},S),f=na(f,S,o,null),f.flags|=2,u.return=r,f.return=r,u.sibling=f,r.child=u,$r(r,i.child,null,o),u=r.child,u.memoizedState=jd(o),u.childLanes=Bd(i,E,o),r.memoizedState=Ud,r=f);else if(Us(r),S.data==="$!"){if(E=S.nextSibling&&S.nextSibling.dataset,E)var F=E.dgst;E=F,u=Error(s(419)),u.stack="",u.digest=E,Sl({value:u,source:null,stack:null}),r=Hd(i,r,o)}else if(Lt||Pl(i,r,o,!1),E=(o&i.childLanes)!==0,Lt||E){if(E=We,E!==null){if(u=o&-o,u&42)u=1;else switch(u){case 2:u=1;break;case 8:u=4;break;case 32:u=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:u=64;break;case 268435456:u=134217728;break;default:u=0}if(u=u&(E.suspendedLanes|o)?0:u,u!==0&&u!==I.retryLane)throw I.retryLane=u,Ls(i,u),cn(E,i,u),h_}S.data==="$?"||ym(),r=Hd(i,r,o)}else S.data==="$?"?(r.flags|=128,r.child=i.child,r=R1.bind(null,i),S._reactRetry=r,r=null):(i=I.treeContext,zt=ei(S.nextSibling),un=r,He=!0,Zn=null,pi=!1,i!==null&&(Un[jn++]=qi,Un[jn++]=Gi,Un[jn++]=qr,qi=i.id,Gi=i.overflow,qr=r),r=Fd(r,u.children),r.flags|=4096);return r}return f?(js(),f=u.fallback,S=r.mode,I=i.child,F=I.sibling,u=Qs(I,{mode:"hidden",children:u.children}),u.subtreeFlags=I.subtreeFlags&31457280,F!==null?f=Qs(F,f):(f=na(f,S,o,null),f.flags|=2),f.return=r,u.return=r,u.sibling=f,r.child=u,u=f,f=r.child,S=i.child.memoizedState,S===null?S=jd(o):(I=S.cachePool,I!==null?(F=Dt._currentValue,I=I.parent!==F?{parent:F,pool:F}:I):I=Tv(),S={baseLanes:S.baseLanes|o,cachePool:I}),f.memoizedState=S,f.childLanes=Bd(i,E,o),r.memoizedState=Ud,u):(Us(r),o=i.child,i=o.sibling,o=Qs(o,{mode:"visible",children:u.children}),o.return=r,o.sibling=null,i!==null&&(E=r.deletions,E===null?(r.deletions=[i],r.flags|=16):E.push(i)),r.child=o,r.memoizedState=null,o)}function Fd(i,r){return r=zd({mode:"visible",children:r},i.mode),r.return=i,i.child=r}function zd(i,r){return K_(i,r,0,null)}function Hd(i,r,o){return $r(r,i.child,null,o),i=Fd(r,r.pendingProps.children),i.flags|=2,r.memoizedState=null,i}function T_(i,r,o){i.lanes|=r;var u=i.alternate;u!==null&&(u.lanes|=r),$d(i.return,r,o)}function qd(i,r,o,u,f){var g=i.memoizedState;g===null?i.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:u,tail:o,tailMode:f}:(g.isBackwards=r,g.rendering=null,g.renderingStartTime=0,g.last=u,g.tail=o,g.tailMode=f)}function b_(i,r,o){var u=r.pendingProps,f=u.revealOrder,g=u.tail;if(Ht(i,r,u.children,o),u=Ct.current,u&2)u=u&1|2,r.flags|=128;else{if(i!==null&&i.flags&128)e:for(i=r.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&T_(i,o,r);else if(i.tag===19)T_(i,o,r);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===r)break e;for(;i.sibling===null;){if(i.return===null||i.return===r)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}u&=1}switch($e(Ct,u),f){case"forwards":for(o=r.child,f=null;o!==null;)i=o.alternate,i!==null&&kc(i)===null&&(f=o),o=o.sibling;o=f,o===null?(f=r.child,r.child=null):(f=o.sibling,o.sibling=null),qd(r,!1,f,o,g);break;case"backwards":for(o=null,f=r.child,r.child=null;f!==null;){if(i=f.alternate,i!==null&&kc(i)===null){r.child=f;break}i=f.sibling,f.sibling=o,o=f,f=i}qd(r,!0,o,null,g);break;case"together":qd(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function Yi(i,r,o){if(i!==null&&(r.dependencies=i.dependencies),Xs|=r.lanes,!(o&r.childLanes))if(i!==null){if(Pl(i,r,o,!1),(o&r.childLanes)===0)return null}else return null;if(i!==null&&r.child!==i.child)throw Error(s(153));if(r.child!==null){for(i=r.child,o=Qs(i,i.pendingProps),r.child=o,o.return=r;i.sibling!==null;)i=i.sibling,o=o.sibling=Qs(i,i.pendingProps),o.return=r;o.sibling=null}return r.child}function Gd(i,r){return i.lanes&r?!0:(i=i.dependencies,!!(i!==null&&Yc(i)))}function d1(i,r,o){switch(r.tag){case 3:Ts(r,r.stateNode.containerInfo),zs(r,Dt,i.memoizedState.cache),wl();break;case 27:case 5:Jo(r);break;case 4:Ts(r,r.stateNode.containerInfo);break;case 10:zs(r,r.type,r.memoizedProps.value);break;case 13:var u=r.memoizedState;if(u!==null)return u.dehydrated!==null?(Us(r),r.flags|=128,null):o&r.child.childLanes?E_(i,r,o):(Us(r),i=Yi(i,r,o),i!==null?i.sibling:null);Us(r);break;case 19:var f=(i.flags&128)!==0;if(u=(o&r.childLanes)!==0,u||(Pl(i,r,o,!1),u=(o&r.childLanes)!==0),f){if(u)return b_(i,r,o);r.flags|=128}if(f=r.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),$e(Ct,Ct.current),u)break;return null;case 22:case 23:return r.lanes=0,p_(i,r,o);case 24:zs(r,Dt,i.memoizedState.cache)}return Yi(i,r,o)}function w_(i,r,o){if(i!==null)if(i.memoizedProps!==r.pendingProps)Lt=!0;else{if(!Gd(i,o)&&!(r.flags&128))return Lt=!1,d1(i,r,o);Lt=!!(i.flags&131072)}else Lt=!1,He&&r.flags&1048576&&ov(r,Nc,r.index);switch(r.lanes=0,r.tag){case 16:e:{i=r.pendingProps;var u=r.elementType,f=u._init;if(u=f(u._payload),r.type=u,typeof u=="function")rm(u)?(i=Zr(u,i),r.tag=1,r=v_(null,r,u,i,o)):(r.tag=0,r=Ld(null,r,u,i,o));else{if(u!=null){if(f=u.$$typeof,f===D){r.tag=11,r=f_(null,r,u,i,o);break e}else if(f===B){r.tag=14,r=d_(null,r,u,i,o);break e}}throw r=C(u)||u,Error(s(306,r,""))}}return r;case 0:return Ld(i,r,r.type,r.pendingProps,o);case 1:return u=r.type,f=Zr(u,r.pendingProps),v_(i,r,u,f,o);case 3:e:{if(Ts(r,r.stateNode.containerInfo),i===null)throw Error(s(387));var g=r.pendingProps;f=r.memoizedState,u=f.element,Xd(i,r),Ul(r,g,null,o);var E=r.memoizedState;if(g=E.cache,zs(r,Dt,g),g!==f.cache&&Yd(r,[Dt],o,!0),Ll(),g=E.element,f.isDehydrated)if(f={element:g,isDehydrated:!1,cache:E.cache},r.updateQueue.baseState=f,r.memoizedState=f,r.flags&256){r=__(i,r,g,o);break e}else if(g!==u){u=Ln(Error(s(424)),r),Sl(u),r=__(i,r,g,o);break e}else for(zt=ei(r.stateNode.containerInfo.firstChild),un=r,He=!0,Zn=null,pi=!0,o=gv(r,null,g,o),r.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling;else{if(wl(),g===u){r=Yi(i,r,o);break e}Ht(i,r,g,o)}r=r.child}return r;case 26:return Ol(i,r),i===null?(o=x0(r.type,null,r.pendingProps,null))?r.memoizedState=o:He||(o=r.type,i=r.pendingProps,u=ch(Dn.current).createElement(o),u[Ot]=r,u[At]=i,qt(u,o,i),tt(u),r.stateNode=u):r.memoizedState=x0(r.type,i.memoizedProps,r.pendingProps,i.memoizedState),null;case 27:return Jo(r),i===null&&He&&(u=r.stateNode=w0(r.type,r.pendingProps,Dn.current),un=r,pi=!0,zt=ei(u.firstChild)),u=r.pendingProps.children,i!==null||He?Ht(i,r,u,o):r.child=$r(r,null,u,o),Ol(i,r),r.child;case 5:return i===null&&He&&((f=u=zt)&&(u=H1(u,r.type,r.pendingProps,pi),u!==null?(r.stateNode=u,un=r,zt=ei(u.firstChild),pi=!1,f=!0):f=!1),f||Kr(r)),Jo(r),f=r.type,g=r.pendingProps,E=i!==null?i.memoizedProps:null,u=g.children,Nm(f,g)?u=null:E!==null&&Nm(f,E)&&(r.flags|=32),r.memoizedState!==null&&(f=_d(i,r,a1,null,null,o),Jl._currentValue=f),Ol(i,r),Ht(i,r,u,o),r.child;case 6:return i===null&&He&&((i=o=zt)&&(o=q1(o,r.pendingProps,pi),o!==null?(r.stateNode=o,un=r,zt=null,i=!0):i=!1),i||Kr(r)),null;case 13:return E_(i,r,o);case 4:return Ts(r,r.stateNode.containerInfo),u=r.pendingProps,i===null?r.child=$r(r,null,u,o):Ht(i,r,u,o),r.child;case 11:return f_(i,r,r.type,r.pendingProps,o);case 7:return Ht(i,r,r.pendingProps,o),r.child;case 8:return Ht(i,r,r.pendingProps.children,o),r.child;case 12:return Ht(i,r,r.pendingProps.children,o),r.child;case 10:return u=r.pendingProps,zs(r,r.type,u.value),Ht(i,r,u.children,o),r.child;case 9:return f=r.type._context,u=r.pendingProps.children,ea(r),f=Xt(f),u=u(f),r.flags|=1,Ht(i,r,u,o),r.child;case 14:return d_(i,r,r.type,r.pendingProps,o);case 15:return m_(i,r,r.type,r.pendingProps,o);case 19:return b_(i,r,o);case 22:return p_(i,r,o);case 24:return ea(r),u=Xt(Dt),i===null?(f=yd(),f===null&&(f=We,g=pd(),f.pooledCache=g,g.refCount++,g!==null&&(f.pooledCacheLanes|=o),f=g),r.memoizedState={parent:u,cache:f},Qd(r),zs(r,Dt,f)):(i.lanes&o&&(Xd(i,r),Ul(r,null,null,o),Ll()),f=i.memoizedState,g=r.memoizedState,f.parent!==u?(f={parent:u,cache:u},r.memoizedState=f,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=f),zs(r,Dt,u)):(u=g.cache,zs(r,Dt,u),u!==f.cache&&Yd(r,[Dt],o,!0))),Ht(i,r,r.pendingProps.children,o),r.child;case 29:throw r.pendingProps}throw Error(s(156,r.tag))}var Kd=Fe(null),Jr=null,Qi=null;function zs(i,r,o){$e(Kd,r._currentValue),r._currentValue=o}function Xi(i){i._currentValue=Kd.current,lt(Kd)}function $d(i,r,o){for(;i!==null;){var u=i.alternate;if((i.childLanes&r)!==r?(i.childLanes|=r,u!==null&&(u.childLanes|=r)):u!==null&&(u.childLanes&r)!==r&&(u.childLanes|=r),i===o)break;i=i.return}}function Yd(i,r,o,u){var f=i.child;for(f!==null&&(f.return=i);f!==null;){var g=f.dependencies;if(g!==null){var E=f.child;g=g.firstContext;e:for(;g!==null;){var S=g;g=f;for(var I=0;I<r.length;I++)if(S.context===r[I]){g.lanes|=o,S=g.alternate,S!==null&&(S.lanes|=o),$d(g.return,o,i),u||(E=null);break e}g=S.next}}else if(f.tag===18){if(E=f.return,E===null)throw Error(s(341));E.lanes|=o,g=E.alternate,g!==null&&(g.lanes|=o),$d(E,o,i),E=null}else E=f.child;if(E!==null)E.return=f;else for(E=f;E!==null;){if(E===i){E=null;break}if(f=E.sibling,f!==null){f.return=E.return,E=f;break}E=E.return}f=E}}function Pl(i,r,o,u){i=null;for(var f=r,g=!1;f!==null;){if(!g){if(f.flags&524288)g=!0;else if(f.flags&262144)break}if(f.tag===10){var E=f.alternate;if(E===null)throw Error(s(387));if(E=E.memoizedProps,E!==null){var S=f.type;Tn(f.pendingProps.value,E.value)||(i!==null?i.push(S):i=[S])}}else if(f===Es.current){if(E=f.alternate,E===null)throw Error(s(387));E.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(i!==null?i.push(Jl):i=[Jl])}f=f.return}i!==null&&Yd(r,i,o,u),r.flags|=262144}function Yc(i){for(i=i.firstContext;i!==null;){if(!Tn(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function ea(i){Jr=i,Qi=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function Xt(i){return S_(Jr,i)}function Qc(i,r){return Jr===null&&ea(i),S_(i,r)}function S_(i,r){var o=r._currentValue;if(r={context:r,memoizedValue:o,next:null},Qi===null){if(i===null)throw Error(s(308));Qi=r,i.dependencies={lanes:0,firstContext:r},i.flags|=524288}else Qi=Qi.next=r;return o}var Hs=!1;function Qd(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Xd(i,r){i=i.updateQueue,r.updateQueue===i&&(r.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function qs(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function Gs(i,r,o){var u=i.updateQueue;if(u===null)return null;if(u=u.shared,it&2){var f=u.pending;return f===null?r.next=r:(r.next=f.next,f.next=r),u.pending=r,r=Dc(i),rv(i,null,o),r}return Cc(i,u,r,o),Dc(i)}function kl(i,r,o){if(r=r.updateQueue,r!==null&&(r=r.shared,(o&4194176)!==0)){var u=r.lanes;u&=i.pendingLanes,o|=u,r.lanes=o,Rs(i,o)}}function Wd(i,r){var o=i.updateQueue,u=i.alternate;if(u!==null&&(u=u.updateQueue,o===u)){var f=null,g=null;if(o=o.firstBaseUpdate,o!==null){do{var E={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};g===null?f=g=E:g=g.next=E,o=o.next}while(o!==null);g===null?f=g=r:g=g.next=r}else f=g=r;o={baseState:u.baseState,firstBaseUpdate:f,lastBaseUpdate:g,shared:u.shared,callbacks:u.callbacks},i.updateQueue=o;return}i=o.lastBaseUpdate,i===null?o.firstBaseUpdate=r:i.next=r,o.lastBaseUpdate=r}var Zd=!1;function Ll(){if(Zd){var i=Wa;if(i!==null)throw i}}function Ul(i,r,o,u){Zd=!1;var f=i.updateQueue;Hs=!1;var g=f.firstBaseUpdate,E=f.lastBaseUpdate,S=f.shared.pending;if(S!==null){f.shared.pending=null;var I=S,F=I.next;I.next=null,E===null?g=F:E.next=F,E=I;var Z=i.alternate;Z!==null&&(Z=Z.updateQueue,S=Z.lastBaseUpdate,S!==E&&(S===null?Z.firstBaseUpdate=F:S.next=F,Z.lastBaseUpdate=I))}if(g!==null){var te=f.baseState;E=0,Z=F=I=null,S=g;do{var $=S.lane&-536870913,W=$!==S.lane;if(W?(je&$)===$:(u&$)===$){$!==0&&$===Xa&&(Zd=!0),Z!==null&&(Z=Z.next={lane:0,tag:S.tag,payload:S.payload,callback:null,next:null});e:{var me=i,Se=S;$=r;var ft=o;switch(Se.tag){case 1:if(me=Se.payload,typeof me=="function"){te=me.call(ft,te,$);break e}te=me;break e;case 3:me.flags=me.flags&-65537|128;case 0:if(me=Se.payload,$=typeof me=="function"?me.call(ft,te,$):me,$==null)break e;te=N({},te,$);break e;case 2:Hs=!0}}$=S.callback,$!==null&&(i.flags|=64,W&&(i.flags|=8192),W=f.callbacks,W===null?f.callbacks=[$]:W.push($))}else W={lane:$,tag:S.tag,payload:S.payload,callback:S.callback,next:null},Z===null?(F=Z=W,I=te):Z=Z.next=W,E|=$;if(S=S.next,S===null){if(S=f.shared.pending,S===null)break;W=S,S=W.next,W.next=null,f.lastBaseUpdate=W,f.shared.pending=null}}while(!0);Z===null&&(I=te),f.baseState=I,f.firstBaseUpdate=F,f.lastBaseUpdate=Z,g===null&&(f.shared.lanes=0),Xs|=E,i.lanes=E,i.memoizedState=te}}function A_(i,r){if(typeof i!="function")throw Error(s(191,i));i.call(r)}function x_(i,r){var o=i.callbacks;if(o!==null)for(i.callbacks=null,i=0;i<o.length;i++)A_(o[i],r)}function jl(i,r){try{var o=r.updateQueue,u=o!==null?o.lastEffect:null;if(u!==null){var f=u.next;o=f;do{if((o.tag&i)===i){u=void 0;var g=o.create,E=o.inst;u=g(),E.destroy=u}o=o.next}while(o!==f)}}catch(S){Xe(r,r.return,S)}}function Ks(i,r,o){try{var u=r.updateQueue,f=u!==null?u.lastEffect:null;if(f!==null){var g=f.next;u=g;do{if((u.tag&i)===i){var E=u.inst,S=E.destroy;if(S!==void 0){E.destroy=void 0,f=r;var I=o;try{S()}catch(F){Xe(f,I,F)}}}u=u.next}while(u!==g)}}catch(F){Xe(r,r.return,F)}}function R_(i){var r=i.updateQueue;if(r!==null){var o=i.stateNode;try{x_(r,o)}catch(u){Xe(i,i.return,u)}}}function C_(i,r,o){o.props=Zr(i.type,i.memoizedProps),o.state=i.memoizedState;try{o.componentWillUnmount()}catch(u){Xe(i,r,u)}}function ta(i,r){try{var o=i.ref;if(o!==null){var u=i.stateNode;switch(i.tag){case 26:case 27:case 5:var f=u;break;default:f=u}typeof o=="function"?i.refCleanup=o(f):o.current=f}}catch(g){Xe(i,r,g)}}function bn(i,r){var o=i.ref,u=i.refCleanup;if(o!==null)if(typeof u=="function")try{u()}catch(f){Xe(i,r,f)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(f){Xe(i,r,f)}else o.current=null}function D_(i){var r=i.type,o=i.memoizedProps,u=i.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":o.autoFocus&&u.focus();break e;case"img":o.src?u.src=o.src:o.srcSet&&(u.srcset=o.srcSet)}}catch(f){Xe(i,i.return,f)}}function I_(i,r,o){try{var u=i.stateNode;U1(u,i.type,o,r),u[At]=r}catch(f){Xe(i,i.return,f)}}function N_(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27||i.tag===4}function Jd(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||N_(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==27&&i.tag!==18;){if(i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function em(i,r,o){var u=i.tag;if(u===5||u===6)i=i.stateNode,r?o.nodeType===8?o.parentNode.insertBefore(i,r):o.insertBefore(i,r):(o.nodeType===8?(r=o.parentNode,r.insertBefore(i,o)):(r=o,r.appendChild(i)),o=o._reactRootContainer,o!=null||r.onclick!==null||(r.onclick=uh));else if(u!==4&&u!==27&&(i=i.child,i!==null))for(em(i,r,o),i=i.sibling;i!==null;)em(i,r,o),i=i.sibling}function Xc(i,r,o){var u=i.tag;if(u===5||u===6)i=i.stateNode,r?o.insertBefore(i,r):o.appendChild(i);else if(u!==4&&u!==27&&(i=i.child,i!==null))for(Xc(i,r,o),i=i.sibling;i!==null;)Xc(i,r,o),i=i.sibling}var Wi=!1,ct=!1,tm=!1,V_=typeof WeakSet=="function"?WeakSet:Set,Ut=null,M_=!1;function m1(i,r){if(i=i.containerInfo,Dm=gh,i=Xy(i),id(i)){if("selectionStart"in i)var o={start:i.selectionStart,end:i.selectionEnd};else e:{o=(o=i.ownerDocument)&&o.defaultView||window;var u=o.getSelection&&o.getSelection();if(u&&u.rangeCount!==0){o=u.anchorNode;var f=u.anchorOffset,g=u.focusNode;u=u.focusOffset;try{o.nodeType,g.nodeType}catch{o=null;break e}var E=0,S=-1,I=-1,F=0,Z=0,te=i,$=null;t:for(;;){for(var W;te!==o||f!==0&&te.nodeType!==3||(S=E+f),te!==g||u!==0&&te.nodeType!==3||(I=E+u),te.nodeType===3&&(E+=te.nodeValue.length),(W=te.firstChild)!==null;)$=te,te=W;for(;;){if(te===i)break t;if($===o&&++F===f&&(S=E),$===g&&++Z===u&&(I=E),(W=te.nextSibling)!==null)break;te=$,$=te.parentNode}te=W}o=S===-1||I===-1?null:{start:S,end:I}}else o=null}o=o||{start:0,end:0}}else o=null;for(Im={focusedElem:i,selectionRange:o},gh=!1,Ut=r;Ut!==null;)if(r=Ut,i=r.child,(r.subtreeFlags&1028)!==0&&i!==null)i.return=r,Ut=i;else for(;Ut!==null;){switch(r=Ut,g=r.alternate,i=r.flags,r.tag){case 0:break;case 11:case 15:break;case 1:if(i&1024&&g!==null){i=void 0,o=r,f=g.memoizedProps,g=g.memoizedState,u=o.stateNode;try{var me=Zr(o.type,f,o.elementType===o.type);i=u.getSnapshotBeforeUpdate(me,g),u.__reactInternalSnapshotBeforeUpdate=i}catch(Se){Xe(o,o.return,Se)}}break;case 3:if(i&1024){if(i=r.stateNode.containerInfo,o=i.nodeType,o===9)Om(i);else if(o===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":Om(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(i&1024)throw Error(s(163))}if(i=r.sibling,i!==null){i.return=r.return,Ut=i;break}Ut=r.return}return me=M_,M_=!1,me}function O_(i,r,o){var u=o.flags;switch(o.tag){case 0:case 11:case 15:Ji(i,o),u&4&&jl(5,o);break;case 1:if(Ji(i,o),u&4)if(i=o.stateNode,r===null)try{i.componentDidMount()}catch(S){Xe(o,o.return,S)}else{var f=Zr(o.type,r.memoizedProps);r=r.memoizedState;try{i.componentDidUpdate(f,r,i.__reactInternalSnapshotBeforeUpdate)}catch(S){Xe(o,o.return,S)}}u&64&&R_(o),u&512&&ta(o,o.return);break;case 3:if(Ji(i,o),u&64&&(u=o.updateQueue,u!==null)){if(i=null,o.child!==null)switch(o.child.tag){case 27:case 5:i=o.child.stateNode;break;case 1:i=o.child.stateNode}try{x_(u,i)}catch(S){Xe(o,o.return,S)}}break;case 26:Ji(i,o),u&512&&ta(o,o.return);break;case 27:case 5:Ji(i,o),r===null&&u&4&&D_(o),u&512&&ta(o,o.return);break;case 12:Ji(i,o);break;case 13:Ji(i,o),u&4&&L_(i,o);break;case 22:if(f=o.memoizedState!==null||Wi,!f){r=r!==null&&r.memoizedState!==null||ct;var g=Wi,E=ct;Wi=f,(ct=r)&&!E?$s(i,o,(o.subtreeFlags&8772)!==0):Ji(i,o),Wi=g,ct=E}u&512&&(o.memoizedProps.mode==="manual"?ta(o,o.return):bn(o,o.return));break;default:Ji(i,o)}}function P_(i){var r=i.alternate;r!==null&&(i.alternate=null,P_(r)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(r=i.stateNode,r!==null&&Nr(r)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var bt=null,wn=!1;function Zi(i,r,o){for(o=o.child;o!==null;)k_(i,r,o),o=o.sibling}function k_(i,r,o){if(Qt&&typeof Qt.onCommitFiberUnmount=="function")try{Qt.onCommitFiberUnmount(bs,o)}catch{}switch(o.tag){case 26:ct||bn(o,r),Zi(i,r,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:ct||bn(o,r);var u=bt,f=wn;for(bt=o.stateNode,Zi(i,r,o),o=o.stateNode,r=o.attributes;r.length;)o.removeAttributeNode(r[0]);Nr(o),bt=u,wn=f;break;case 5:ct||bn(o,r);case 6:f=bt;var g=wn;if(bt=null,Zi(i,r,o),bt=f,wn=g,bt!==null)if(wn)try{i=bt,u=o.stateNode,i.nodeType===8?i.parentNode.removeChild(u):i.removeChild(u)}catch(E){Xe(o,r,E)}else try{bt.removeChild(o.stateNode)}catch(E){Xe(o,r,E)}break;case 18:bt!==null&&(wn?(r=bt,o=o.stateNode,r.nodeType===8?Mm(r.parentNode,o):r.nodeType===1&&Mm(r,o),iu(r)):Mm(bt,o.stateNode));break;case 4:u=bt,f=wn,bt=o.stateNode.containerInfo,wn=!0,Zi(i,r,o),bt=u,wn=f;break;case 0:case 11:case 14:case 15:ct||Ks(2,o,r),ct||Ks(4,o,r),Zi(i,r,o);break;case 1:ct||(bn(o,r),u=o.stateNode,typeof u.componentWillUnmount=="function"&&C_(o,r,u)),Zi(i,r,o);break;case 21:Zi(i,r,o);break;case 22:ct||bn(o,r),ct=(u=ct)||o.memoizedState!==null,Zi(i,r,o),ct=u;break;default:Zi(i,r,o)}}function L_(i,r){if(r.memoizedState===null&&(i=r.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{iu(i)}catch(o){Xe(r,r.return,o)}}function p1(i){switch(i.tag){case 13:case 19:var r=i.stateNode;return r===null&&(r=i.stateNode=new V_),r;case 22:return i=i.stateNode,r=i._retryCache,r===null&&(r=i._retryCache=new V_),r;default:throw Error(s(435,i.tag))}}function nm(i,r){var o=p1(i);r.forEach(function(u){var f=C1.bind(null,i,u);o.has(u)||(o.add(u),u.then(f,f))})}function Fn(i,r){var o=r.deletions;if(o!==null)for(var u=0;u<o.length;u++){var f=o[u],g=i,E=r,S=E;e:for(;S!==null;){switch(S.tag){case 27:case 5:bt=S.stateNode,wn=!1;break e;case 3:bt=S.stateNode.containerInfo,wn=!0;break e;case 4:bt=S.stateNode.containerInfo,wn=!0;break e}S=S.return}if(bt===null)throw Error(s(160));k_(g,E,f),bt=null,wn=!1,g=f.alternate,g!==null&&(g.return=null),f.return=null}if(r.subtreeFlags&13878)for(r=r.child;r!==null;)U_(r,i),r=r.sibling}var Jn=null;function U_(i,r){var o=i.alternate,u=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:Fn(r,i),zn(i),u&4&&(Ks(3,i,i.return),jl(3,i),Ks(5,i,i.return));break;case 1:Fn(r,i),zn(i),u&512&&(ct||o===null||bn(o,o.return)),u&64&&Wi&&(i=i.updateQueue,i!==null&&(u=i.callbacks,u!==null&&(o=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=o===null?u:o.concat(u))));break;case 26:var f=Jn;if(Fn(r,i),zn(i),u&512&&(ct||o===null||bn(o,o.return)),u&4){var g=o!==null?o.memoizedState:null;if(u=i.memoizedState,o===null)if(u===null)if(i.stateNode===null){e:{u=i.type,o=i.memoizedProps,f=f.ownerDocument||f;t:switch(u){case"title":g=f.getElementsByTagName("title")[0],(!g||g[Ds]||g[Ot]||g.namespaceURI==="http://www.w3.org/2000/svg"||g.hasAttribute("itemprop"))&&(g=f.createElement(u),f.head.insertBefore(g,f.querySelector("head > title"))),qt(g,u,o),g[Ot]=i,tt(g),u=g;break e;case"link":var E=D0("link","href",f).get(u+(o.href||""));if(E){for(var S=0;S<E.length;S++)if(g=E[S],g.getAttribute("href")===(o.href==null?null:o.href)&&g.getAttribute("rel")===(o.rel==null?null:o.rel)&&g.getAttribute("title")===(o.title==null?null:o.title)&&g.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){E.splice(S,1);break t}}g=f.createElement(u),qt(g,u,o),f.head.appendChild(g);break;case"meta":if(E=D0("meta","content",f).get(u+(o.content||""))){for(S=0;S<E.length;S++)if(g=E[S],g.getAttribute("content")===(o.content==null?null:""+o.content)&&g.getAttribute("name")===(o.name==null?null:o.name)&&g.getAttribute("property")===(o.property==null?null:o.property)&&g.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&g.getAttribute("charset")===(o.charSet==null?null:o.charSet)){E.splice(S,1);break t}}g=f.createElement(u),qt(g,u,o),f.head.appendChild(g);break;default:throw Error(s(468,u))}g[Ot]=i,tt(g),u=g}i.stateNode=u}else I0(f,i.type,i.stateNode);else i.stateNode=C0(f,u,i.memoizedProps);else g!==u?(g===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):g.count--,u===null?I0(f,i.type,i.stateNode):C0(f,u,i.memoizedProps)):u===null&&i.stateNode!==null&&I_(i,i.memoizedProps,o.memoizedProps)}break;case 27:if(u&4&&i.alternate===null){f=i.stateNode,g=i.memoizedProps;try{for(var I=f.firstChild;I;){var F=I.nextSibling,Z=I.nodeName;I[Ds]||Z==="HEAD"||Z==="BODY"||Z==="SCRIPT"||Z==="STYLE"||Z==="LINK"&&I.rel.toLowerCase()==="stylesheet"||f.removeChild(I),I=F}for(var te=i.type,$=f.attributes;$.length;)f.removeAttributeNode($[0]);qt(f,te,g),f[Ot]=i,f[At]=g}catch(me){Xe(i,i.return,me)}}case 5:if(Fn(r,i),zn(i),u&512&&(ct||o===null||bn(o,o.return)),i.flags&32){f=i.stateNode;try{Vn(f,"")}catch(me){Xe(i,i.return,me)}}u&4&&i.stateNode!=null&&(f=i.memoizedProps,I_(i,f,o!==null?o.memoizedProps:f)),u&1024&&(tm=!0);break;case 6:if(Fn(r,i),zn(i),u&4){if(i.stateNode===null)throw Error(s(162));u=i.memoizedProps,o=i.stateNode;try{o.nodeValue=u}catch(me){Xe(i,i.return,me)}}break;case 3:if(dh=null,f=Jn,Jn=hh(r.containerInfo),Fn(r,i),Jn=f,zn(i),u&4&&o!==null&&o.memoizedState.isDehydrated)try{iu(r.containerInfo)}catch(me){Xe(i,i.return,me)}tm&&(tm=!1,j_(i));break;case 4:u=Jn,Jn=hh(i.stateNode.containerInfo),Fn(r,i),zn(i),Jn=u;break;case 12:Fn(r,i),zn(i);break;case 13:Fn(r,i),zn(i),i.child.flags&8192&&i.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(hm=fn()),u&4&&(u=i.updateQueue,u!==null&&(i.updateQueue=null,nm(i,u)));break;case 22:if(u&512&&(ct||o===null||bn(o,o.return)),I=i.memoizedState!==null,F=o!==null&&o.memoizedState!==null,Z=Wi,te=ct,Wi=Z||I,ct=te||F,Fn(r,i),ct=te,Wi=Z,zn(i),r=i.stateNode,r._current=i,r._visibility&=-3,r._visibility|=r._pendingVisibility&2,u&8192&&(r._visibility=I?r._visibility&-2:r._visibility|1,I&&(r=Wi||ct,o===null||F||r||to(i)),i.memoizedProps===null||i.memoizedProps.mode!=="manual"))e:for(o=null,r=i;;){if(r.tag===5||r.tag===26||r.tag===27){if(o===null){F=o=r;try{if(f=F.stateNode,I)g=f.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none";else{E=F.stateNode,S=F.memoizedProps.style;var W=S!=null&&S.hasOwnProperty("display")?S.display:null;E.style.display=W==null||typeof W=="boolean"?"":(""+W).trim()}}catch(me){Xe(F,F.return,me)}}}else if(r.tag===6){if(o===null){F=r;try{F.stateNode.nodeValue=I?"":F.memoizedProps}catch(me){Xe(F,F.return,me)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===i)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break e;for(;r.sibling===null;){if(r.return===null||r.return===i)break e;o===r&&(o=null),r=r.return}o===r&&(o=null),r.sibling.return=r.return,r=r.sibling}u&4&&(u=i.updateQueue,u!==null&&(o=u.retryQueue,o!==null&&(u.retryQueue=null,nm(i,o))));break;case 19:Fn(r,i),zn(i),u&4&&(u=i.updateQueue,u!==null&&(i.updateQueue=null,nm(i,u)));break;case 21:break;default:Fn(r,i),zn(i)}}function zn(i){var r=i.flags;if(r&2){try{if(i.tag!==27){e:{for(var o=i.return;o!==null;){if(N_(o)){var u=o;break e}o=o.return}throw Error(s(160))}switch(u.tag){case 27:var f=u.stateNode,g=Jd(i);Xc(i,g,f);break;case 5:var E=u.stateNode;u.flags&32&&(Vn(E,""),u.flags&=-33);var S=Jd(i);Xc(i,S,E);break;case 3:case 4:var I=u.stateNode.containerInfo,F=Jd(i);em(i,F,I);break;default:throw Error(s(161))}}}catch(Z){Xe(i,i.return,Z)}i.flags&=-3}r&4096&&(i.flags&=-4097)}function j_(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var r=i;j_(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),i=i.sibling}}function Ji(i,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)O_(i,r.alternate,r),r=r.sibling}function to(i){for(i=i.child;i!==null;){var r=i;switch(r.tag){case 0:case 11:case 14:case 15:Ks(4,r,r.return),to(r);break;case 1:bn(r,r.return);var o=r.stateNode;typeof o.componentWillUnmount=="function"&&C_(r,r.return,o),to(r);break;case 26:case 27:case 5:bn(r,r.return),to(r);break;case 22:bn(r,r.return),r.memoizedState===null&&to(r);break;default:to(r)}i=i.sibling}}function $s(i,r,o){for(o=o&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var u=r.alternate,f=i,g=r,E=g.flags;switch(g.tag){case 0:case 11:case 15:$s(f,g,o),jl(4,g);break;case 1:if($s(f,g,o),u=g,f=u.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(F){Xe(u,u.return,F)}if(u=g,f=u.updateQueue,f!==null){var S=u.stateNode;try{var I=f.shared.hiddenCallbacks;if(I!==null)for(f.shared.hiddenCallbacks=null,f=0;f<I.length;f++)A_(I[f],S)}catch(F){Xe(u,u.return,F)}}o&&E&64&&R_(g),ta(g,g.return);break;case 26:case 27:case 5:$s(f,g,o),o&&u===null&&E&4&&D_(g),ta(g,g.return);break;case 12:$s(f,g,o);break;case 13:$s(f,g,o),o&&E&4&&L_(f,g);break;case 22:g.memoizedState===null&&$s(f,g,o),ta(g,g.return);break;default:$s(f,g,o)}r=r.sibling}}function im(i,r){var o=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),i=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(i=r.memoizedState.cachePool.pool),i!==o&&(i!=null&&i.refCount++,o!=null&&Dl(o))}function sm(i,r){i=null,r.alternate!==null&&(i=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==i&&(r.refCount++,i!=null&&Dl(i))}function Ys(i,r,o,u){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)B_(i,r,o,u),r=r.sibling}function B_(i,r,o,u){var f=r.flags;switch(r.tag){case 0:case 11:case 15:Ys(i,r,o,u),f&2048&&jl(9,r);break;case 3:Ys(i,r,o,u),f&2048&&(i=null,r.alternate!==null&&(i=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==i&&(r.refCount++,i!=null&&Dl(i)));break;case 12:if(f&2048){Ys(i,r,o,u),i=r.stateNode;try{var g=r.memoizedProps,E=g.id,S=g.onPostCommit;typeof S=="function"&&S(E,r.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(I){Xe(r,r.return,I)}}else Ys(i,r,o,u);break;case 23:break;case 22:g=r.stateNode,r.memoizedState!==null?g._visibility&4?Ys(i,r,o,u):Bl(i,r):g._visibility&4?Ys(i,r,o,u):(g._visibility|=4,no(i,r,o,u,(r.subtreeFlags&10256)!==0)),f&2048&&im(r.alternate,r);break;case 24:Ys(i,r,o,u),f&2048&&sm(r.alternate,r);break;default:Ys(i,r,o,u)}}function no(i,r,o,u,f){for(f=f&&(r.subtreeFlags&10256)!==0,r=r.child;r!==null;){var g=i,E=r,S=o,I=u,F=E.flags;switch(E.tag){case 0:case 11:case 15:no(g,E,S,I,f),jl(8,E);break;case 23:break;case 22:var Z=E.stateNode;E.memoizedState!==null?Z._visibility&4?no(g,E,S,I,f):Bl(g,E):(Z._visibility|=4,no(g,E,S,I,f)),f&&F&2048&&im(E.alternate,E);break;case 24:no(g,E,S,I,f),f&&F&2048&&sm(E.alternate,E);break;default:no(g,E,S,I,f)}r=r.sibling}}function Bl(i,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var o=i,u=r,f=u.flags;switch(u.tag){case 22:Bl(o,u),f&2048&&im(u.alternate,u);break;case 24:Bl(o,u),f&2048&&sm(u.alternate,u);break;default:Bl(o,u)}r=r.sibling}}var Fl=8192;function io(i){if(i.subtreeFlags&Fl)for(i=i.child;i!==null;)F_(i),i=i.sibling}function F_(i){switch(i.tag){case 26:io(i),i.flags&Fl&&i.memoizedState!==null&&iR(Jn,i.memoizedState,i.memoizedProps);break;case 5:io(i);break;case 3:case 4:var r=Jn;Jn=hh(i.stateNode.containerInfo),io(i),Jn=r;break;case 22:i.memoizedState===null&&(r=i.alternate,r!==null&&r.memoizedState!==null?(r=Fl,Fl=16777216,io(i),Fl=r):io(i));break;default:io(i)}}function z_(i){var r=i.alternate;if(r!==null&&(i=r.child,i!==null)){r.child=null;do r=i.sibling,i.sibling=null,i=r;while(i!==null)}}function zl(i){var r=i.deletions;if(i.flags&16){if(r!==null)for(var o=0;o<r.length;o++){var u=r[o];Ut=u,q_(u,i)}z_(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)H_(i),i=i.sibling}function H_(i){switch(i.tag){case 0:case 11:case 15:zl(i),i.flags&2048&&Ks(9,i,i.return);break;case 3:zl(i);break;case 12:zl(i);break;case 22:var r=i.stateNode;i.memoizedState!==null&&r._visibility&4&&(i.return===null||i.return.tag!==13)?(r._visibility&=-5,Wc(i)):zl(i);break;default:zl(i)}}function Wc(i){var r=i.deletions;if(i.flags&16){if(r!==null)for(var o=0;o<r.length;o++){var u=r[o];Ut=u,q_(u,i)}z_(i)}for(i=i.child;i!==null;){switch(r=i,r.tag){case 0:case 11:case 15:Ks(8,r,r.return),Wc(r);break;case 22:o=r.stateNode,o._visibility&4&&(o._visibility&=-5,Wc(r));break;default:Wc(r)}i=i.sibling}}function q_(i,r){for(;Ut!==null;){var o=Ut;switch(o.tag){case 0:case 11:case 15:Ks(8,o,r);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var u=o.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:Dl(o.memoizedState.cache)}if(u=o.child,u!==null)u.return=o,Ut=u;else e:for(o=i;Ut!==null;){u=Ut;var f=u.sibling,g=u.return;if(P_(u),u===o){Ut=null;break e}if(f!==null){f.return=g,Ut=f;break e}Ut=g}}}function g1(i,r,o,u){this.tag=i,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Hn(i,r,o,u){return new g1(i,r,o,u)}function rm(i){return i=i.prototype,!(!i||!i.isReactComponent)}function Qs(i,r){var o=i.alternate;return o===null?(o=Hn(i.tag,r,i.key,i.mode),o.elementType=i.elementType,o.type=i.type,o.stateNode=i.stateNode,o.alternate=i,i.alternate=o):(o.pendingProps=r,o.type=i.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=i.flags&31457280,o.childLanes=i.childLanes,o.lanes=i.lanes,o.child=i.child,o.memoizedProps=i.memoizedProps,o.memoizedState=i.memoizedState,o.updateQueue=i.updateQueue,r=i.dependencies,o.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},o.sibling=i.sibling,o.index=i.index,o.ref=i.ref,o.refCleanup=i.refCleanup,o}function G_(i,r){i.flags&=31457282;var o=i.alternate;return o===null?(i.childLanes=0,i.lanes=r,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,r=o.dependencies,i.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),i}function Zc(i,r,o,u,f,g){var E=0;if(u=i,typeof i=="function")rm(i)&&(E=1);else if(typeof i=="string")E=tR(i,o,rn.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case m:return na(o.children,f,g,r);case p:E=8,f|=24;break;case v:return i=Hn(12,o,r,f|2),i.elementType=v,i.lanes=g,i;case L:return i=Hn(13,o,r,f),i.elementType=L,i.lanes=g,i;case P:return i=Hn(19,o,r,f),i.elementType=P,i.lanes=g,i;case Y:return K_(o,f,g,r);default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case T:case x:E=10;break e;case b:E=9;break e;case D:E=11;break e;case B:E=14;break e;case Q:E=16,u=null;break e}E=29,o=Error(s(130,i===null?"null":typeof i,"")),u=null}return r=Hn(E,o,r,f),r.elementType=i,r.type=u,r.lanes=g,r}function na(i,r,o,u){return i=Hn(7,i,u,r),i.lanes=o,i}function K_(i,r,o,u){i=Hn(22,i,u,r),i.elementType=Y,i.lanes=o;var f={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var g=f._current;if(g===null)throw Error(s(456));if(!(f._pendingVisibility&2)){var E=Ls(g,2);E!==null&&(f._pendingVisibility|=2,cn(E,g,2))}},attach:function(){var g=f._current;if(g===null)throw Error(s(456));if(f._pendingVisibility&2){var E=Ls(g,2);E!==null&&(f._pendingVisibility&=-3,cn(E,g,2))}}};return i.stateNode=f,i}function am(i,r,o){return i=Hn(6,i,null,r),i.lanes=o,i}function om(i,r,o){return r=Hn(4,i.children!==null?i.children:[],i.key,r),r.lanes=o,r.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},r}function es(i){i.flags|=4}function $_(i,r){if(r.type!=="stylesheet"||r.state.loading&4)i.flags&=-16777217;else if(i.flags|=16777216,!N0(r)){if(r=Bn.current,r!==null&&((je&4194176)===je?gi!==null:(je&62914560)!==je&&!(je&536870912)||r!==gi))throw xl=fd,cv;i.flags|=8192}}function Jc(i,r){r!==null&&(i.flags|=4),i.flags&16384&&(r=i.tag!==22?As():536870912,i.lanes|=r,ro|=r)}function Hl(i,r){if(!He)switch(i.tailMode){case"hidden":r=i.tail;for(var o=null;r!==null;)r.alternate!==null&&(o=r),r=r.sibling;o===null?i.tail=null:o.sibling=null;break;case"collapsed":o=i.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?r||i.tail===null?i.tail=null:i.tail.sibling=null:u.sibling=null}}function nt(i){var r=i.alternate!==null&&i.alternate.child===i.child,o=0,u=0;if(r)for(var f=i.child;f!==null;)o|=f.lanes|f.childLanes,u|=f.subtreeFlags&31457280,u|=f.flags&31457280,f.return=i,f=f.sibling;else for(f=i.child;f!==null;)o|=f.lanes|f.childLanes,u|=f.subtreeFlags,u|=f.flags,f.return=i,f=f.sibling;return i.subtreeFlags|=u,i.childLanes=o,r}function y1(i,r,o){var u=r.pendingProps;switch(cd(r),r.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return nt(r),null;case 1:return nt(r),null;case 3:return o=r.stateNode,u=null,i!==null&&(u=i.memoizedState.cache),r.memoizedState.cache!==u&&(r.flags|=2048),Xi(Dt),Mi(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(i===null||i.child===null)&&(bl(r)?es(r):i===null||i.memoizedState.isDehydrated&&!(r.flags&256)||(r.flags|=1024,Zn!==null&&(pm(Zn),Zn=null))),nt(r),null;case 26:return o=r.memoizedState,i===null?(es(r),o!==null?(nt(r),$_(r,o)):(nt(r),r.flags&=-16777217)):o?o!==i.memoizedState?(es(r),nt(r),$_(r,o)):(nt(r),r.flags&=-16777217):(i.memoizedProps!==u&&es(r),nt(r),r.flags&=-16777217),null;case 27:Sa(r),o=Dn.current;var f=r.type;if(i!==null&&r.stateNode!=null)i.memoizedProps!==u&&es(r);else{if(!u){if(r.stateNode===null)throw Error(s(166));return nt(r),null}i=rn.current,bl(r)?lv(r):(i=w0(f,u,o),r.stateNode=i,es(r))}return nt(r),null;case 5:if(Sa(r),o=r.type,i!==null&&r.stateNode!=null)i.memoizedProps!==u&&es(r);else{if(!u){if(r.stateNode===null)throw Error(s(166));return nt(r),null}if(i=rn.current,bl(r))lv(r);else{switch(f=ch(Dn.current),i){case 1:i=f.createElementNS("http://www.w3.org/2000/svg",o);break;case 2:i=f.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;default:switch(o){case"svg":i=f.createElementNS("http://www.w3.org/2000/svg",o);break;case"math":i=f.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;case"script":i=f.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild);break;case"select":i=typeof u.is=="string"?f.createElement("select",{is:u.is}):f.createElement("select"),u.multiple?i.multiple=!0:u.size&&(i.size=u.size);break;default:i=typeof u.is=="string"?f.createElement(o,{is:u.is}):f.createElement(o)}}i[Ot]=r,i[At]=u;e:for(f=r.child;f!==null;){if(f.tag===5||f.tag===6)i.appendChild(f.stateNode);else if(f.tag!==4&&f.tag!==27&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===r)break e;for(;f.sibling===null;){if(f.return===null||f.return===r)break e;f=f.return}f.sibling.return=f.return,f=f.sibling}r.stateNode=i;e:switch(qt(i,o,u),o){case"button":case"input":case"select":case"textarea":i=!!u.autoFocus;break e;case"img":i=!0;break e;default:i=!1}i&&es(r)}}return nt(r),r.flags&=-16777217,null;case 6:if(i&&r.stateNode!=null)i.memoizedProps!==u&&es(r);else{if(typeof u!="string"&&r.stateNode===null)throw Error(s(166));if(i=Dn.current,bl(r)){if(i=r.stateNode,o=r.memoizedProps,u=null,f=un,f!==null)switch(f.tag){case 27:case 5:u=f.memoizedProps}i[Ot]=r,i=!!(i.nodeValue===o||u!==null&&u.suppressHydrationWarning===!0||y0(i.nodeValue,o)),i||Kr(r)}else i=ch(i).createTextNode(u),i[Ot]=r,r.stateNode=i}return nt(r),null;case 13:if(u=r.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(f=bl(r),u!==null&&u.dehydrated!==null){if(i===null){if(!f)throw Error(s(318));if(f=r.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(s(317));f[Ot]=r}else wl(),!(r.flags&128)&&(r.memoizedState=null),r.flags|=4;nt(r),f=!1}else Zn!==null&&(pm(Zn),Zn=null),f=!0;if(!f)return r.flags&256?(Ki(r),r):(Ki(r),null)}if(Ki(r),r.flags&128)return r.lanes=o,r;if(o=u!==null,i=i!==null&&i.memoizedState!==null,o){u=r.child,f=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(f=u.alternate.memoizedState.cachePool.pool);var g=null;u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(g=u.memoizedState.cachePool.pool),g!==f&&(u.flags|=2048)}return o!==i&&o&&(r.child.flags|=8192),Jc(r,r.updateQueue),nt(r),null;case 4:return Mi(),i===null&&xm(r.stateNode.containerInfo),nt(r),null;case 10:return Xi(r.type),nt(r),null;case 19:if(lt(Ct),f=r.memoizedState,f===null)return nt(r),null;if(u=(r.flags&128)!==0,g=f.rendering,g===null)if(u)Hl(f,!1);else{if(ht!==0||i!==null&&i.flags&128)for(i=r.child;i!==null;){if(g=kc(i),g!==null){for(r.flags|=128,Hl(f,!1),i=g.updateQueue,r.updateQueue=i,Jc(r,i),r.subtreeFlags=0,i=o,o=r.child;o!==null;)G_(o,i),o=o.sibling;return $e(Ct,Ct.current&1|2),r.child}i=i.sibling}f.tail!==null&&fn()>eh&&(r.flags|=128,u=!0,Hl(f,!1),r.lanes=4194304)}else{if(!u)if(i=kc(g),i!==null){if(r.flags|=128,u=!0,i=i.updateQueue,r.updateQueue=i,Jc(r,i),Hl(f,!0),f.tail===null&&f.tailMode==="hidden"&&!g.alternate&&!He)return nt(r),null}else 2*fn()-f.renderingStartTime>eh&&o!==536870912&&(r.flags|=128,u=!0,Hl(f,!1),r.lanes=4194304);f.isBackwards?(g.sibling=r.child,r.child=g):(i=f.last,i!==null?i.sibling=g:r.child=g,f.last=g)}return f.tail!==null?(r=f.tail,f.rendering=r,f.tail=r.sibling,f.renderingStartTime=fn(),r.sibling=null,i=Ct.current,$e(Ct,u?i&1|2:i&1),r):(nt(r),null);case 22:case 23:return Ki(r),md(),u=r.memoizedState!==null,i!==null?i.memoizedState!==null!==u&&(r.flags|=8192):u&&(r.flags|=8192),u?o&536870912&&!(r.flags&128)&&(nt(r),r.subtreeFlags&6&&(r.flags|=8192)):nt(r),o=r.updateQueue,o!==null&&Jc(r,o.retryQueue),o=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),u=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(u=r.memoizedState.cachePool.pool),u!==o&&(r.flags|=2048),i!==null&&lt(Yr),null;case 24:return o=null,i!==null&&(o=i.memoizedState.cache),r.memoizedState.cache!==o&&(r.flags|=2048),Xi(Dt),nt(r),null;case 25:return null}throw Error(s(156,r.tag))}function v1(i,r){switch(cd(r),r.tag){case 1:return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 3:return Xi(Dt),Mi(),i=r.flags,i&65536&&!(i&128)?(r.flags=i&-65537|128,r):null;case 26:case 27:case 5:return Sa(r),null;case 13:if(Ki(r),i=r.memoizedState,i!==null&&i.dehydrated!==null){if(r.alternate===null)throw Error(s(340));wl()}return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 19:return lt(Ct),null;case 4:return Mi(),null;case 10:return Xi(r.type),null;case 22:case 23:return Ki(r),md(),i!==null&&lt(Yr),i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 24:return Xi(Dt),null;case 25:return null;default:return null}}function Y_(i,r){switch(cd(r),r.tag){case 3:Xi(Dt),Mi();break;case 26:case 27:case 5:Sa(r);break;case 4:Mi();break;case 13:Ki(r);break;case 19:lt(Ct);break;case 10:Xi(r.type);break;case 22:case 23:Ki(r),md(),i!==null&&lt(Yr);break;case 24:Xi(Dt)}}var _1={getCacheForType:function(i){var r=Xt(Dt),o=r.data.get(i);return o===void 0&&(o=i(),r.data.set(i,o)),o}},E1=typeof WeakMap=="function"?WeakMap:Map,it=0,We=null,Ne=null,je=0,Ze=0,Sn=null,ts=!1,so=!1,lm=!1,ns=0,ht=0,Xs=0,ia=0,um=0,qn=0,ro=0,ql=null,vi=null,cm=!1,hm=0,eh=1/0,th=null,Ws=null,nh=!1,sa=null,Gl=0,fm=0,dm=null,Kl=0,mm=null;function An(){if(it&2&&je!==0)return je&-je;if(R.T!==null){var i=Xa;return i!==0?i:bm()}return lc()}function Q_(){qn===0&&(qn=!(je&536870912)||He?sl():536870912);var i=Bn.current;return i!==null&&(i.flags|=32),qn}function cn(i,r,o){(i===We&&Ze===2||i.cancelPendingCommit!==null)&&(ao(i,0),is(i,je,qn,!1)),pt(i,o),(!(it&2)||i!==We)&&(i===We&&(!(it&2)&&(ia|=o),ht===4&&is(i,je,qn,!1)),_i(i))}function X_(i,r,o){if(it&6)throw Error(s(327));var u=!o&&(r&60)===0&&(r&i.expiredLanes)===0||Ss(i,r),f=u?w1(i,r):vm(i,r,!0),g=u;do{if(f===0){so&&!u&&is(i,r,0,!1);break}else if(f===6)is(i,r,0,!ts);else{if(o=i.current.alternate,g&&!T1(o)){f=vm(i,r,!1),g=!1;continue}if(f===2){if(g=r,i.errorRecoveryDisabledLanes&g)var E=0;else E=i.pendingLanes&-536870913,E=E!==0?E:E&536870912?536870912:0;if(E!==0){r=E;e:{var S=i;f=ql;var I=S.current.memoizedState.isDehydrated;if(I&&(ao(S,E).flags|=256),E=vm(S,E,!1),E!==2){if(lm&&!I){S.errorRecoveryDisabledLanes|=g,ia|=g,f=4;break e}g=vi,vi=f,g!==null&&pm(g)}f=E}if(g=!1,f!==2)continue}}if(f===1){ao(i,0),is(i,r,0,!0);break}e:{switch(u=i,f){case 0:case 1:throw Error(s(345));case 4:if((r&4194176)===r){is(u,r,qn,!ts);break e}break;case 2:vi=null;break;case 3:case 5:break;default:throw Error(s(329))}if(u.finishedWork=o,u.finishedLanes=r,(r&62914560)===r&&(g=hm+300-fn(),10<g)){if(is(u,r,qn,!ts),In(u,0)!==0)break e;u.timeoutHandle=E0(W_.bind(null,u,o,vi,th,cm,r,qn,ia,ro,ts,2,-0,0),g);break e}W_(u,o,vi,th,cm,r,qn,ia,ro,ts,0,-0,0)}}break}while(!0);_i(i)}function pm(i){vi===null?vi=i:vi.push.apply(vi,i)}function W_(i,r,o,u,f,g,E,S,I,F,Z,te,$){var W=r.subtreeFlags;if((W&8192||(W&16785408)===16785408)&&(Zl={stylesheets:null,count:0,unsuspend:nR},F_(r),r=sR(),r!==null)){i.cancelPendingCommit=r(s0.bind(null,i,o,u,f,E,S,I,1,te,$)),is(i,g,E,!F);return}s0(i,o,u,f,E,S,I,Z,te,$)}function T1(i){for(var r=i;;){var o=r.tag;if((o===0||o===11||o===15)&&r.flags&16384&&(o=r.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var u=0;u<o.length;u++){var f=o[u],g=f.getSnapshot;f=f.value;try{if(!Tn(g(),f))return!1}catch{return!1}}if(o=r.child,r.subtreeFlags&16384&&o!==null)o.return=r,r=o;else{if(r===i)break;for(;r.sibling===null;){if(r.return===null||r.return===i)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function is(i,r,o,u){r&=~um,r&=~ia,i.suspendedLanes|=r,i.pingedLanes&=~r,u&&(i.warmLanes|=r),u=i.expirationTimes;for(var f=r;0<f;){var g=31-an(f),E=1<<g;u[g]=-1,f&=~E}o!==0&&xs(i,o,r)}function ih(){return it&6?!0:($l(0),!1)}function gm(){if(Ne!==null){if(Ze===0)var i=Ne.return;else i=Ne,Qi=Jr=null,bd(i),Ya=null,Rl=0,i=Ne;for(;i!==null;)Y_(i.alternate,i),i=i.return;Ne=null}}function ao(i,r){i.finishedWork=null,i.finishedLanes=0;var o=i.timeoutHandle;o!==-1&&(i.timeoutHandle=-1,B1(o)),o=i.cancelPendingCommit,o!==null&&(i.cancelPendingCommit=null,o()),gm(),We=i,Ne=o=Qs(i.current,null),je=r,Ze=0,Sn=null,ts=!1,so=Ss(i,r),lm=!1,ro=qn=um=ia=Xs=ht=0,vi=ql=null,cm=!1,r&8&&(r|=r&32);var u=i.entangledLanes;if(u!==0)for(i=i.entanglements,u&=r;0<u;){var f=31-an(u),g=1<<f;r|=i[f],u&=~g}return ns=r,Rc(),o}function Z_(i,r){De=null,R.H=yi,r===Al?(r=dv(),Ze=3):r===cv?(r=dv(),Ze=4):Ze=r===h_?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,Sn=r,Ne===null&&(ht=1,$c(i,Ln(r,i.current)))}function J_(){var i=R.H;return R.H=yi,i===null?yi:i}function e0(){var i=R.A;return R.A=_1,i}function ym(){ht=4,ts||(je&4194176)!==je&&Bn.current!==null||(so=!0),!(Xs&134217727)&&!(ia&134217727)||We===null||is(We,je,qn,!1)}function vm(i,r,o){var u=it;it|=2;var f=J_(),g=e0();(We!==i||je!==r)&&(th=null,ao(i,r)),r=!1;var E=ht;e:do try{if(Ze!==0&&Ne!==null){var S=Ne,I=Sn;switch(Ze){case 8:gm(),E=6;break e;case 3:case 2:case 6:Bn.current===null&&(r=!0);var F=Ze;if(Ze=0,Sn=null,oo(i,S,I,F),o&&so){E=0;break e}break;default:F=Ze,Ze=0,Sn=null,oo(i,S,I,F)}}b1(),E=ht;break}catch(Z){Z_(i,Z)}while(!0);return r&&i.shellSuspendCounter++,Qi=Jr=null,it=u,R.H=f,R.A=g,Ne===null&&(We=null,je=0,Rc()),E}function b1(){for(;Ne!==null;)t0(Ne)}function w1(i,r){var o=it;it|=2;var u=J_(),f=e0();We!==i||je!==r?(th=null,eh=fn()+500,ao(i,r)):so=Ss(i,r);e:do try{if(Ze!==0&&Ne!==null){r=Ne;var g=Sn;t:switch(Ze){case 1:Ze=0,Sn=null,oo(i,r,g,1);break;case 2:if(hv(g)){Ze=0,Sn=null,n0(r);break}r=function(){Ze===2&&We===i&&(Ze=7),_i(i)},g.then(r,r);break e;case 3:Ze=7;break e;case 4:Ze=5;break e;case 7:hv(g)?(Ze=0,Sn=null,n0(r)):(Ze=0,Sn=null,oo(i,r,g,7));break;case 5:var E=null;switch(Ne.tag){case 26:E=Ne.memoizedState;case 5:case 27:var S=Ne;if(!E||N0(E)){Ze=0,Sn=null;var I=S.sibling;if(I!==null)Ne=I;else{var F=S.return;F!==null?(Ne=F,sh(F)):Ne=null}break t}}Ze=0,Sn=null,oo(i,r,g,5);break;case 6:Ze=0,Sn=null,oo(i,r,g,6);break;case 8:gm(),ht=6;break e;default:throw Error(s(462))}}S1();break}catch(Z){Z_(i,Z)}while(!0);return Qi=Jr=null,R.H=u,R.A=f,it=o,Ne!==null?0:(We=null,je=0,Rc(),ht)}function S1(){for(;Ne!==null&&!Kf();)t0(Ne)}function t0(i){var r=w_(i.alternate,i,ns);i.memoizedProps=i.pendingProps,r===null?sh(i):Ne=r}function n0(i){var r=i,o=r.alternate;switch(r.tag){case 15:case 0:r=y_(o,r,r.pendingProps,r.type,void 0,je);break;case 11:r=y_(o,r,r.pendingProps,r.type.render,r.ref,je);break;case 5:bd(r);default:Y_(o,r),r=Ne=G_(r,ns),r=w_(o,r,ns)}i.memoizedProps=i.pendingProps,r===null?sh(i):Ne=r}function oo(i,r,o,u){Qi=Jr=null,bd(r),Ya=null,Rl=0;var f=r.return;try{if(f1(i,f,r,o,je)){ht=1,$c(i,Ln(o,i.current)),Ne=null;return}}catch(g){if(f!==null)throw Ne=f,g;ht=1,$c(i,Ln(o,i.current)),Ne=null;return}r.flags&32768?(He||u===1?i=!0:so||je&536870912?i=!1:(ts=i=!0,(u===2||u===3||u===6)&&(u=Bn.current,u!==null&&u.tag===13&&(u.flags|=16384))),i0(r,i)):sh(r)}function sh(i){var r=i;do{if(r.flags&32768){i0(r,ts);return}i=r.return;var o=y1(r.alternate,r,ns);if(o!==null){Ne=o;return}if(r=r.sibling,r!==null){Ne=r;return}Ne=r=i}while(r!==null);ht===0&&(ht=5)}function i0(i,r){do{var o=v1(i.alternate,i);if(o!==null){o.flags&=32767,Ne=o;return}if(o=i.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!r&&(i=i.sibling,i!==null)){Ne=i;return}Ne=i=o}while(i!==null);ht=6,Ne=null}function s0(i,r,o,u,f,g,E,S,I,F){var Z=R.T,te=ue.p;try{ue.p=2,R.T=null,A1(i,r,o,u,te,f,g,E,S,I,F)}finally{R.T=Z,ue.p=te}}function A1(i,r,o,u,f,g,E,S){do lo();while(sa!==null);if(it&6)throw Error(s(327));var I=i.finishedWork;if(u=i.finishedLanes,I===null)return null;if(i.finishedWork=null,i.finishedLanes=0,I===i.current)throw Error(s(177));i.callbackNode=null,i.callbackPriority=0,i.cancelPendingCommit=null;var F=I.lanes|I.childLanes;if(F|=od,ac(i,u,F,g,E,S),i===We&&(Ne=We=null,je=0),!(I.subtreeFlags&10256)&&!(I.flags&10256)||nh||(nh=!0,fm=F,dm=o,D1(Oi,function(){return lo(),null})),o=(I.flags&15990)!==0,I.subtreeFlags&15990||o?(o=R.T,R.T=null,g=ue.p,ue.p=2,E=it,it|=4,m1(i,I),U_(I,i),Qx(Im,i.containerInfo),gh=!!Dm,Im=Dm=null,i.current=I,O_(i,I.alternate,I),el(),it=E,ue.p=g,R.T=o):i.current=I,nh?(nh=!1,sa=i,Gl=u):r0(i,F),F=i.pendingLanes,F===0&&(Ws=null),nl(I.stateNode),_i(i),r!==null)for(f=i.onRecoverableError,I=0;I<r.length;I++)F=r[I],f(F.value,{componentStack:F.stack});return Gl&3&&lo(),F=i.pendingLanes,u&4194218&&F&42?i===mm?Kl++:(Kl=0,mm=i):Kl=0,$l(0),null}function r0(i,r){(i.pooledCacheLanes&=r)===0&&(r=i.pooledCache,r!=null&&(i.pooledCache=null,Dl(r)))}function lo(){if(sa!==null){var i=sa,r=fm;fm=0;var o=oc(Gl),u=R.T,f=ue.p;try{if(ue.p=32>o?32:o,R.T=null,sa===null)var g=!1;else{o=dm,dm=null;var E=sa,S=Gl;if(sa=null,Gl=0,it&6)throw Error(s(331));var I=it;if(it|=4,H_(E.current),B_(E,E.current,S,o),it=I,$l(0,!1),Qt&&typeof Qt.onPostCommitFiberRoot=="function")try{Qt.onPostCommitFiberRoot(bs,E)}catch{}g=!0}return g}finally{ue.p=f,R.T=u,r0(i,r)}}return!1}function a0(i,r,o){r=Ln(o,r),r=kd(i.stateNode,r,2),i=Gs(i,r,2),i!==null&&(pt(i,2),_i(i))}function Xe(i,r,o){if(i.tag===3)a0(i,i,o);else for(;r!==null;){if(r.tag===3){a0(r,i,o);break}else if(r.tag===1){var u=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(Ws===null||!Ws.has(u))){i=Ln(o,i),o=u_(2),u=Gs(r,o,2),u!==null&&(c_(o,u,r,i),pt(u,2),_i(u));break}}r=r.return}}function _m(i,r,o){var u=i.pingCache;if(u===null){u=i.pingCache=new E1;var f=new Set;u.set(r,f)}else f=u.get(r),f===void 0&&(f=new Set,u.set(r,f));f.has(o)||(lm=!0,f.add(o),i=x1.bind(null,i,r,o),r.then(i,i))}function x1(i,r,o){var u=i.pingCache;u!==null&&u.delete(r),i.pingedLanes|=i.suspendedLanes&o,i.warmLanes&=~o,We===i&&(je&o)===o&&(ht===4||ht===3&&(je&62914560)===je&&300>fn()-hm?!(it&2)&&ao(i,0):um|=o,ro===je&&(ro=0)),_i(i)}function o0(i,r){r===0&&(r=As()),i=Ls(i,r),i!==null&&(pt(i,r),_i(i))}function R1(i){var r=i.memoizedState,o=0;r!==null&&(o=r.retryLane),o0(i,o)}function C1(i,r){var o=0;switch(i.tag){case 13:var u=i.stateNode,f=i.memoizedState;f!==null&&(o=f.retryLane);break;case 19:u=i.stateNode;break;case 22:u=i.stateNode._retryCache;break;default:throw Error(s(314))}u!==null&&u.delete(r),o0(i,o)}function D1(i,r){return Cr(i,r)}var rh=null,uo=null,Em=!1,ah=!1,Tm=!1,ra=0;function _i(i){i!==uo&&i.next===null&&(uo===null?rh=uo=i:uo=uo.next=i),ah=!0,Em||(Em=!0,N1(I1))}function $l(i,r){if(!Tm&&ah){Tm=!0;do for(var o=!1,u=rh;u!==null;){if(i!==0){var f=u.pendingLanes;if(f===0)var g=0;else{var E=u.suspendedLanes,S=u.pingedLanes;g=(1<<31-an(42|i)+1)-1,g&=f&~(E&~S),g=g&201326677?g&201326677|1:g?g|2:0}g!==0&&(o=!0,c0(u,g))}else g=je,g=In(u,u===We?g:0),!(g&3)||Ss(u,g)||(o=!0,c0(u,g));u=u.next}while(o);Tm=!1}}function I1(){ah=Em=!1;var i=0;ra!==0&&(j1()&&(i=ra),ra=0);for(var r=fn(),o=null,u=rh;u!==null;){var f=u.next,g=l0(u,r);g===0?(u.next=null,o===null?rh=f:o.next=f,f===null&&(uo=o)):(o=u,(i!==0||g&3)&&(ah=!0)),u=f}$l(i)}function l0(i,r){for(var o=i.suspendedLanes,u=i.pingedLanes,f=i.expirationTimes,g=i.pendingLanes&-62914561;0<g;){var E=31-an(g),S=1<<E,I=f[E];I===-1?(!(S&o)||S&u)&&(f[E]=Ra(S,r)):I<=r&&(i.expiredLanes|=S),g&=~S}if(r=We,o=je,o=In(i,i===r?o:0),u=i.callbackNode,o===0||i===r&&Ze===2||i.cancelPendingCommit!==null)return u!==null&&u!==null&&xa(u),i.callbackNode=null,i.callbackPriority=0;if(!(o&3)||Ss(i,o)){if(r=o&-o,r===i.callbackPriority)return r;switch(u!==null&&xa(u),oc(o)){case 2:case 8:o=Mt;break;case 32:o=Oi;break;case 268435456:o=tl;break;default:o=Oi}return u=u0.bind(null,i),o=Cr(o,u),i.callbackPriority=r,i.callbackNode=o,r}return u!==null&&u!==null&&xa(u),i.callbackPriority=2,i.callbackNode=null,2}function u0(i,r){var o=i.callbackNode;if(lo()&&i.callbackNode!==o)return null;var u=je;return u=In(i,i===We?u:0),u===0?null:(X_(i,u,r),l0(i,fn()),i.callbackNode!=null&&i.callbackNode===o?u0.bind(null,i):null)}function c0(i,r){if(lo())return null;X_(i,r,!0)}function N1(i){F1(function(){it&6?Cr(St,i):i()})}function bm(){return ra===0&&(ra=sl()),ra}function h0(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:li(""+i)}function f0(i,r){var o=r.ownerDocument.createElement("input");return o.name=r.name,o.value=r.value,i.id&&o.setAttribute("form",i.id),r.parentNode.insertBefore(o,r),i=new FormData(i),o.parentNode.removeChild(o),i}function V1(i,r,o,u,f){if(r==="submit"&&o&&o.stateNode===f){var g=h0((f[At]||null).action),E=u.submitter;E&&(r=(r=E[At]||null)?h0(r.formAction):E.getAttribute("formAction"),r!==null&&(g=r,E=null));var S=new Oa("action","action",null,u,f);i.push({event:S,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(ra!==0){var I=E?f0(f,E):new FormData(f);Nd(o,{pending:!0,data:I,method:f.method,action:g},null,I)}}else typeof g=="function"&&(S.preventDefault(),I=E?f0(f,E):new FormData(f),Nd(o,{pending:!0,data:I,method:f.method,action:g},g,I))},currentTarget:f}]})}}for(var wm=0;wm<sv.length;wm++){var Sm=sv[wm],M1=Sm.toLowerCase(),O1=Sm[0].toUpperCase()+Sm.slice(1);Wn(M1,"on"+O1)}Wn(Jy,"onAnimationEnd"),Wn(ev,"onAnimationIteration"),Wn(tv,"onAnimationStart"),Wn("dblclick","onDoubleClick"),Wn("focusin","onFocus"),Wn("focusout","onBlur"),Wn(Wx,"onTransitionRun"),Wn(Zx,"onTransitionStart"),Wn(Jx,"onTransitionCancel"),Wn(nv,"onTransitionEnd"),dn("onMouseEnter",["mouseout","mouseover"]),dn("onMouseLeave",["mouseout","mouseover"]),dn("onPointerEnter",["pointerout","pointerover"]),dn("onPointerLeave",["pointerout","pointerover"]),_n("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),_n("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),_n("onBeforeInput",["compositionend","keypress","textInput","paste"]),_n("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),_n("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),_n("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Yl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),P1=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Yl));function d0(i,r){r=(r&4)!==0;for(var o=0;o<i.length;o++){var u=i[o],f=u.event;u=u.listeners;e:{var g=void 0;if(r)for(var E=u.length-1;0<=E;E--){var S=u[E],I=S.instance,F=S.currentTarget;if(S=S.listener,I!==g&&f.isPropagationStopped())break e;g=S,f.currentTarget=F;try{g(f)}catch(Z){Kc(Z)}f.currentTarget=null,g=I}else for(E=0;E<u.length;E++){if(S=u[E],I=S.instance,F=S.currentTarget,S=S.listener,I!==g&&f.isPropagationStopped())break e;g=S,f.currentTarget=F;try{g(f)}catch(Z){Kc(Z)}f.currentTarget=null,g=I}}}}function Oe(i,r){var o=r[Ir];o===void 0&&(o=r[Ir]=new Set);var u=i+"__bubble";o.has(u)||(m0(r,i,2,!1),o.add(u))}function Am(i,r,o){var u=0;r&&(u|=4),m0(o,i,u,r)}var oh="_reactListening"+Math.random().toString(36).slice(2);function xm(i){if(!i[oh]){i[oh]=!0,al.forEach(function(o){o!=="selectionchange"&&(P1.has(o)||Am(o,!1,i),Am(o,!0,i))});var r=i.nodeType===9?i:i.ownerDocument;r===null||r[oh]||(r[oh]=!0,Am("selectionchange",!1,r))}}function m0(i,r,o,u){switch(L0(r)){case 2:var f=oR;break;case 8:f=lR;break;default:f=jm}o=f.bind(null,r,o,i),f=void 0,!On||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(f=!0),u?f!==void 0?i.addEventListener(r,o,{capture:!0,passive:f}):i.addEventListener(r,o,!0):f!==void 0?i.addEventListener(r,o,{passive:f}):i.addEventListener(r,o,!1)}function Rm(i,r,o,u,f){var g=u;if(!(r&1)&&!(r&2)&&u!==null)e:for(;;){if(u===null)return;var E=u.tag;if(E===3||E===4){var S=u.stateNode.containerInfo;if(S===f||S.nodeType===8&&S.parentNode===f)break;if(E===4)for(E=u.return;E!==null;){var I=E.tag;if((I===3||I===4)&&(I=E.stateNode.containerInfo,I===f||I.nodeType===8&&I.parentNode===f))return;E=E.return}for(;S!==null;){if(E=Xn(S),E===null)return;if(I=E.tag,I===5||I===6||I===26||I===27){u=g=E;continue e}S=S.parentNode}}u=u.return}fc(function(){var F=g,Z=Ma(o),te=[];e:{var $=iv.get(i);if($!==void 0){var W=Oa,me=i;switch(i){case"keypress":if(ci(o)===0)break e;case"keydown":case"keyup":W=Ba;break;case"focusin":me="focus",W=La;break;case"focusout":me="blur",W=La;break;case"beforeblur":case"afterblur":W=La;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":W=Pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":W=Jf;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":W=Ec;break;case Jy:case ev:case tv:W=Ua;break;case nv:W=bc;break;case"scroll":case"scrollend":W=dc;break;case"wheel":W=Fa;break;case"copy":case"cut":case"paste":W=ja;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":W=vl;break;case"toggle":case"beforetoggle":W=Sc}var Se=(r&4)!==0,ft=!Se&&(i==="scroll"||i==="scrollend"),z=Se?$!==null?$+"Capture":null:$;Se=[];for(var j=F,K;j!==null;){var J=j;if(K=J.stateNode,J=J.tag,J!==5&&J!==26&&J!==27||K===null||z===null||(J=Pr(j,z),J!=null&&Se.push(Ql(j,J,K))),ft)break;j=j.return}0<Se.length&&($=new W($,me,null,o,Z),te.push({event:$,listeners:Se}))}}if(!(r&7)){e:{if($=i==="mouseover"||i==="pointerover",W=i==="mouseout"||i==="pointerout",$&&o!==Mn&&(me=o.relatedTarget||o.fromElement)&&(Xn(me)||me[Pi]))break e;if((W||$)&&($=Z.window===Z?Z:($=Z.ownerDocument)?$.defaultView||$.parentWindow:window,W?(me=o.relatedTarget||o.toElement,W=F,me=me?Xn(me):null,me!==null&&(ft=fe(me),Se=me.tag,me!==ft||Se!==5&&Se!==27&&Se!==6)&&(me=null)):(W=null,me=F),W!==me)){if(Se=Pn,J="onMouseLeave",z="onMouseEnter",j="mouse",(i==="pointerout"||i==="pointerover")&&(Se=vl,J="onPointerLeave",z="onPointerEnter",j="pointer"),ft=W==null?$:Is(W),K=me==null?$:Is(me),$=new Se(J,j+"leave",W,o,Z),$.target=ft,$.relatedTarget=K,J=null,Xn(Z)===F&&(Se=new Se(z,j+"enter",me,o,Z),Se.target=K,Se.relatedTarget=ft,J=Se),ft=J,W&&me)t:{for(Se=W,z=me,j=0,K=Se;K;K=co(K))j++;for(K=0,J=z;J;J=co(J))K++;for(;0<j-K;)Se=co(Se),j--;for(;0<K-j;)z=co(z),K--;for(;j--;){if(Se===z||z!==null&&Se===z.alternate)break t;Se=co(Se),z=co(z)}Se=null}else Se=null;W!==null&&p0(te,$,W,Se,!1),me!==null&&ft!==null&&p0(te,ft,me,Se,!0)}}e:{if($=F?Is(F):window,W=$.nodeName&&$.nodeName.toLowerCase(),W==="select"||W==="input"&&$.type==="file")var de=zy;else if(Rt($))if(Hy)de=$x;else{de=Gx;var Ie=qx}else W=$.nodeName,!W||W.toLowerCase()!=="input"||$.type!=="checkbox"&&$.type!=="radio"?F&&hl(F.elementType)&&(de=zy):de=Kx;if(de&&(de=de(i,F))){Hi(te,de,o,Z);break e}Ie&&Ie(i,$,F),i==="focusout"&&F&&$.type==="number"&&F.memoizedProps.value!=null&&Va($,"number",$.value)}switch(Ie=F?Is(F):window,i){case"focusin":(Rt(Ie)||Ie.contentEditable==="true")&&(za=Ie,sd=F,Tl=null);break;case"focusout":Tl=sd=za=null;break;case"mousedown":rd=!0;break;case"contextmenu":case"mouseup":case"dragend":rd=!1,Wy(te,o,Z);break;case"selectionchange":if(Xx)break;case"keydown":case"keyup":Wy(te,o,Z)}var ye;if(di)e:{switch(i){case"compositionstart":var _e="onCompositionStart";break e;case"compositionend":_e="onCompositionEnd";break e;case"compositionupdate":_e="onCompositionUpdate";break e}_e=void 0}else Le?X(i,o)&&(_e="onCompositionEnd"):i==="keydown"&&o.keyCode===229&&(_e="onCompositionStart");_e&&(_&&o.locale!=="ko"&&(Le||_e!=="onCompositionStart"?_e==="onCompositionEnd"&&Le&&(ye=dl()):(ui=Z,ks="value"in ui?ui.value:ui.textContent,Le=!0)),Ie=lh(F,_e),0<Ie.length&&(_e=new gl(_e,i,null,o,Z),te.push({event:_e,listeners:Ie}),ye?_e.data=ye:(ye=re(o),ye!==null&&(_e.data=ye)))),(ye=y?xt(i,o):Ue(i,o))&&(_e=lh(F,"onBeforeInput"),0<_e.length&&(Ie=new gl("onBeforeInput","beforeinput",null,o,Z),te.push({event:Ie,listeners:_e}),Ie.data=ye)),V1(te,i,F,o,Z)}d0(te,r)})}function Ql(i,r,o){return{instance:i,listener:r,currentTarget:o}}function lh(i,r){for(var o=r+"Capture",u=[];i!==null;){var f=i,g=f.stateNode;f=f.tag,f!==5&&f!==26&&f!==27||g===null||(f=Pr(i,o),f!=null&&u.unshift(Ql(i,f,g)),f=Pr(i,r),f!=null&&u.push(Ql(i,f,g))),i=i.return}return u}function co(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function p0(i,r,o,u,f){for(var g=r._reactName,E=[];o!==null&&o!==u;){var S=o,I=S.alternate,F=S.stateNode;if(S=S.tag,I!==null&&I===u)break;S!==5&&S!==26&&S!==27||F===null||(I=F,f?(F=Pr(o,g),F!=null&&E.unshift(Ql(o,F,I))):f||(F=Pr(o,g),F!=null&&E.push(Ql(o,F,I)))),o=o.return}E.length!==0&&i.push({event:r,listeners:E})}var k1=/\r\n?/g,L1=/\u0000|\uFFFD/g;function g0(i){return(typeof i=="string"?i:""+i).replace(k1,`
`).replace(L1,"")}function y0(i,r){return r=g0(r),g0(i)===r}function uh(){}function Qe(i,r,o,u,f,g){switch(o){case"children":typeof u=="string"?r==="body"||r==="textarea"&&u===""||Vn(i,u):(typeof u=="number"||typeof u=="bigint")&&r!=="body"&&Vn(i,""+u);break;case"className":Ms(i,"class",u);break;case"tabIndex":Ms(i,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":Ms(i,o,u);break;case"style":hc(i,u,g);break;case"data":if(r!=="object"){Ms(i,"data",u);break}case"src":case"href":if(u===""&&(r!=="a"||o!=="href")){i.removeAttribute(o);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){i.removeAttribute(o);break}u=li(""+u),i.setAttribute(o,u);break;case"action":case"formAction":if(typeof u=="function"){i.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof g=="function"&&(o==="formAction"?(r!=="input"&&Qe(i,r,"name",f.name,f,null),Qe(i,r,"formEncType",f.formEncType,f,null),Qe(i,r,"formMethod",f.formMethod,f,null),Qe(i,r,"formTarget",f.formTarget,f,null)):(Qe(i,r,"encType",f.encType,f,null),Qe(i,r,"method",f.method,f,null),Qe(i,r,"target",f.target,f,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){i.removeAttribute(o);break}u=li(""+u),i.setAttribute(o,u);break;case"onClick":u!=null&&(i.onclick=uh);break;case"onScroll":u!=null&&Oe("scroll",i);break;case"onScrollEnd":u!=null&&Oe("scrollend",i);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(s(61));if(o=u.__html,o!=null){if(f.children!=null)throw Error(s(60));i.innerHTML=o}}break;case"multiple":i.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":i.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){i.removeAttribute("xlink:href");break}o=li(""+u),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(o,""+u):i.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(o,""):i.removeAttribute(o);break;case"capture":case"download":u===!0?i.setAttribute(o,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(o,u):i.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?i.setAttribute(o,u):i.removeAttribute(o);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?i.removeAttribute(o):i.setAttribute(o,u);break;case"popover":Oe("beforetoggle",i),Oe("toggle",i),Vs(i,"popover",u);break;case"xlinkActuate":Nn(i,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":Nn(i,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":Nn(i,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":Nn(i,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":Nn(i,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":Nn(i,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":Nn(i,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":Nn(i,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":Nn(i,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":Vs(i,"is",u);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=Wf.get(o)||o,Vs(i,o,u))}}function Cm(i,r,o,u,f,g){switch(o){case"style":hc(i,u,g);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(s(61));if(o=u.__html,o!=null){if(f.children!=null)throw Error(s(60));i.innerHTML=o}}break;case"children":typeof u=="string"?Vn(i,u):(typeof u=="number"||typeof u=="bigint")&&Vn(i,""+u);break;case"onScroll":u!=null&&Oe("scroll",i);break;case"onScrollEnd":u!=null&&Oe("scrollend",i);break;case"onClick":u!=null&&(i.onclick=uh);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ia.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(f=o.endsWith("Capture"),r=o.slice(2,f?o.length-7:void 0),g=i[At]||null,g=g!=null?g[o]:null,typeof g=="function"&&i.removeEventListener(r,g,f),typeof u=="function")){typeof g!="function"&&g!==null&&(o in i?i[o]=null:i.hasAttribute(o)&&i.removeAttribute(o)),i.addEventListener(r,u,f);break e}o in i?i[o]=u:u===!0?i.setAttribute(o,""):Vs(i,o,u)}}}function qt(i,r,o){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Oe("error",i),Oe("load",i);var u=!1,f=!1,g;for(g in o)if(o.hasOwnProperty(g)){var E=o[g];if(E!=null)switch(g){case"src":u=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:Qe(i,r,g,E,o,null)}}f&&Qe(i,r,"srcSet",o.srcSet,o,null),u&&Qe(i,r,"src",o.src,o,null);return;case"input":Oe("invalid",i);var S=g=E=f=null,I=null,F=null;for(u in o)if(o.hasOwnProperty(u)){var Z=o[u];if(Z!=null)switch(u){case"name":f=Z;break;case"type":E=Z;break;case"checked":I=Z;break;case"defaultChecked":F=Z;break;case"value":g=Z;break;case"defaultValue":S=Z;break;case"children":case"dangerouslySetInnerHTML":if(Z!=null)throw Error(s(137,r));break;default:Qe(i,r,u,Z,o,null)}}Mr(i,g,S,I,F,E,f,!1),Vr(i);return;case"select":Oe("invalid",i),u=E=g=null;for(f in o)if(o.hasOwnProperty(f)&&(S=o[f],S!=null))switch(f){case"value":g=S;break;case"defaultValue":E=S;break;case"multiple":u=S;default:Qe(i,r,f,S,o,null)}r=g,o=E,i.multiple=!!u,r!=null?ze(i,!!u,r,!1):o!=null&&ze(i,!!u,o,!0);return;case"textarea":Oe("invalid",i),g=f=u=null;for(E in o)if(o.hasOwnProperty(E)&&(S=o[E],S!=null))switch(E){case"value":u=S;break;case"defaultValue":f=S;break;case"children":g=S;break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(s(91));break;default:Qe(i,r,E,S,o,null)}Ps(i,u,f,g),Vr(i);return;case"option":for(I in o)if(o.hasOwnProperty(I)&&(u=o[I],u!=null))switch(I){case"selected":i.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:Qe(i,r,I,u,o,null)}return;case"dialog":Oe("cancel",i),Oe("close",i);break;case"iframe":case"object":Oe("load",i);break;case"video":case"audio":for(u=0;u<Yl.length;u++)Oe(Yl[u],i);break;case"image":Oe("error",i),Oe("load",i);break;case"details":Oe("toggle",i);break;case"embed":case"source":case"link":Oe("error",i),Oe("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(F in o)if(o.hasOwnProperty(F)&&(u=o[F],u!=null))switch(F){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:Qe(i,r,F,u,o,null)}return;default:if(hl(r)){for(Z in o)o.hasOwnProperty(Z)&&(u=o[Z],u!==void 0&&Cm(i,r,Z,u,o,void 0));return}}for(S in o)o.hasOwnProperty(S)&&(u=o[S],u!=null&&Qe(i,r,S,u,o,null))}function U1(i,r,o,u){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,g=null,E=null,S=null,I=null,F=null,Z=null;for(W in o){var te=o[W];if(o.hasOwnProperty(W)&&te!=null)switch(W){case"checked":break;case"value":break;case"defaultValue":I=te;default:u.hasOwnProperty(W)||Qe(i,r,W,null,u,te)}}for(var $ in u){var W=u[$];if(te=o[$],u.hasOwnProperty($)&&(W!=null||te!=null))switch($){case"type":g=W;break;case"name":f=W;break;case"checked":F=W;break;case"defaultChecked":Z=W;break;case"value":E=W;break;case"defaultValue":S=W;break;case"children":case"dangerouslySetInnerHTML":if(W!=null)throw Error(s(137,r));break;default:W!==te&&Qe(i,r,$,W,u,te)}}Os(i,E,S,I,F,Z,g,f);return;case"select":W=E=S=$=null;for(g in o)if(I=o[g],o.hasOwnProperty(g)&&I!=null)switch(g){case"value":break;case"multiple":W=I;default:u.hasOwnProperty(g)||Qe(i,r,g,null,u,I)}for(f in u)if(g=u[f],I=o[f],u.hasOwnProperty(f)&&(g!=null||I!=null))switch(f){case"value":$=g;break;case"defaultValue":S=g;break;case"multiple":E=g;default:g!==I&&Qe(i,r,f,g,u,I)}r=S,o=E,u=W,$!=null?ze(i,!!o,$,!1):!!u!=!!o&&(r!=null?ze(i,!!o,r,!0):ze(i,!!o,o?[]:"",!1));return;case"textarea":W=$=null;for(S in o)if(f=o[S],o.hasOwnProperty(S)&&f!=null&&!u.hasOwnProperty(S))switch(S){case"value":break;case"children":break;default:Qe(i,r,S,null,u,f)}for(E in u)if(f=u[E],g=o[E],u.hasOwnProperty(E)&&(f!=null||g!=null))switch(E){case"value":$=f;break;case"defaultValue":W=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(s(91));break;default:f!==g&&Qe(i,r,E,f,u,g)}Or(i,$,W);return;case"option":for(var me in o)if($=o[me],o.hasOwnProperty(me)&&$!=null&&!u.hasOwnProperty(me))switch(me){case"selected":i.selected=!1;break;default:Qe(i,r,me,null,u,$)}for(I in u)if($=u[I],W=o[I],u.hasOwnProperty(I)&&$!==W&&($!=null||W!=null))switch(I){case"selected":i.selected=$&&typeof $!="function"&&typeof $!="symbol";break;default:Qe(i,r,I,$,u,W)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Se in o)$=o[Se],o.hasOwnProperty(Se)&&$!=null&&!u.hasOwnProperty(Se)&&Qe(i,r,Se,null,u,$);for(F in u)if($=u[F],W=o[F],u.hasOwnProperty(F)&&$!==W&&($!=null||W!=null))switch(F){case"children":case"dangerouslySetInnerHTML":if($!=null)throw Error(s(137,r));break;default:Qe(i,r,F,$,u,W)}return;default:if(hl(r)){for(var ft in o)$=o[ft],o.hasOwnProperty(ft)&&$!==void 0&&!u.hasOwnProperty(ft)&&Cm(i,r,ft,void 0,u,$);for(Z in u)$=u[Z],W=o[Z],!u.hasOwnProperty(Z)||$===W||$===void 0&&W===void 0||Cm(i,r,Z,$,u,W);return}}for(var z in o)$=o[z],o.hasOwnProperty(z)&&$!=null&&!u.hasOwnProperty(z)&&Qe(i,r,z,null,u,$);for(te in u)$=u[te],W=o[te],!u.hasOwnProperty(te)||$===W||$==null&&W==null||Qe(i,r,te,$,u,W)}var Dm=null,Im=null;function ch(i){return i.nodeType===9?i:i.ownerDocument}function v0(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function _0(i,r){if(i===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&r==="foreignObject"?0:i}function Nm(i,r){return i==="textarea"||i==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var Vm=null;function j1(){var i=window.event;return i&&i.type==="popstate"?i===Vm?!1:(Vm=i,!0):(Vm=null,!1)}var E0=typeof setTimeout=="function"?setTimeout:void 0,B1=typeof clearTimeout=="function"?clearTimeout:void 0,T0=typeof Promise=="function"?Promise:void 0,F1=typeof queueMicrotask=="function"?queueMicrotask:typeof T0<"u"?function(i){return T0.resolve(null).then(i).catch(z1)}:E0;function z1(i){setTimeout(function(){throw i})}function Mm(i,r){var o=r,u=0;do{var f=o.nextSibling;if(i.removeChild(o),f&&f.nodeType===8)if(o=f.data,o==="/$"){if(u===0){i.removeChild(f),iu(r);return}u--}else o!=="$"&&o!=="$?"&&o!=="$!"||u++;o=f}while(o);iu(r)}function Om(i){var r=i.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var o=r;switch(r=r.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":Om(o),Nr(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}i.removeChild(o)}}function H1(i,r,o,u){for(;i.nodeType===1;){var f=o;if(i.nodeName.toLowerCase()!==r.toLowerCase()){if(!u&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(u){if(!i[Ds])switch(r){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(g=i.getAttribute("rel"),g==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(g!==f.rel||i.getAttribute("href")!==(f.href==null?null:f.href)||i.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||i.getAttribute("title")!==(f.title==null?null:f.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(g=i.getAttribute("src"),(g!==(f.src==null?null:f.src)||i.getAttribute("type")!==(f.type==null?null:f.type)||i.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&g&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(r==="input"&&i.type==="hidden"){var g=f.name==null?null:""+f.name;if(f.type==="hidden"&&i.getAttribute("name")===g)return i}else return i;if(i=ei(i.nextSibling),i===null)break}return null}function q1(i,r,o){if(r==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!o||(i=ei(i.nextSibling),i===null))return null;return i}function ei(i){for(;i!=null;i=i.nextSibling){var r=i.nodeType;if(r===1||r===3)break;if(r===8){if(r=i.data,r==="$"||r==="$!"||r==="$?"||r==="F!"||r==="F")break;if(r==="/$")return null}}return i}function b0(i){i=i.previousSibling;for(var r=0;i;){if(i.nodeType===8){var o=i.data;if(o==="$"||o==="$!"||o==="$?"){if(r===0)return i;r--}else o==="/$"&&r++}i=i.previousSibling}return null}function w0(i,r,o){switch(r=ch(o),i){case"html":if(i=r.documentElement,!i)throw Error(s(452));return i;case"head":if(i=r.head,!i)throw Error(s(453));return i;case"body":if(i=r.body,!i)throw Error(s(454));return i;default:throw Error(s(451))}}var Gn=new Map,S0=new Set;function hh(i){return typeof i.getRootNode=="function"?i.getRootNode():i.ownerDocument}var ss=ue.d;ue.d={f:G1,r:K1,D:$1,C:Y1,L:Q1,m:X1,X:Z1,S:W1,M:J1};function G1(){var i=ss.f(),r=ih();return i||r}function K1(i){var r=ki(i);r!==null&&r.tag===5&&r.type==="form"?Wv(r):ss.r(i)}var ho=typeof document>"u"?null:document;function A0(i,r,o){var u=ho;if(u&&typeof r=="string"&&r){var f=ut(r);f='link[rel="'+i+'"][href="'+f+'"]',typeof o=="string"&&(f+='[crossorigin="'+o+'"]'),S0.has(f)||(S0.add(f),i={rel:i,crossOrigin:o,href:r},u.querySelector(f)===null&&(r=u.createElement("link"),qt(r,"link",i),tt(r),u.head.appendChild(r)))}}function $1(i){ss.D(i),A0("dns-prefetch",i,null)}function Y1(i,r){ss.C(i,r),A0("preconnect",i,r)}function Q1(i,r,o){ss.L(i,r,o);var u=ho;if(u&&i&&r){var f='link[rel="preload"][as="'+ut(r)+'"]';r==="image"&&o&&o.imageSrcSet?(f+='[imagesrcset="'+ut(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(f+='[imagesizes="'+ut(o.imageSizes)+'"]')):f+='[href="'+ut(i)+'"]';var g=f;switch(r){case"style":g=fo(i);break;case"script":g=mo(i)}Gn.has(g)||(i=N({rel:"preload",href:r==="image"&&o&&o.imageSrcSet?void 0:i,as:r},o),Gn.set(g,i),u.querySelector(f)!==null||r==="style"&&u.querySelector(Xl(g))||r==="script"&&u.querySelector(Wl(g))||(r=u.createElement("link"),qt(r,"link",i),tt(r),u.head.appendChild(r)))}}function X1(i,r){ss.m(i,r);var o=ho;if(o&&i){var u=r&&typeof r.as=="string"?r.as:"script",f='link[rel="modulepreload"][as="'+ut(u)+'"][href="'+ut(i)+'"]',g=f;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":g=mo(i)}if(!Gn.has(g)&&(i=N({rel:"modulepreload",href:i},r),Gn.set(g,i),o.querySelector(f)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(Wl(g)))return}u=o.createElement("link"),qt(u,"link",i),tt(u),o.head.appendChild(u)}}}function W1(i,r,o){ss.S(i,r,o);var u=ho;if(u&&i){var f=Ns(u).hoistableStyles,g=fo(i);r=r||"default";var E=f.get(g);if(!E){var S={loading:0,preload:null};if(E=u.querySelector(Xl(g)))S.loading=5;else{i=N({rel:"stylesheet",href:i,"data-precedence":r},o),(o=Gn.get(g))&&Pm(i,o);var I=E=u.createElement("link");tt(I),qt(I,"link",i),I._p=new Promise(function(F,Z){I.onload=F,I.onerror=Z}),I.addEventListener("load",function(){S.loading|=1}),I.addEventListener("error",function(){S.loading|=2}),S.loading|=4,fh(E,r,u)}E={type:"stylesheet",instance:E,count:1,state:S},f.set(g,E)}}}function Z1(i,r){ss.X(i,r);var o=ho;if(o&&i){var u=Ns(o).hoistableScripts,f=mo(i),g=u.get(f);g||(g=o.querySelector(Wl(f)),g||(i=N({src:i,async:!0},r),(r=Gn.get(f))&&km(i,r),g=o.createElement("script"),tt(g),qt(g,"link",i),o.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},u.set(f,g))}}function J1(i,r){ss.M(i,r);var o=ho;if(o&&i){var u=Ns(o).hoistableScripts,f=mo(i),g=u.get(f);g||(g=o.querySelector(Wl(f)),g||(i=N({src:i,async:!0,type:"module"},r),(r=Gn.get(f))&&km(i,r),g=o.createElement("script"),tt(g),qt(g,"link",i),o.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},u.set(f,g))}}function x0(i,r,o,u){var f=(f=Dn.current)?hh(f):null;if(!f)throw Error(s(446));switch(i){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(r=fo(o.href),o=Ns(f).hoistableStyles,u=o.get(r),u||(u={type:"style",instance:null,count:0,state:null},o.set(r,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){i=fo(o.href);var g=Ns(f).hoistableStyles,E=g.get(i);if(E||(f=f.ownerDocument||f,E={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},g.set(i,E),(g=f.querySelector(Xl(i)))&&!g._p&&(E.instance=g,E.state.loading=5),Gn.has(i)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},Gn.set(i,o),g||eR(f,i,o,E.state))),r&&u===null)throw Error(s(528,""));return E}if(r&&u!==null)throw Error(s(529,""));return null;case"script":return r=o.async,o=o.src,typeof o=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=mo(o),o=Ns(f).hoistableScripts,u=o.get(r),u||(u={type:"script",instance:null,count:0,state:null},o.set(r,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,i))}}function fo(i){return'href="'+ut(i)+'"'}function Xl(i){return'link[rel="stylesheet"]['+i+"]"}function R0(i){return N({},i,{"data-precedence":i.precedence,precedence:null})}function eR(i,r,o,u){i.querySelector('link[rel="preload"][as="style"]['+r+"]")?u.loading=1:(r=i.createElement("link"),u.preload=r,r.addEventListener("load",function(){return u.loading|=1}),r.addEventListener("error",function(){return u.loading|=2}),qt(r,"link",o),tt(r),i.head.appendChild(r))}function mo(i){return'[src="'+ut(i)+'"]'}function Wl(i){return"script[async]"+i}function C0(i,r,o){if(r.count++,r.instance===null)switch(r.type){case"style":var u=i.querySelector('style[data-href~="'+ut(o.href)+'"]');if(u)return r.instance=u,tt(u),u;var f=N({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return u=(i.ownerDocument||i).createElement("style"),tt(u),qt(u,"style",f),fh(u,o.precedence,i),r.instance=u;case"stylesheet":f=fo(o.href);var g=i.querySelector(Xl(f));if(g)return r.state.loading|=4,r.instance=g,tt(g),g;u=R0(o),(f=Gn.get(f))&&Pm(u,f),g=(i.ownerDocument||i).createElement("link"),tt(g);var E=g;return E._p=new Promise(function(S,I){E.onload=S,E.onerror=I}),qt(g,"link",u),r.state.loading|=4,fh(g,o.precedence,i),r.instance=g;case"script":return g=mo(o.src),(f=i.querySelector(Wl(g)))?(r.instance=f,tt(f),f):(u=o,(f=Gn.get(g))&&(u=N({},o),km(u,f)),i=i.ownerDocument||i,f=i.createElement("script"),tt(f),qt(f,"link",u),i.head.appendChild(f),r.instance=f);case"void":return null;default:throw Error(s(443,r.type))}else r.type==="stylesheet"&&!(r.state.loading&4)&&(u=r.instance,r.state.loading|=4,fh(u,o.precedence,i));return r.instance}function fh(i,r,o){for(var u=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=u.length?u[u.length-1]:null,g=f,E=0;E<u.length;E++){var S=u[E];if(S.dataset.precedence===r)g=S;else if(g!==f)break}g?g.parentNode.insertBefore(i,g.nextSibling):(r=o.nodeType===9?o.head:o,r.insertBefore(i,r.firstChild))}function Pm(i,r){i.crossOrigin==null&&(i.crossOrigin=r.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=r.referrerPolicy),i.title==null&&(i.title=r.title)}function km(i,r){i.crossOrigin==null&&(i.crossOrigin=r.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=r.referrerPolicy),i.integrity==null&&(i.integrity=r.integrity)}var dh=null;function D0(i,r,o){if(dh===null){var u=new Map,f=dh=new Map;f.set(o,u)}else f=dh,u=f.get(o),u||(u=new Map,f.set(o,u));if(u.has(i))return u;for(u.set(i,null),o=o.getElementsByTagName(i),f=0;f<o.length;f++){var g=o[f];if(!(g[Ds]||g[Ot]||i==="link"&&g.getAttribute("rel")==="stylesheet")&&g.namespaceURI!=="http://www.w3.org/2000/svg"){var E=g.getAttribute(r)||"";E=i+E;var S=u.get(E);S?S.push(g):u.set(E,[g])}}return u}function I0(i,r,o){i=i.ownerDocument||i,i.head.insertBefore(o,r==="title"?i.querySelector("head > title"):null)}function tR(i,r,o){if(o===1||r.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return i=r.disabled,typeof r.precedence=="string"&&i==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function N0(i){return!(i.type==="stylesheet"&&!(i.state.loading&3))}var Zl=null;function nR(){}function iR(i,r,o){if(Zl===null)throw Error(s(475));var u=Zl;if(r.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&!(r.state.loading&4)){if(r.instance===null){var f=fo(o.href),g=i.querySelector(Xl(f));if(g){i=g._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(u.count++,u=mh.bind(u),i.then(u,u)),r.state.loading|=4,r.instance=g,tt(g);return}g=i.ownerDocument||i,o=R0(o),(f=Gn.get(f))&&Pm(o,f),g=g.createElement("link"),tt(g);var E=g;E._p=new Promise(function(S,I){E.onload=S,E.onerror=I}),qt(g,"link",o),r.instance=g}u.stylesheets===null&&(u.stylesheets=new Map),u.stylesheets.set(r,i),(i=r.state.preload)&&!(r.state.loading&3)&&(u.count++,r=mh.bind(u),i.addEventListener("load",r),i.addEventListener("error",r))}}function sR(){if(Zl===null)throw Error(s(475));var i=Zl;return i.stylesheets&&i.count===0&&Lm(i,i.stylesheets),0<i.count?function(r){var o=setTimeout(function(){if(i.stylesheets&&Lm(i,i.stylesheets),i.unsuspend){var u=i.unsuspend;i.unsuspend=null,u()}},6e4);return i.unsuspend=r,function(){i.unsuspend=null,clearTimeout(o)}}:null}function mh(){if(this.count--,this.count===0){if(this.stylesheets)Lm(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var ph=null;function Lm(i,r){i.stylesheets=null,i.unsuspend!==null&&(i.count++,ph=new Map,r.forEach(rR,i),ph=null,mh.call(i))}function rR(i,r){if(!(r.state.loading&4)){var o=ph.get(i);if(o)var u=o.get(null);else{o=new Map,ph.set(i,o);for(var f=i.querySelectorAll("link[data-precedence],style[data-precedence]"),g=0;g<f.length;g++){var E=f[g];(E.nodeName==="LINK"||E.getAttribute("media")!=="not all")&&(o.set(E.dataset.precedence,E),u=E)}u&&o.set(null,u)}f=r.instance,E=f.getAttribute("data-precedence"),g=o.get(E)||u,g===u&&o.set(null,f),o.set(E,f),this.count++,u=mh.bind(this),f.addEventListener("load",u),f.addEventListener("error",u),g?g.parentNode.insertBefore(f,g.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(f,i.firstChild)),r.state.loading|=4}}var Jl={$$typeof:x,Provider:null,Consumer:null,_currentValue:Ce,_currentValue2:Ce,_threadCount:0};function aR(i,r,o,u,f,g,E,S){this.tag=1,this.containerInfo=i,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ca(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ca(0),this.hiddenUpdates=Ca(null),this.identifierPrefix=u,this.onUncaughtError=f,this.onCaughtError=g,this.onRecoverableError=E,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=S,this.incompleteTransitions=new Map}function V0(i,r,o,u,f,g,E,S,I,F,Z,te){return i=new aR(i,r,o,E,S,I,F,te),r=1,g===!0&&(r|=24),g=Hn(3,null,null,r),i.current=g,g.stateNode=i,r=pd(),r.refCount++,i.pooledCache=r,r.refCount++,g.memoizedState={element:u,isDehydrated:o,cache:r},Qd(g),i}function M0(i){return i?(i=Ga,i):Ga}function O0(i,r,o,u,f,g){f=M0(f),u.context===null?u.context=f:u.pendingContext=f,u=qs(r),u.payload={element:o},g=g===void 0?null:g,g!==null&&(u.callback=g),o=Gs(i,u,r),o!==null&&(cn(o,i,r),kl(o,i,r))}function P0(i,r){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var o=i.retryLane;i.retryLane=o!==0&&o<r?o:r}}function Um(i,r){P0(i,r),(i=i.alternate)&&P0(i,r)}function k0(i){if(i.tag===13){var r=Ls(i,67108864);r!==null&&cn(r,i,67108864),Um(i,67108864)}}var gh=!0;function oR(i,r,o,u){var f=R.T;R.T=null;var g=ue.p;try{ue.p=2,jm(i,r,o,u)}finally{ue.p=g,R.T=f}}function lR(i,r,o,u){var f=R.T;R.T=null;var g=ue.p;try{ue.p=8,jm(i,r,o,u)}finally{ue.p=g,R.T=f}}function jm(i,r,o,u){if(gh){var f=Bm(u);if(f===null)Rm(i,r,u,yh,o),U0(i,u);else if(cR(f,i,r,o,u))u.stopPropagation();else if(U0(i,u),r&4&&-1<uR.indexOf(i)){for(;f!==null;){var g=ki(f);if(g!==null)switch(g.tag){case 3:if(g=g.stateNode,g.current.memoizedState.isDehydrated){var E=Qn(g.pendingLanes);if(E!==0){var S=g;for(S.pendingLanes|=2,S.entangledLanes|=2;E;){var I=1<<31-an(E);S.entanglements[1]|=I,E&=~I}_i(g),!(it&6)&&(eh=fn()+500,$l(0))}}break;case 13:S=Ls(g,2),S!==null&&cn(S,g,2),ih(),Um(g,2)}if(g=Bm(u),g===null&&Rm(i,r,u,yh,o),g===f)break;f=g}f!==null&&u.stopPropagation()}else Rm(i,r,u,null,o)}}function Bm(i){return i=Ma(i),Fm(i)}var yh=null;function Fm(i){if(yh=null,i=Xn(i),i!==null){var r=fe(i);if(r===null)i=null;else{var o=r.tag;if(o===13){if(i=ke(r),i!==null)return i;i=null}else if(o===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;i=null}else r!==i&&(i=null)}}return yh=i,null}function L0(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(nc()){case St:return 2;case Mt:return 8;case Oi:case ic:return 32;case tl:return 268435456;default:return 32}default:return 32}}var zm=!1,Zs=null,Js=null,er=null,eu=new Map,tu=new Map,tr=[],uR="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function U0(i,r){switch(i){case"focusin":case"focusout":Zs=null;break;case"dragenter":case"dragleave":Js=null;break;case"mouseover":case"mouseout":er=null;break;case"pointerover":case"pointerout":eu.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":tu.delete(r.pointerId)}}function nu(i,r,o,u,f,g){return i===null||i.nativeEvent!==g?(i={blockedOn:r,domEventName:o,eventSystemFlags:u,nativeEvent:g,targetContainers:[f]},r!==null&&(r=ki(r),r!==null&&k0(r)),i):(i.eventSystemFlags|=u,r=i.targetContainers,f!==null&&r.indexOf(f)===-1&&r.push(f),i)}function cR(i,r,o,u,f){switch(r){case"focusin":return Zs=nu(Zs,i,r,o,u,f),!0;case"dragenter":return Js=nu(Js,i,r,o,u,f),!0;case"mouseover":return er=nu(er,i,r,o,u,f),!0;case"pointerover":var g=f.pointerId;return eu.set(g,nu(eu.get(g)||null,i,r,o,u,f)),!0;case"gotpointercapture":return g=f.pointerId,tu.set(g,nu(tu.get(g)||null,i,r,o,u,f)),!0}return!1}function j0(i){var r=Xn(i.target);if(r!==null){var o=fe(r);if(o!==null){if(r=o.tag,r===13){if(r=ke(o),r!==null){i.blockedOn=r,Cs(i.priority,function(){if(o.tag===13){var u=An(),f=Ls(o,u);f!==null&&cn(f,o,u),Um(o,u)}});return}}else if(r===3&&o.stateNode.current.memoizedState.isDehydrated){i.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}i.blockedOn=null}function vh(i){if(i.blockedOn!==null)return!1;for(var r=i.targetContainers;0<r.length;){var o=Bm(i.nativeEvent);if(o===null){o=i.nativeEvent;var u=new o.constructor(o.type,o);Mn=u,o.target.dispatchEvent(u),Mn=null}else return r=ki(o),r!==null&&k0(r),i.blockedOn=o,!1;r.shift()}return!0}function B0(i,r,o){vh(i)&&o.delete(r)}function hR(){zm=!1,Zs!==null&&vh(Zs)&&(Zs=null),Js!==null&&vh(Js)&&(Js=null),er!==null&&vh(er)&&(er=null),eu.forEach(B0),tu.forEach(B0)}function _h(i,r){i.blockedOn===r&&(i.blockedOn=null,zm||(zm=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,hR)))}var Eh=null;function F0(i){Eh!==i&&(Eh=i,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){Eh===i&&(Eh=null);for(var r=0;r<i.length;r+=3){var o=i[r],u=i[r+1],f=i[r+2];if(typeof u!="function"){if(Fm(u||o)===null)continue;break}var g=ki(o);g!==null&&(i.splice(r,3),r-=3,Nd(g,{pending:!0,data:f,method:o.method,action:u},u,f))}}))}function iu(i){function r(I){return _h(I,i)}Zs!==null&&_h(Zs,i),Js!==null&&_h(Js,i),er!==null&&_h(er,i),eu.forEach(r),tu.forEach(r);for(var o=0;o<tr.length;o++){var u=tr[o];u.blockedOn===i&&(u.blockedOn=null)}for(;0<tr.length&&(o=tr[0],o.blockedOn===null);)j0(o),o.blockedOn===null&&tr.shift();if(o=(i.ownerDocument||i).$$reactFormReplay,o!=null)for(u=0;u<o.length;u+=3){var f=o[u],g=o[u+1],E=f[At]||null;if(typeof g=="function")E||F0(o);else if(E){var S=null;if(g&&g.hasAttribute("formAction")){if(f=g,E=g[At]||null)S=E.formAction;else if(Fm(f)!==null)continue}else S=E.action;typeof S=="function"?o[u+1]=S:(o.splice(u,3),u-=3),F0(o)}}}function Hm(i){this._internalRoot=i}Th.prototype.render=Hm.prototype.render=function(i){var r=this._internalRoot;if(r===null)throw Error(s(409));var o=r.current,u=An();O0(o,u,i,r,null,null)},Th.prototype.unmount=Hm.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var r=i.containerInfo;i.tag===0&&lo(),O0(i.current,2,null,i,null,null),ih(),r[Pi]=null}};function Th(i){this._internalRoot=i}Th.prototype.unstable_scheduleHydration=function(i){if(i){var r=lc();i={blockedOn:null,target:i,priority:r};for(var o=0;o<tr.length&&r!==0&&r<tr[o].priority;o++);tr.splice(o,0,i),o===0&&j0(i)}};var z0=e.version;if(z0!=="19.0.0")throw Error(s(527,z0,"19.0.0"));ue.findDOMNode=function(i){var r=i._reactInternals;if(r===void 0)throw typeof i.render=="function"?Error(s(188)):(i=Object.keys(i).join(","),Error(s(268,i)));return i=ie(r),i=i!==null?pe(i):null,i=i===null?null:i.stateNode,i};var fR={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:R,findFiberByHostInstance:Xn,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var bh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!bh.isDisabled&&bh.supportsFiber)try{bs=bh.inject(fR),Qt=bh}catch{}}return ru.createRoot=function(i,r){if(!a(i))throw Error(s(299));var o=!1,u="",f=r_,g=a_,E=o_,S=null;return r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(u=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(g=r.onCaughtError),r.onRecoverableError!==void 0&&(E=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(S=r.unstable_transitionCallbacks)),r=V0(i,1,!1,null,null,o,u,f,g,E,S,null),i[Pi]=r.current,xm(i.nodeType===8?i.parentNode:i),new Hm(r)},ru.hydrateRoot=function(i,r,o){if(!a(i))throw Error(s(299));var u=!1,f="",g=r_,E=a_,S=o_,I=null,F=null;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(f=o.identifierPrefix),o.onUncaughtError!==void 0&&(g=o.onUncaughtError),o.onCaughtError!==void 0&&(E=o.onCaughtError),o.onRecoverableError!==void 0&&(S=o.onRecoverableError),o.unstable_transitionCallbacks!==void 0&&(I=o.unstable_transitionCallbacks),o.formState!==void 0&&(F=o.formState)),r=V0(i,1,!0,r,o??null,u,f,g,E,S,I,F),r.context=M0(null),o=r.current,u=An(),f=qs(u),f.callback=null,Gs(o,f,u),r.current.lanes=u,pt(r,u),_i(r),i[Pi]=r.current,xm(i),new Th(r)},ru.version="19.0.0",ru}var Z0;function bR(){if(Z0)return Km.exports;Z0=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Km.exports=TR(),Km.exports}var wR=bR(),au={},J0;function SR(){if(J0)return au;J0=1,Object.defineProperty(au,"__esModule",{value:!0}),au.parse=c,au.serialize=p;const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,s=/^[\u0020-\u003A\u003D-\u007E]*$/,a=Object.prototype.toString,l=(()=>{const b=function(){};return b.prototype=Object.create(null),b})();function c(b,x){const D=new l,L=b.length;if(L<2)return D;const P=(x==null?void 0:x.decode)||v;let B=0;do{const Q=b.indexOf("=",B);if(Q===-1)break;const Y=b.indexOf(";",B),ae=Y===-1?L:Y;if(Q>ae){B=b.lastIndexOf(";",Q-1)+1;continue}const G=d(b,B,Q),se=m(b,Q,G),O=b.slice(G,se);if(D[O]===void 0){let C=d(b,Q+1,ae),R=m(b,ae,C);const N=P(b.slice(C,R));D[O]=N}B=ae+1}while(B<L);return D}function d(b,x,D){do{const L=b.charCodeAt(x);if(L!==32&&L!==9)return x}while(++x<D);return D}function m(b,x,D){for(;x>D;){const L=b.charCodeAt(--x);if(L!==32&&L!==9)return x+1}return D}function p(b,x,D){const L=(D==null?void 0:D.encode)||encodeURIComponent;if(!n.test(b))throw new TypeError(`argument name is invalid: ${b}`);const P=L(x);if(!e.test(P))throw new TypeError(`argument val is invalid: ${x}`);let B=b+"="+P;if(!D)return B;if(D.maxAge!==void 0){if(!Number.isInteger(D.maxAge))throw new TypeError(`option maxAge is invalid: ${D.maxAge}`);B+="; Max-Age="+D.maxAge}if(D.domain){if(!t.test(D.domain))throw new TypeError(`option domain is invalid: ${D.domain}`);B+="; Domain="+D.domain}if(D.path){if(!s.test(D.path))throw new TypeError(`option path is invalid: ${D.path}`);B+="; Path="+D.path}if(D.expires){if(!T(D.expires)||!Number.isFinite(D.expires.valueOf()))throw new TypeError(`option expires is invalid: ${D.expires}`);B+="; Expires="+D.expires.toUTCString()}if(D.httpOnly&&(B+="; HttpOnly"),D.secure&&(B+="; Secure"),D.partitioned&&(B+="; Partitioned"),D.priority)switch(typeof D.priority=="string"?D.priority.toLowerCase():void 0){case"low":B+="; Priority=Low";break;case"medium":B+="; Priority=Medium";break;case"high":B+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${D.priority}`)}if(D.sameSite)switch(typeof D.sameSite=="string"?D.sameSite.toLowerCase():D.sameSite){case!0:case"strict":B+="; SameSite=Strict";break;case"lax":B+="; SameSite=Lax";break;case"none":B+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${D.sameSite}`)}return B}function v(b){if(b.indexOf("%")===-1)return b;try{return decodeURIComponent(b)}catch{return b}}function T(b){return a.call(b)==="[object Date]"}return au}SR();/**
 * react-router v7.1.5
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var eE="popstate";function AR(n={}){function e(s,a){let{pathname:l,search:c,hash:d}=s.location;return bp("",{pathname:l,search:c,hash:d},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function t(s,a){return typeof a=="string"?a:Su(a)}return RR(e,t,null,n)}function rt(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function Ri(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function xR(){return Math.random().toString(36).substring(2,10)}function tE(n,e){return{usr:n.state,key:n.key,idx:e}}function bp(n,e,t=null,s){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?zo(e):e,state:t,key:e&&e.key||s||xR()}}function Su({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function zo(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let s=n.indexOf("?");s>=0&&(e.search=n.substring(s),n=n.substring(0,s)),n&&(e.pathname=n)}return e}function RR(n,e,t,s={}){let{window:a=document.defaultView,v5Compat:l=!1}=s,c=a.history,d="POP",m=null,p=v();p==null&&(p=0,c.replaceState({...c.state,idx:p},""));function v(){return(c.state||{idx:null}).idx}function T(){d="POP";let P=v(),B=P==null?null:P-p;p=P,m&&m({action:d,location:L.location,delta:B})}function b(P,B){d="PUSH";let Q=bp(L.location,P,B);p=v()+1;let Y=tE(Q,p),ae=L.createHref(Q);try{c.pushState(Y,"",ae)}catch(G){if(G instanceof DOMException&&G.name==="DataCloneError")throw G;a.location.assign(ae)}l&&m&&m({action:d,location:L.location,delta:1})}function x(P,B){d="REPLACE";let Q=bp(L.location,P,B);p=v();let Y=tE(Q,p),ae=L.createHref(Q);c.replaceState(Y,"",ae),l&&m&&m({action:d,location:L.location,delta:0})}function D(P){let B=a.location.origin!=="null"?a.location.origin:a.location.href,Q=typeof P=="string"?P:Su(P);return Q=Q.replace(/ $/,"%20"),rt(B,`No window.location.(origin|href) available to create URL for href: ${Q}`),new URL(Q,B)}let L={get action(){return d},get location(){return n(a,c)},listen(P){if(m)throw new Error("A history only accepts one active listener");return a.addEventListener(eE,T),m=P,()=>{a.removeEventListener(eE,T),m=null}},createHref(P){return e(a,P)},createURL:D,encodeLocation(P){let B=D(P);return{pathname:B.pathname,search:B.search,hash:B.hash}},push:b,replace:x,go(P){return c.go(P)}};return L}function Bb(n,e,t="/"){return CR(n,e,t,!1)}function CR(n,e,t,s){let a=typeof e=="string"?zo(e):e,l=yr(a.pathname||"/",t);if(l==null)return null;let c=Fb(n);DR(c);let d=null;for(let m=0;d==null&&m<c.length;++m){let p=BR(l);d=UR(c[m],p,s)}return d}function Fb(n,e=[],t=[],s=""){let a=(l,c,d)=>{let m={relativePath:d===void 0?l.path||"":d,caseSensitive:l.caseSensitive===!0,childrenIndex:c,route:l};m.relativePath.startsWith("/")&&(rt(m.relativePath.startsWith(s),`Absolute route path "${m.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),m.relativePath=m.relativePath.slice(s.length));let p=ls([s,m.relativePath]),v=t.concat(m);l.children&&l.children.length>0&&(rt(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${p}".`),Fb(l.children,e,v,p)),!(l.path==null&&!l.index)&&e.push({path:p,score:kR(p,l.index),routesMeta:v})};return n.forEach((l,c)=>{var d;if(l.path===""||!((d=l.path)!=null&&d.includes("?")))a(l,c);else for(let m of zb(l.path))a(l,c,m)}),e}function zb(n){let e=n.split("/");if(e.length===0)return[];let[t,...s]=e,a=t.endsWith("?"),l=t.replace(/\?$/,"");if(s.length===0)return a?[l,""]:[l];let c=zb(s.join("/")),d=[];return d.push(...c.map(m=>m===""?l:[l,m].join("/"))),a&&d.push(...c),d.map(m=>n.startsWith("/")&&m===""?"/":m)}function DR(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:LR(e.routesMeta.map(s=>s.childrenIndex),t.routesMeta.map(s=>s.childrenIndex)))}var IR=/^:[\w-]+$/,NR=3,VR=2,MR=1,OR=10,PR=-2,nE=n=>n==="*";function kR(n,e){let t=n.split("/"),s=t.length;return t.some(nE)&&(s+=PR),e&&(s+=VR),t.filter(a=>!nE(a)).reduce((a,l)=>a+(IR.test(l)?NR:l===""?MR:OR),s)}function LR(n,e){return n.length===e.length&&n.slice(0,-1).every((s,a)=>s===e[a])?n[n.length-1]-e[e.length-1]:0}function UR(n,e,t=!1){let{routesMeta:s}=n,a={},l="/",c=[];for(let d=0;d<s.length;++d){let m=s[d],p=d===s.length-1,v=l==="/"?e:e.slice(l.length)||"/",T=Yh({path:m.relativePath,caseSensitive:m.caseSensitive,end:p},v),b=m.route;if(!T&&p&&t&&!s[s.length-1].route.index&&(T=Yh({path:m.relativePath,caseSensitive:m.caseSensitive,end:!1},v)),!T)return null;Object.assign(a,T.params),c.push({params:a,pathname:ls([l,T.pathname]),pathnameBase:qR(ls([l,T.pathnameBase])),route:b}),T.pathnameBase!=="/"&&(l=ls([l,T.pathnameBase]))}return c}function Yh(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,s]=jR(n.path,n.caseSensitive,n.end),a=e.match(t);if(!a)return null;let l=a[0],c=l.replace(/(.)\/+$/,"$1"),d=a.slice(1);return{params:s.reduce((p,{paramName:v,isOptional:T},b)=>{if(v==="*"){let D=d[b]||"";c=l.slice(0,l.length-D.length).replace(/(.)\/+$/,"$1")}const x=d[b];return T&&!x?p[v]=void 0:p[v]=(x||"").replace(/%2F/g,"/"),p},{}),pathname:l,pathnameBase:c,pattern:n}}function jR(n,e=!1,t=!0){Ri(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let s=[],a="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,d,m)=>(s.push({paramName:d,isOptional:m!=null}),m?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(s.push({paramName:"*"}),a+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?a+="\\/*$":n!==""&&n!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),s]}function BR(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Ri(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function yr(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,s=n.charAt(t);return s&&s!=="/"?null:n.slice(t)||"/"}function FR(n,e="/"){let{pathname:t,search:s="",hash:a=""}=typeof n=="string"?zo(n):n;return{pathname:t?t.startsWith("/")?t:zR(t,e):e,search:GR(s),hash:KR(a)}}function zR(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(a=>{a===".."?t.length>1&&t.pop():a!=="."&&t.push(a)}),t.length>1?t.join("/"):"/"}function Xm(n,e,t,s){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function HR(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function Hb(n){let e=HR(n);return e.map((t,s)=>s===e.length-1?t.pathname:t.pathnameBase)}function qb(n,e,t,s=!1){let a;typeof n=="string"?a=zo(n):(a={...n},rt(!a.pathname||!a.pathname.includes("?"),Xm("?","pathname","search",a)),rt(!a.pathname||!a.pathname.includes("#"),Xm("#","pathname","hash",a)),rt(!a.search||!a.search.includes("#"),Xm("#","search","hash",a)));let l=n===""||a.pathname==="",c=l?"/":a.pathname,d;if(c==null)d=t;else{let T=e.length-1;if(!s&&c.startsWith("..")){let b=c.split("/");for(;b[0]==="..";)b.shift(),T-=1;a.pathname=b.join("/")}d=T>=0?e[T]:"/"}let m=FR(a,d),p=c&&c!=="/"&&c.endsWith("/"),v=(l||c===".")&&t.endsWith("/");return!m.pathname.endsWith("/")&&(p||v)&&(m.pathname+="/"),m}var ls=n=>n.join("/").replace(/\/\/+/g,"/"),qR=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),GR=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,KR=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function $R(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var Gb=["POST","PUT","PATCH","DELETE"];new Set(Gb);var YR=["GET",...Gb];new Set(YR);var Ho=V.createContext(null);Ho.displayName="DataRouter";var Ef=V.createContext(null);Ef.displayName="DataRouterState";var Kb=V.createContext({isTransitioning:!1});Kb.displayName="ViewTransition";var QR=V.createContext(new Map);QR.displayName="Fetchers";var XR=V.createContext(null);XR.displayName="Await";var Ii=V.createContext(null);Ii.displayName="Navigation";var ju=V.createContext(null);ju.displayName="Location";var Ni=V.createContext({outlet:null,matches:[],isDataRoute:!1});Ni.displayName="Route";var mg=V.createContext(null);mg.displayName="RouteError";function WR(n,{relative:e}={}){rt(Bu(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:s}=V.useContext(Ii),{hash:a,pathname:l,search:c}=zu(n,{relative:e}),d=l;return t!=="/"&&(d=l==="/"?t:ls([t,l])),s.createHref({pathname:d,search:c,hash:a})}function Bu(){return V.useContext(ju)!=null}function Ea(){return rt(Bu(),"useLocation() may be used only in the context of a <Router> component."),V.useContext(ju).location}var $b="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Yb(n){V.useContext(Ii).static||V.useLayoutEffect(n)}function Fu(){let{isDataRoute:n}=V.useContext(Ni);return n?cC():ZR()}function ZR(){rt(Bu(),"useNavigate() may be used only in the context of a <Router> component.");let n=V.useContext(Ho),{basename:e,navigator:t}=V.useContext(Ii),{matches:s}=V.useContext(Ni),{pathname:a}=Ea(),l=JSON.stringify(Hb(s)),c=V.useRef(!1);return Yb(()=>{c.current=!0}),V.useCallback((m,p={})=>{if(Ri(c.current,$b),!c.current)return;if(typeof m=="number"){t.go(m);return}let v=qb(m,JSON.parse(l),a,p.relative==="path");n==null&&e!=="/"&&(v.pathname=v.pathname==="/"?e:ls([e,v.pathname])),(p.replace?t.replace:t.push)(v,p.state,p)},[e,t,l,a,n])}V.createContext(null);function pg(){let{matches:n}=V.useContext(Ni),e=n[n.length-1];return e?e.params:{}}function zu(n,{relative:e}={}){let{matches:t}=V.useContext(Ni),{pathname:s}=Ea(),a=JSON.stringify(Hb(t));return V.useMemo(()=>qb(n,JSON.parse(a),s,e==="path"),[n,a,s,e])}function JR(n,e){return Qb(n,e)}function Qb(n,e,t,s){var Q;rt(Bu(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a,static:l}=V.useContext(Ii),{matches:c}=V.useContext(Ni),d=c[c.length-1],m=d?d.params:{},p=d?d.pathname:"/",v=d?d.pathnameBase:"/",T=d&&d.route;{let Y=T&&T.path||"";Xb(p,!T||Y.endsWith("*")||Y.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${Y}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${Y}"> to <Route path="${Y==="/"?"*":`${Y}/*`}">.`)}let b=Ea(),x;if(e){let Y=typeof e=="string"?zo(e):e;rt(v==="/"||((Q=Y.pathname)==null?void 0:Q.startsWith(v)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${v}" but pathname "${Y.pathname}" was given in the \`location\` prop.`),x=Y}else x=b;let D=x.pathname||"/",L=D;if(v!=="/"){let Y=v.replace(/^\//,"").split("/");L="/"+D.replace(/^\//,"").split("/").slice(Y.length).join("/")}let P=!l&&t&&t.matches&&t.matches.length>0?t.matches:Bb(n,{pathname:L});Ri(T||P!=null,`No routes matched location "${x.pathname}${x.search}${x.hash}" `),Ri(P==null||P[P.length-1].route.element!==void 0||P[P.length-1].route.Component!==void 0||P[P.length-1].route.lazy!==void 0,`Matched leaf route at location "${x.pathname}${x.search}${x.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let B=sC(P&&P.map(Y=>Object.assign({},Y,{params:Object.assign({},m,Y.params),pathname:ls([v,a.encodeLocation?a.encodeLocation(Y.pathname).pathname:Y.pathname]),pathnameBase:Y.pathnameBase==="/"?v:ls([v,a.encodeLocation?a.encodeLocation(Y.pathnameBase).pathname:Y.pathnameBase])})),c,t,s);return e&&B?V.createElement(ju.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...x},navigationType:"POP"}},B):B}function eC(){let n=uC(),e=$R(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,s="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:s},l={padding:"2px 4px",backgroundColor:s},c=null;return console.error("Error handled by React Router default ErrorBoundary:",n),c=V.createElement(V.Fragment,null,V.createElement("p",null,"💿 Hey developer 👋"),V.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",V.createElement("code",{style:l},"ErrorBoundary")," or"," ",V.createElement("code",{style:l},"errorElement")," prop on your route.")),V.createElement(V.Fragment,null,V.createElement("h2",null,"Unexpected Application Error!"),V.createElement("h3",{style:{fontStyle:"italic"}},e),t?V.createElement("pre",{style:a},t):null,c)}var tC=V.createElement(eC,null),nC=class extends V.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){console.error("React Router caught the following error during render",n,e)}render(){return this.state.error!==void 0?V.createElement(Ni.Provider,{value:this.props.routeContext},V.createElement(mg.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function iC({routeContext:n,match:e,children:t}){let s=V.useContext(Ho);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),V.createElement(Ni.Provider,{value:n},t)}function sC(n,e=[],t=null,s=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let a=n,l=t==null?void 0:t.errors;if(l!=null){let m=a.findIndex(p=>p.route.id&&(l==null?void 0:l[p.route.id])!==void 0);rt(m>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),a=a.slice(0,Math.min(a.length,m+1))}let c=!1,d=-1;if(t)for(let m=0;m<a.length;m++){let p=a[m];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(d=m),p.route.id){let{loaderData:v,errors:T}=t,b=p.route.loader&&!v.hasOwnProperty(p.route.id)&&(!T||T[p.route.id]===void 0);if(p.route.lazy||b){c=!0,d>=0?a=a.slice(0,d+1):a=[a[0]];break}}}return a.reduceRight((m,p,v)=>{let T,b=!1,x=null,D=null;t&&(T=l&&p.route.id?l[p.route.id]:void 0,x=p.route.errorElement||tC,c&&(d<0&&v===0?(Xb("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),b=!0,D=null):d===v&&(b=!0,D=p.route.hydrateFallbackElement||null)));let L=e.concat(a.slice(0,v+1)),P=()=>{let B;return T?B=x:b?B=D:p.route.Component?B=V.createElement(p.route.Component,null):p.route.element?B=p.route.element:B=m,V.createElement(iC,{match:p,routeContext:{outlet:m,matches:L,isDataRoute:t!=null},children:B})};return t&&(p.route.ErrorBoundary||p.route.errorElement||v===0)?V.createElement(nC,{location:t.location,revalidation:t.revalidation,component:x,error:T,children:P(),routeContext:{outlet:null,matches:L,isDataRoute:!0}}):P()},null)}function gg(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function rC(n){let e=V.useContext(Ho);return rt(e,gg(n)),e}function aC(n){let e=V.useContext(Ef);return rt(e,gg(n)),e}function oC(n){let e=V.useContext(Ni);return rt(e,gg(n)),e}function yg(n){let e=oC(n),t=e.matches[e.matches.length-1];return rt(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function lC(){return yg("useRouteId")}function uC(){var s;let n=V.useContext(mg),e=aC("useRouteError"),t=yg("useRouteError");return n!==void 0?n:(s=e.errors)==null?void 0:s[t]}function cC(){let{router:n}=rC("useNavigate"),e=yg("useNavigate"),t=V.useRef(!1);return Yb(()=>{t.current=!0}),V.useCallback(async(a,l={})=>{Ri(t.current,$b),t.current&&(typeof a=="number"?n.navigate(a):await n.navigate(a,{fromRouteId:e,...l}))},[n,e])}var iE={};function Xb(n,e,t){!e&&!iE[n]&&(iE[n]=!0,Ri(!1,t))}V.memo(hC);function hC({routes:n,future:e,state:t}){return Qb(n,void 0,t,e)}function ti(n){rt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function fC({basename:n="/",children:e=null,location:t,navigationType:s="POP",navigator:a,static:l=!1}){rt(!Bu(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=n.replace(/^\/*/,"/"),d=V.useMemo(()=>({basename:c,navigator:a,static:l,future:{}}),[c,a,l]);typeof t=="string"&&(t=zo(t));let{pathname:m="/",search:p="",hash:v="",state:T=null,key:b="default"}=t,x=V.useMemo(()=>{let D=yr(m,c);return D==null?null:{location:{pathname:D,search:p,hash:v,state:T,key:b},navigationType:s}},[c,m,p,v,T,b,s]);return Ri(x!=null,`<Router basename="${c}"> is not able to match the URL "${m}${p}${v}" because it does not start with the basename, so the <Router> won't render anything.`),x==null?null:V.createElement(Ii.Provider,{value:d},V.createElement(ju.Provider,{children:e,value:x}))}function dC({children:n,location:e}){return JR(wp(n),e)}function wp(n,e=[]){let t=[];return V.Children.forEach(n,(s,a)=>{if(!V.isValidElement(s))return;let l=[...e,a];if(s.type===V.Fragment){t.push.apply(t,wp(s.props.children,l));return}rt(s.type===ti,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),rt(!s.props.index||!s.props.children,"An index route cannot have child routes.");let c={id:s.props.id||l.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(c.children=wp(s.props.children,l)),t.push(c)}),t}var Mh="get",Oh="application/x-www-form-urlencoded";function Tf(n){return n!=null&&typeof n.tagName=="string"}function mC(n){return Tf(n)&&n.tagName.toLowerCase()==="button"}function pC(n){return Tf(n)&&n.tagName.toLowerCase()==="form"}function gC(n){return Tf(n)&&n.tagName.toLowerCase()==="input"}function yC(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function vC(n,e){return n.button===0&&(!e||e==="_self")&&!yC(n)}var wh=null;function _C(){if(wh===null)try{new FormData(document.createElement("form"),0),wh=!1}catch{wh=!0}return wh}var EC=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Wm(n){return n!=null&&!EC.has(n)?(Ri(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Oh}"`),null):n}function TC(n,e){let t,s,a,l,c;if(pC(n)){let d=n.getAttribute("action");s=d?yr(d,e):null,t=n.getAttribute("method")||Mh,a=Wm(n.getAttribute("enctype"))||Oh,l=new FormData(n)}else if(mC(n)||gC(n)&&(n.type==="submit"||n.type==="image")){let d=n.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let m=n.getAttribute("formaction")||d.getAttribute("action");if(s=m?yr(m,e):null,t=n.getAttribute("formmethod")||d.getAttribute("method")||Mh,a=Wm(n.getAttribute("formenctype"))||Wm(d.getAttribute("enctype"))||Oh,l=new FormData(d,n),!_C()){let{name:p,type:v,value:T}=n;if(v==="image"){let b=p?`${p}.`:"";l.append(`${b}x`,"0"),l.append(`${b}y`,"0")}else p&&l.append(p,T)}}else{if(Tf(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=Mh,s=null,a=Oh,c=n}return l&&a==="text/plain"&&(c=l,l=void 0),{action:s,method:t.toLowerCase(),encType:a,formData:l,body:c}}function vg(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}async function bC(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function wC(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function SC(n,e,t){let s=await Promise.all(n.map(async a=>{let l=e.routes[a.route.id];if(l){let c=await bC(l,t);return c.links?c.links():[]}return[]}));return CC(s.flat(1).filter(wC).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function sE(n,e,t,s,a,l){let c=(m,p)=>t[p]?m.route.id!==t[p].route.id:!0,d=(m,p)=>{var v;return t[p].pathname!==m.pathname||((v=t[p].route.path)==null?void 0:v.endsWith("*"))&&t[p].params["*"]!==m.params["*"]};return l==="assets"?e.filter((m,p)=>c(m,p)||d(m,p)):l==="data"?e.filter((m,p)=>{var T;let v=s.routes[m.route.id];if(!v||!v.hasLoader)return!1;if(c(m,p)||d(m,p))return!0;if(m.route.shouldRevalidate){let b=m.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:((T=t[0])==null?void 0:T.params)||{},nextUrl:new URL(n,window.origin),nextParams:m.params,defaultShouldRevalidate:!0});if(typeof b=="boolean")return b}return!0}):[]}function AC(n,e){return xC(n.map(t=>{let s=e.routes[t.route.id];if(!s)return[];let a=[s.module];return s.imports&&(a=a.concat(s.imports)),a}).flat(1))}function xC(n){return[...new Set(n)]}function RC(n){let e={},t=Object.keys(n).sort();for(let s of t)e[s]=n[s];return e}function CC(n,e){let t=new Set;return new Set(e),n.reduce((s,a)=>{let l=JSON.stringify(RC(a));return t.has(l)||(t.add(l),s.push({key:l,link:a})),s},[])}function DC(n){let e=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return e.pathname==="/"?e.pathname="_root.data":e.pathname=`${e.pathname.replace(/\/$/,"")}.data`,e}function IC(){let n=V.useContext(Ho);return vg(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function NC(){let n=V.useContext(Ef);return vg(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var _g=V.createContext(void 0);_g.displayName="FrameworkContext";function Wb(){let n=V.useContext(_g);return vg(n,"You must render this element inside a <HydratedRouter> element"),n}function VC(n,e){let t=V.useContext(_g),[s,a]=V.useState(!1),[l,c]=V.useState(!1),{onFocus:d,onBlur:m,onMouseEnter:p,onMouseLeave:v,onTouchStart:T}=e,b=V.useRef(null);V.useEffect(()=>{if(n==="render"&&c(!0),n==="viewport"){let L=B=>{B.forEach(Q=>{c(Q.isIntersecting)})},P=new IntersectionObserver(L,{threshold:.5});return b.current&&P.observe(b.current),()=>{P.disconnect()}}},[n]),V.useEffect(()=>{if(s){let L=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(L)}}},[s]);let x=()=>{a(!0)},D=()=>{a(!1),c(!1)};return t?n!=="intent"?[l,b,{}]:[l,b,{onFocus:ou(d,x),onBlur:ou(m,D),onMouseEnter:ou(p,x),onMouseLeave:ou(v,D),onTouchStart:ou(T,x)}]:[!1,b,{}]}function ou(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function MC({page:n,...e}){let{router:t}=IC(),s=V.useMemo(()=>Bb(t.routes,n,t.basename),[t.routes,n,t.basename]);return s?V.createElement(PC,{page:n,matches:s,...e}):null}function OC(n){let{manifest:e,routeModules:t}=Wb(),[s,a]=V.useState([]);return V.useEffect(()=>{let l=!1;return SC(n,e,t).then(c=>{l||a(c)}),()=>{l=!0}},[n,e,t]),s}function PC({page:n,matches:e,...t}){let s=Ea(),{manifest:a,routeModules:l}=Wb(),{loaderData:c,matches:d}=NC(),m=V.useMemo(()=>sE(n,e,d,a,s,"data"),[n,e,d,a,s]),p=V.useMemo(()=>sE(n,e,d,a,s,"assets"),[n,e,d,a,s]),v=V.useMemo(()=>{if(n===s.pathname+s.search+s.hash)return[];let x=new Set,D=!1;if(e.forEach(P=>{var Q;let B=a.routes[P.route.id];!B||!B.hasLoader||(!m.some(Y=>Y.route.id===P.route.id)&&P.route.id in c&&((Q=l[P.route.id])!=null&&Q.shouldRevalidate)||B.hasClientLoader?D=!0:x.add(P.route.id))}),x.size===0)return[];let L=DC(n);return D&&x.size>0&&L.searchParams.set("_routes",e.filter(P=>x.has(P.route.id)).map(P=>P.route.id).join(",")),[L.pathname+L.search]},[c,s,a,m,e,n,l]),T=V.useMemo(()=>AC(p,a),[p,a]),b=OC(p);return V.createElement(V.Fragment,null,v.map(x=>V.createElement("link",{key:x,rel:"prefetch",as:"fetch",href:x,...t})),T.map(x=>V.createElement("link",{key:x,rel:"modulepreload",href:x,...t})),b.map(({key:x,link:D})=>V.createElement("link",{key:x,...D})))}function kC(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var Zb=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Zb&&(window.__reactRouterVersion="7.1.5")}catch{}function LC({basename:n,children:e,window:t}){let s=V.useRef();s.current==null&&(s.current=AR({window:t,v5Compat:!0}));let a=s.current,[l,c]=V.useState({action:a.action,location:a.location}),d=V.useCallback(m=>{V.startTransition(()=>c(m))},[c]);return V.useLayoutEffect(()=>a.listen(d),[a,d]),V.createElement(fC,{basename:n,children:e,location:l.location,navigationType:l.action,navigator:a})}var Jb=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ew=V.forwardRef(function({onClick:e,discover:t="render",prefetch:s="none",relative:a,reloadDocument:l,replace:c,state:d,target:m,to:p,preventScrollReset:v,viewTransition:T,...b},x){let{basename:D}=V.useContext(Ii),L=typeof p=="string"&&Jb.test(p),P,B=!1;if(typeof p=="string"&&L&&(P=p,Zb))try{let R=new URL(window.location.href),N=p.startsWith("//")?new URL(R.protocol+p):new URL(p),U=yr(N.pathname,D);N.origin===R.origin&&U!=null?p=U+N.search+N.hash:B=!0}catch{Ri(!1,`<Link to="${p}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let Q=WR(p,{relative:a}),[Y,ae,G]=VC(s,b),se=FC(p,{replace:c,state:d,target:m,preventScrollReset:v,relative:a,viewTransition:T});function O(R){e&&e(R),R.defaultPrevented||se(R)}let C=V.createElement("a",{...b,...G,href:P||Q,onClick:B||l?e:O,ref:kC(x,ae),target:m,"data-discover":!L&&t==="render"?"true":void 0});return Y&&!L?V.createElement(V.Fragment,null,C,V.createElement(MC,{page:Q})):C});ew.displayName="Link";var UC=V.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:s="",end:a=!1,style:l,to:c,viewTransition:d,children:m,...p},v){let T=zu(c,{relative:p.relative}),b=Ea(),x=V.useContext(Ef),{navigator:D,basename:L}=V.useContext(Ii),P=x!=null&&KC(T)&&d===!0,B=D.encodeLocation?D.encodeLocation(T).pathname:T.pathname,Q=b.pathname,Y=x&&x.navigation&&x.navigation.location?x.navigation.location.pathname:null;t||(Q=Q.toLowerCase(),Y=Y?Y.toLowerCase():null,B=B.toLowerCase()),Y&&L&&(Y=yr(Y,L)||Y);const ae=B!=="/"&&B.endsWith("/")?B.length-1:B.length;let G=Q===B||!a&&Q.startsWith(B)&&Q.charAt(ae)==="/",se=Y!=null&&(Y===B||!a&&Y.startsWith(B)&&Y.charAt(B.length)==="/"),O={isActive:G,isPending:se,isTransitioning:P},C=G?e:void 0,R;typeof s=="function"?R=s(O):R=[s,G?"active":null,se?"pending":null,P?"transitioning":null].filter(Boolean).join(" ");let N=typeof l=="function"?l(O):l;return V.createElement(ew,{...p,"aria-current":C,className:R,ref:v,style:N,to:c,viewTransition:d},typeof m=="function"?m(O):m)});UC.displayName="NavLink";var jC=V.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:s,replace:a,state:l,method:c=Mh,action:d,onSubmit:m,relative:p,preventScrollReset:v,viewTransition:T,...b},x)=>{let D=qC(),L=GC(d,{relative:p}),P=c.toLowerCase()==="get"?"get":"post",B=typeof d=="string"&&Jb.test(d),Q=Y=>{if(m&&m(Y),Y.defaultPrevented)return;Y.preventDefault();let ae=Y.nativeEvent.submitter,G=(ae==null?void 0:ae.getAttribute("formmethod"))||c;D(ae||Y.currentTarget,{fetcherKey:e,method:G,navigate:t,replace:a,state:l,relative:p,preventScrollReset:v,viewTransition:T})};return V.createElement("form",{ref:x,method:P,action:L,onSubmit:s?m:Q,...b,"data-discover":!B&&n==="render"?"true":void 0})});jC.displayName="Form";function BC(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function tw(n){let e=V.useContext(Ho);return rt(e,BC(n)),e}function FC(n,{target:e,replace:t,state:s,preventScrollReset:a,relative:l,viewTransition:c}={}){let d=Fu(),m=Ea(),p=zu(n,{relative:l});return V.useCallback(v=>{if(vC(v,e)){v.preventDefault();let T=t!==void 0?t:Su(m)===Su(p);d(n,{replace:T,state:s,preventScrollReset:a,relative:l,viewTransition:c})}},[m,d,p,t,s,e,n,a,l,c])}var zC=0,HC=()=>`__${String(++zC)}__`;function qC(){let{router:n}=tw("useSubmit"),{basename:e}=V.useContext(Ii),t=lC();return V.useCallback(async(s,a={})=>{let{action:l,method:c,encType:d,formData:m,body:p}=TC(s,e);if(a.navigate===!1){let v=a.fetcherKey||HC();await n.fetch(v,t,a.action||l,{preventScrollReset:a.preventScrollReset,formData:m,body:p,formMethod:a.method||c,formEncType:a.encType||d,flushSync:a.flushSync})}else await n.navigate(a.action||l,{preventScrollReset:a.preventScrollReset,formData:m,body:p,formMethod:a.method||c,formEncType:a.encType||d,replace:a.replace,state:a.state,fromRouteId:t,flushSync:a.flushSync,viewTransition:a.viewTransition})},[n,e,t])}function GC(n,{relative:e}={}){let{basename:t}=V.useContext(Ii),s=V.useContext(Ni);rt(s,"useFormAction must be used inside a RouteContext");let[a]=s.matches.slice(-1),l={...zu(n||".",{relative:e})},c=Ea();if(n==null){l.search=c.search;let d=new URLSearchParams(l.search),m=d.getAll("index");if(m.some(v=>v==="")){d.delete("index"),m.filter(T=>T).forEach(T=>d.append("index",T));let v=d.toString();l.search=v?`?${v}`:""}}return(!n||n===".")&&a.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(l.pathname=l.pathname==="/"?t:ls([t,l.pathname])),Su(l)}function KC(n,e={}){let t=V.useContext(Kb);rt(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=tw("useViewTransitionState"),a=zu(n,{relative:e.relative});if(!t.isTransitioning)return!1;let l=yr(t.currentLocation.pathname,s)||t.currentLocation.pathname,c=yr(t.nextLocation.pathname,s)||t.nextLocation.pathname;return Yh(a.pathname,c)!=null||Yh(a.pathname,l)!=null}new TextEncoder;const nw=V.createContext({});function $C(n){const e=V.useRef(null);return e.current===null&&(e.current=n()),e.current}const Eg=typeof window<"u",YC=Eg?V.useLayoutEffect:V.useEffect,Tg=V.createContext(null),iw=V.createContext({transformPagePoint:n=>n,isStatic:!1,reducedMotion:"never"});function QC(n=!0){const e=V.useContext(Tg);if(e===null)return[!0,null];const{isPresent:t,onExitComplete:s,register:a}=e,l=V.useId();V.useEffect(()=>{if(n)return a(l)},[n]);const c=V.useCallback(()=>n&&s&&s(l),[l,s,n]);return!t&&s?[!1,c]:[!0]}function bg(n,e){n.indexOf(e)===-1&&n.push(e)}function wg(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}const Rn=n=>n;let Sp=Rn;const XC={skipAnimations:!1,useManualTiming:!1};function Sg(n){let e;return()=>(e===void 0&&(e=n()),e)}const Io=(n,e,t)=>{const s=e-n;return s===0?1:(t-n)/s};class Ag{constructor(){this.subscriptions=[]}add(e){return bg(this.subscriptions,e),()=>wg(this.subscriptions,e)}notify(e,t,s){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](e,t,s);else for(let l=0;l<a;l++){const c=this.subscriptions[l];c&&c(e,t,s)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const us=n=>n*1e3,cs=n=>n/1e3;function sw(n,e){return e?n*(1e3/e):0}const WC=Sg(()=>window.ScrollTimeline!==void 0);class ZC{constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}get finished(){return Promise.all(this.animations.map(e=>"finished"in e?e.finished:e))}getAll(e){return this.animations[0][e]}setAll(e,t){for(let s=0;s<this.animations.length;s++)this.animations[s][e]=t}attachTimeline(e,t){const s=this.animations.map(a=>{if(WC()&&a.attachTimeline)return a.attachTimeline(e);if(typeof t=="function")return t(a)});return()=>{s.forEach((a,l)=>{a&&a(),this.animations[l].stop()})}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get startTime(){return this.getAll("startTime")}get duration(){let e=0;for(let t=0;t<this.animations.length;t++)e=Math.max(e,this.animations[t].duration);return e}runAll(e){this.animations.forEach(t=>t[e]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class JC extends ZC{then(e,t){return Promise.all(this.animations).then(e).catch(t)}}function xg(n,e){return n?n[e]||n.default||n:void 0}const Ap=2e4;function rw(n){let e=0;const t=50;let s=n.next(e);for(;!s.done&&e<Ap;)e+=t,s=n.next(e);return e>=Ap?1/0:e}function Rg(n){return typeof n=="function"}function rE(n,e){n.timeline=e,n.onfinish=null}const Cg=n=>Array.isArray(n)&&typeof n[0]=="number",e2={linearEasing:void 0};function t2(n,e){const t=Sg(n);return()=>{var s;return(s=e2[e])!==null&&s!==void 0?s:t()}}const Qh=t2(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),aw=(n,e,t=10)=>{let s="";const a=Math.max(Math.round(e/t),2);for(let l=0;l<a;l++)s+=n(Io(0,a-1,l))+", ";return`linear(${s.substring(0,s.length-2)})`};function ow(n){return!!(typeof n=="function"&&Qh()||!n||typeof n=="string"&&(n in xp||Qh())||Cg(n)||Array.isArray(n)&&n.every(ow))}const uu=([n,e,t,s])=>`cubic-bezier(${n}, ${e}, ${t}, ${s})`,xp={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:uu([0,.65,.55,1]),circOut:uu([.55,0,1,.45]),backIn:uu([.31,.01,.66,-.59]),backOut:uu([.33,1.53,.69,.99])};function lw(n,e){if(n)return typeof n=="function"&&Qh()?aw(n,e):Cg(n)?uu(n):Array.isArray(n)?n.map(t=>lw(t,e)||xp.easeOut):xp[n]}const Sh=["read","resolveKeyframes","update","preRender","render","postRender"];function n2(n,e){let t=new Set,s=new Set,a=!1,l=!1;const c=new WeakSet;let d={delta:0,timestamp:0,isProcessing:!1};function m(v){c.has(v)&&(p.schedule(v),n()),v(d)}const p={schedule:(v,T=!1,b=!1)=>{const D=b&&a?t:s;return T&&c.add(v),D.has(v)||D.add(v),v},cancel:v=>{s.delete(v),c.delete(v)},process:v=>{if(d=v,a){l=!0;return}a=!0,[t,s]=[s,t],t.forEach(m),t.clear(),a=!1,l&&(l=!1,p.process(v))}};return p}const i2=40;function uw(n,e){let t=!1,s=!0;const a={delta:0,timestamp:0,isProcessing:!1},l=()=>t=!0,c=Sh.reduce((B,Q)=>(B[Q]=n2(l),B),{}),{read:d,resolveKeyframes:m,update:p,preRender:v,render:T,postRender:b}=c,x=()=>{const B=performance.now();t=!1,a.delta=s?1e3/60:Math.max(Math.min(B-a.timestamp,i2),1),a.timestamp=B,a.isProcessing=!0,d.process(a),m.process(a),p.process(a),v.process(a),T.process(a),b.process(a),a.isProcessing=!1,t&&e&&(s=!1,n(x))},D=()=>{t=!0,s=!0,a.isProcessing||n(x)};return{schedule:Sh.reduce((B,Q)=>{const Y=c[Q];return B[Q]=(ae,G=!1,se=!1)=>(t||D(),Y.schedule(ae,G,se)),B},{}),cancel:B=>{for(let Q=0;Q<Sh.length;Q++)c[Sh[Q]].cancel(B)},state:a,steps:c}}const{schedule:Je,cancel:vr,state:Gt,steps:Zm}=uw(typeof requestAnimationFrame<"u"?requestAnimationFrame:Rn,!0),{schedule:Dg,cancel:aU}=uw(queueMicrotask,!1);let Ph;function s2(){Ph=void 0}const Ti={now:()=>(Ph===void 0&&Ti.set(Gt.isProcessing||XC.useManualTiming?Gt.timestamp:performance.now()),Ph),set:n=>{Ph=n,queueMicrotask(s2)}},ni={x:!1,y:!1};function cw(){return ni.x||ni.y}function r2(n){return n==="x"||n==="y"?ni[n]?null:(ni[n]=!0,()=>{ni[n]=!1}):ni.x||ni.y?null:(ni.x=ni.y=!0,()=>{ni.x=ni.y=!1})}function a2(n,e,t){var s;if(n instanceof EventTarget)return[n];if(typeof n=="string"){let a=document;const l=(s=void 0)!==null&&s!==void 0?s:a.querySelectorAll(n);return l?Array.from(l):[]}return Array.from(n)}function hw(n,e){const t=a2(n),s=new AbortController,a={passive:!0,...e,signal:s.signal};return[t,a,()=>s.abort()]}function aE(n){return!(n.pointerType==="touch"||cw())}function o2(n,e,t={}){const[s,a,l]=hw(n,t),c=d=>{if(!aE(d))return;const{target:m}=d,p=e(m,d);if(typeof p!="function"||!m)return;const v=T=>{aE(T)&&(p(T),m.removeEventListener("pointerleave",v))};m.addEventListener("pointerleave",v,a)};return s.forEach(d=>{d.addEventListener("pointerenter",c,a)}),l}const fw=(n,e)=>e?n===e?!0:fw(n,e.parentElement):!1,Ig=n=>n.pointerType==="mouse"?typeof n.button!="number"||n.button<=0:n.isPrimary!==!1,l2=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function u2(n){return l2.has(n.tagName)||n.tabIndex!==-1}const cu=new WeakSet;function oE(n){return e=>{e.key==="Enter"&&n(e)}}function Jm(n,e){n.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const c2=(n,e)=>{const t=n.currentTarget;if(!t)return;const s=oE(()=>{if(cu.has(t))return;Jm(t,"down");const a=oE(()=>{Jm(t,"up")}),l=()=>Jm(t,"cancel");t.addEventListener("keyup",a,e),t.addEventListener("blur",l,e)});t.addEventListener("keydown",s,e),t.addEventListener("blur",()=>t.removeEventListener("keydown",s),e)};function lE(n){return Ig(n)&&!cw()}function h2(n,e,t={}){const[s,a,l]=hw(n,t),c=d=>{const m=d.currentTarget;if(!lE(d)||cu.has(m))return;cu.add(m);const p=e(m,d),v=(x,D)=>{window.removeEventListener("pointerup",T),window.removeEventListener("pointercancel",b),!(!lE(x)||!cu.has(m))&&(cu.delete(m),typeof p=="function"&&p(x,{success:D}))},T=x=>{v(x,m===window||m===document||t.useGlobalTarget||fw(m,x.target))},b=x=>{v(x,!1)};window.addEventListener("pointerup",T,a),window.addEventListener("pointercancel",b,a)};return s.forEach(d=>{(t.useGlobalTarget?window:d).addEventListener("pointerdown",c,a),d instanceof HTMLElement&&(d.addEventListener("focus",p=>c2(p,a)),!u2(d)&&d.tabIndex===null&&(d.tabIndex=0))}),l}const uE=30,f2=n=>!isNaN(parseFloat(n));class d2{constructor(e,t={}){this.version="12.6.1",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(s,a=!0)=>{const l=Ti.now();this.updatedAt!==l&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(s),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),a&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=t.owner}setCurrent(e){this.current=e,this.updatedAt=Ti.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=f2(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,t){this.events[e]||(this.events[e]=new Ag);const s=this.events[e].add(t);return e==="change"?()=>{s(),Je.read(()=>{this.events.change.getSize()||this.stop()})}:s}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,t){this.passiveEffect=e,this.stopPassiveEffect=t}set(e,t=!0){!t||!this.passiveEffect?this.updateAndNotify(e,t):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,t,s){this.set(t),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-s}jump(e,t=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,t&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Ti.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>uE)return 0;const t=Math.min(this.updatedAt-this.prevUpdatedAt,uE);return sw(parseFloat(this.current)-parseFloat(this.prevFrameValue),t)}start(e){return this.stop(),new Promise(t=>{this.hasAnimated=!0,this.animation=e(t),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Au(n,e){return new d2(n,e)}const dw=V.createContext({strict:!1}),cE={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},No={};for(const n in cE)No[n]={isEnabled:e=>cE[n].some(t=>!!e[t])};function m2(n){for(const e in n)No[e]={...No[e],...n[e]}}const p2=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Xh(n){return n.startsWith("while")||n.startsWith("drag")&&n!=="draggable"||n.startsWith("layout")||n.startsWith("onTap")||n.startsWith("onPan")||n.startsWith("onLayout")||p2.has(n)}let mw=n=>!Xh(n);function g2(n){n&&(mw=e=>e.startsWith("on")?!Xh(e):n(e))}try{g2(require("@emotion/is-prop-valid").default)}catch{}function y2(n,e,t){const s={};for(const a in n)a==="values"&&typeof n.values=="object"||(mw(a)||t===!0&&Xh(a)||!e&&!Xh(a)||n.draggable&&a.startsWith("onDrag"))&&(s[a]=n[a]);return s}function v2(n){if(typeof Proxy>"u")return n;const e=new Map,t=(...s)=>n(...s);return new Proxy(t,{get:(s,a)=>a==="create"?n:(e.has(a)||e.set(a,n(a)),e.get(a))})}const bf=V.createContext({});function wf(n){return n!==null&&typeof n=="object"&&typeof n.start=="function"}function xu(n){return typeof n=="string"||Array.isArray(n)}const Ng=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Vg=["initial",...Ng];function Sf(n){return wf(n.animate)||Vg.some(e=>xu(n[e]))}function pw(n){return!!(Sf(n)||n.variants)}function _2(n,e){if(Sf(n)){const{initial:t,animate:s}=n;return{initial:t===!1||xu(t)?t:void 0,animate:xu(s)?s:void 0}}return n.inherit!==!1?e:{}}function E2(n){const{initial:e,animate:t}=_2(n,V.useContext(bf));return V.useMemo(()=>({initial:e,animate:t}),[hE(e),hE(t)])}function hE(n){return Array.isArray(n)?n.join(" "):n}const T2=Symbol.for("motionComponentSymbol");function Eo(n){return n&&typeof n=="object"&&Object.prototype.hasOwnProperty.call(n,"current")}function b2(n,e,t){return V.useCallback(s=>{s&&n.onMount&&n.onMount(s),e&&(s?e.mount(s):e.unmount()),t&&(typeof t=="function"?t(s):Eo(t)&&(t.current=s))},[e])}const Mg=n=>n.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),w2="framerAppearId",gw="data-"+Mg(w2),yw=V.createContext({});function S2(n,e,t,s,a){var l,c;const{visualElement:d}=V.useContext(bf),m=V.useContext(dw),p=V.useContext(Tg),v=V.useContext(iw).reducedMotion,T=V.useRef(null);s=s||m.renderer,!T.current&&s&&(T.current=s(n,{visualState:e,parent:d,props:t,presenceContext:p,blockInitialAnimation:p?p.initial===!1:!1,reducedMotionConfig:v}));const b=T.current,x=V.useContext(yw);b&&!b.projection&&a&&(b.type==="html"||b.type==="svg")&&A2(T.current,t,a,x);const D=V.useRef(!1);V.useInsertionEffect(()=>{b&&D.current&&b.update(t,p)});const L=t[gw],P=V.useRef(!!L&&!(!((l=window.MotionHandoffIsComplete)===null||l===void 0)&&l.call(window,L))&&((c=window.MotionHasOptimisedAnimation)===null||c===void 0?void 0:c.call(window,L)));return YC(()=>{b&&(D.current=!0,window.MotionIsMounted=!0,b.updateFeatures(),Dg.render(b.render),P.current&&b.animationState&&b.animationState.animateChanges())}),V.useEffect(()=>{b&&(!P.current&&b.animationState&&b.animationState.animateChanges(),P.current&&(queueMicrotask(()=>{var B;(B=window.MotionHandoffMarkAsComplete)===null||B===void 0||B.call(window,L)}),P.current=!1))}),b}function A2(n,e,t,s){const{layoutId:a,layout:l,drag:c,dragConstraints:d,layoutScroll:m,layoutRoot:p}=e;n.projection=new t(n.latestValues,e["data-framer-portal-id"]?void 0:vw(n.parent)),n.projection.setOptions({layoutId:a,layout:l,alwaysMeasureLayout:!!c||d&&Eo(d),visualElement:n,animationType:typeof l=="string"?l:"both",initialPromotionConfig:s,layoutScroll:m,layoutRoot:p})}function vw(n){if(n)return n.options.allowProjection!==!1?n.projection:vw(n.parent)}function x2({preloadedFeatures:n,createVisualElement:e,useRender:t,useVisualState:s,Component:a}){var l,c;n&&m2(n);function d(p,v){let T;const b={...V.useContext(iw),...p,layoutId:R2(p)},{isStatic:x}=b,D=E2(p),L=s(p,x);if(!x&&Eg){C2();const P=D2(b);T=P.MeasureLayout,D.visualElement=S2(a,L,b,e,P.ProjectionNode)}return w.jsxs(bf.Provider,{value:D,children:[T&&D.visualElement?w.jsx(T,{visualElement:D.visualElement,...b}):null,t(a,p,b2(L,D.visualElement,v),L,x,D.visualElement)]})}d.displayName=`motion.${typeof a=="string"?a:`create(${(c=(l=a.displayName)!==null&&l!==void 0?l:a.name)!==null&&c!==void 0?c:""})`}`;const m=V.forwardRef(d);return m[T2]=a,m}function R2({layoutId:n}){const e=V.useContext(nw).id;return e&&n!==void 0?e+"-"+n:n}function C2(n,e){V.useContext(dw).strict}function D2(n){const{drag:e,layout:t}=No;if(!e&&!t)return{};const s={...e,...t};return{MeasureLayout:e!=null&&e.isEnabled(n)||t!=null&&t.isEnabled(n)?s.MeasureLayout:void 0,ProjectionNode:s.ProjectionNode}}const _w=n=>e=>typeof e=="string"&&e.startsWith(n),Og=_w("--"),I2=_w("var(--"),Pg=n=>I2(n)?N2.test(n.split("/*")[0].trim()):!1,N2=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Ru={};function V2(n){for(const e in n)Ru[e]=n[e],Og(e)&&(Ru[e].isCSSVariable=!0)}const qo=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Ta=new Set(qo);function Ew(n,{layout:e,layoutId:t}){return Ta.has(n)||n.startsWith("origin")||(e||t!==void 0)&&(!!Ru[n]||n==="opacity")}const nn=n=>!!(n&&n.getVelocity),Tw=(n,e)=>e&&typeof n=="number"?e.transform(n):n,fs=(n,e,t)=>t>e?e:t<n?n:t,Go={test:n=>typeof n=="number",parse:parseFloat,transform:n=>n},Cu={...Go,transform:n=>fs(0,1,n)},Ah={...Go,default:1},Hu=n=>({test:e=>typeof e=="string"&&e.endsWith(n)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${n}`}),rr=Hu("deg"),bi=Hu("%"),Ee=Hu("px"),M2=Hu("vh"),O2=Hu("vw"),fE={...bi,parse:n=>bi.parse(n)/100,transform:n=>bi.transform(n*100)},P2={borderWidth:Ee,borderTopWidth:Ee,borderRightWidth:Ee,borderBottomWidth:Ee,borderLeftWidth:Ee,borderRadius:Ee,radius:Ee,borderTopLeftRadius:Ee,borderTopRightRadius:Ee,borderBottomRightRadius:Ee,borderBottomLeftRadius:Ee,width:Ee,maxWidth:Ee,height:Ee,maxHeight:Ee,top:Ee,right:Ee,bottom:Ee,left:Ee,padding:Ee,paddingTop:Ee,paddingRight:Ee,paddingBottom:Ee,paddingLeft:Ee,margin:Ee,marginTop:Ee,marginRight:Ee,marginBottom:Ee,marginLeft:Ee,backgroundPositionX:Ee,backgroundPositionY:Ee},k2={rotate:rr,rotateX:rr,rotateY:rr,rotateZ:rr,scale:Ah,scaleX:Ah,scaleY:Ah,scaleZ:Ah,skew:rr,skewX:rr,skewY:rr,distance:Ee,translateX:Ee,translateY:Ee,translateZ:Ee,x:Ee,y:Ee,z:Ee,perspective:Ee,transformPerspective:Ee,opacity:Cu,originX:fE,originY:fE,originZ:Ee},dE={...Go,transform:Math.round},kg={...P2,...k2,zIndex:dE,size:Ee,fillOpacity:Cu,strokeOpacity:Cu,numOctaves:dE},L2={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},U2=qo.length;function j2(n,e,t){let s="",a=!0;for(let l=0;l<U2;l++){const c=qo[l],d=n[c];if(d===void 0)continue;let m=!0;if(typeof d=="number"?m=d===(c.startsWith("scale")?1:0):m=parseFloat(d)===0,!m||t){const p=Tw(d,kg[c]);if(!m){a=!1;const v=L2[c]||c;s+=`${v}(${p}) `}t&&(e[c]=p)}}return s=s.trim(),t?s=t(e,a?"":s):a&&(s="none"),s}function Lg(n,e,t){const{style:s,vars:a,transformOrigin:l}=n;let c=!1,d=!1;for(const m in e){const p=e[m];if(Ta.has(m)){c=!0;continue}else if(Og(m)){a[m]=p;continue}else{const v=Tw(p,kg[m]);m.startsWith("origin")?(d=!0,l[m]=v):s[m]=v}}if(e.transform||(c||t?s.transform=j2(e,n.transform,t):s.transform&&(s.transform="none")),d){const{originX:m="50%",originY:p="50%",originZ:v=0}=l;s.transformOrigin=`${m} ${p} ${v}`}}const Ug=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function bw(n,e,t){for(const s in e)!nn(e[s])&&!Ew(s,t)&&(n[s]=e[s])}function B2({transformTemplate:n},e){return V.useMemo(()=>{const t=Ug();return Lg(t,e,n),Object.assign({},t.vars,t.style)},[e])}function F2(n,e){const t=n.style||{},s={};return bw(s,t,n),Object.assign(s,B2(n,e)),s}function z2(n,e){const t={},s=F2(n,e);return n.drag&&n.dragListener!==!1&&(t.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=n.drag===!0?"none":`pan-${n.drag==="x"?"y":"x"}`),n.tabIndex===void 0&&(n.onTap||n.onTapStart||n.whileTap)&&(t.tabIndex=0),t.style=s,t}const H2=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function jg(n){return typeof n!="string"||n.includes("-")?!1:!!(H2.indexOf(n)>-1||/[A-Z]/u.test(n))}const q2={offset:"stroke-dashoffset",array:"stroke-dasharray"},G2={offset:"strokeDashoffset",array:"strokeDasharray"};function K2(n,e,t=1,s=0,a=!0){n.pathLength=1;const l=a?q2:G2;n[l.offset]=Ee.transform(-s);const c=Ee.transform(e),d=Ee.transform(t);n[l.array]=`${c} ${d}`}function mE(n,e,t){return typeof n=="string"?n:Ee.transform(e+t*n)}function $2(n,e,t){const s=mE(e,n.x,n.width),a=mE(t,n.y,n.height);return`${s} ${a}`}function Bg(n,{attrX:e,attrY:t,attrScale:s,originX:a,originY:l,pathLength:c,pathSpacing:d=1,pathOffset:m=0,...p},v,T){if(Lg(n,p,T),v){n.style.viewBox&&(n.attrs.viewBox=n.style.viewBox);return}n.attrs=n.style,n.style={};const{attrs:b,style:x,dimensions:D}=n;b.transform&&(D&&(x.transform=b.transform),delete b.transform),D&&(a!==void 0||l!==void 0||x.transform)&&(x.transformOrigin=$2(D,a!==void 0?a:.5,l!==void 0?l:.5)),e!==void 0&&(b.x=e),t!==void 0&&(b.y=t),s!==void 0&&(b.scale=s),c!==void 0&&K2(b,c,d,m,!1)}const ww=()=>({...Ug(),attrs:{}}),Fg=n=>typeof n=="string"&&n.toLowerCase()==="svg";function Y2(n,e,t,s){const a=V.useMemo(()=>{const l=ww();return Bg(l,e,Fg(s),n.transformTemplate),{...l.attrs,style:{...l.style}}},[e]);if(n.style){const l={};bw(l,n.style,n),a.style={...l,...a.style}}return a}function Q2(n=!1){return(t,s,a,{latestValues:l},c)=>{const m=(jg(t)?Y2:z2)(s,l,c,t),p=y2(s,typeof t=="string",n),v=t!==V.Fragment?{...p,...m,ref:a}:{},{children:T}=s,b=V.useMemo(()=>nn(T)?T.get():T,[T]);return V.createElement(t,{...v,children:b})}}function pE(n){const e=[{},{}];return n==null||n.values.forEach((t,s)=>{e[0][s]=t.get(),e[1][s]=t.getVelocity()}),e}function zg(n,e,t,s){if(typeof e=="function"){const[a,l]=pE(s);e=e(t!==void 0?t:n.custom,a,l)}if(typeof e=="string"&&(e=n.variants&&n.variants[e]),typeof e=="function"){const[a,l]=pE(s);e=e(t!==void 0?t:n.custom,a,l)}return e}const Rp=n=>Array.isArray(n),X2=n=>!!(n&&typeof n=="object"&&n.mix&&n.toValue),W2=n=>Rp(n)?n[n.length-1]||0:n;function kh(n){const e=nn(n)?n.get():n;return X2(e)?e.toValue():e}function Z2({scrapeMotionValuesFromProps:n,createRenderState:e,onUpdate:t},s,a,l){const c={latestValues:J2(s,a,l,n),renderState:e()};return t&&(c.onMount=d=>t({props:s,current:d,...c}),c.onUpdate=d=>t(d)),c}const Sw=n=>(e,t)=>{const s=V.useContext(bf),a=V.useContext(Tg),l=()=>Z2(n,e,s,a);return t?l():$C(l)};function J2(n,e,t,s){const a={},l=s(n,{});for(const b in l)a[b]=kh(l[b]);let{initial:c,animate:d}=n;const m=Sf(n),p=pw(n);e&&p&&!m&&n.inherit!==!1&&(c===void 0&&(c=e.initial),d===void 0&&(d=e.animate));let v=t?t.initial===!1:!1;v=v||c===!1;const T=v?d:c;if(T&&typeof T!="boolean"&&!wf(T)){const b=Array.isArray(T)?T:[T];for(let x=0;x<b.length;x++){const D=zg(n,b[x]);if(D){const{transitionEnd:L,transition:P,...B}=D;for(const Q in B){let Y=B[Q];if(Array.isArray(Y)){const ae=v?Y.length-1:0;Y=Y[ae]}Y!==null&&(a[Q]=Y)}for(const Q in L)a[Q]=L[Q]}}}return a}function Hg(n,e,t){var s;const{style:a}=n,l={};for(const c in a)(nn(a[c])||e.style&&nn(e.style[c])||Ew(c,n)||((s=t==null?void 0:t.getValue(c))===null||s===void 0?void 0:s.liveStyle)!==void 0)&&(l[c]=a[c]);return l}const eD={useVisualState:Sw({scrapeMotionValuesFromProps:Hg,createRenderState:Ug})};function Aw(n,e){try{e.dimensions=typeof n.getBBox=="function"?n.getBBox():n.getBoundingClientRect()}catch{e.dimensions={x:0,y:0,width:0,height:0}}}function xw(n,{style:e,vars:t},s,a){Object.assign(n.style,e,a&&a.getProjectionStyles(s));for(const l in t)n.style.setProperty(l,t[l])}const Rw=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function Cw(n,e,t,s){xw(n,e,void 0,s);for(const a in e.attrs)n.setAttribute(Rw.has(a)?a:Mg(a),e.attrs[a])}function Dw(n,e,t){const s=Hg(n,e,t);for(const a in n)if(nn(n[a])||nn(e[a])){const l=qo.indexOf(a)!==-1?"attr"+a.charAt(0).toUpperCase()+a.substring(1):a;s[l]=n[a]}return s}const gE=["x","y","width","height","cx","cy","r"],tD={useVisualState:Sw({scrapeMotionValuesFromProps:Dw,createRenderState:ww,onUpdate:({props:n,prevProps:e,current:t,renderState:s,latestValues:a})=>{if(!t)return;let l=!!n.drag;if(!l){for(const d in a)if(Ta.has(d)){l=!0;break}}if(!l)return;let c=!e;if(e)for(let d=0;d<gE.length;d++){const m=gE[d];n[m]!==e[m]&&(c=!0)}c&&Je.read(()=>{Aw(t,s),Je.render(()=>{Bg(s,a,Fg(t.tagName),n.transformTemplate),Cw(t,s)})})}})};function nD(n,e){return function(s,{forwardMotionProps:a}={forwardMotionProps:!1}){const c={...jg(s)?tD:eD,preloadedFeatures:n,useRender:Q2(a),createVisualElement:e,Component:s};return x2(c)}}function Du(n,e,t){const s=n.getProps();return zg(s,e,t!==void 0?t:s.custom,n)}const Iw=new Set(["width","height","top","left","right","bottom",...qo]);function iD(n,e,t){n.hasValue(e)?n.getValue(e).set(t):n.addValue(e,Au(t))}function sD(n,e){const t=Du(n,e);let{transitionEnd:s={},transition:a={},...l}=t||{};l={...l,...s};for(const c in l){const d=W2(l[c]);iD(n,c,d)}}function rD(n){return!!(nn(n)&&n.add)}function Cp(n,e){const t=n.getValue("willChange");if(rD(t))return t.add(e)}function Nw(n){return n.props[gw]}const Vw=(n,e,t)=>(((1-3*t+3*e)*n+(3*t-6*e))*n+3*e)*n,aD=1e-7,oD=12;function lD(n,e,t,s,a){let l,c,d=0;do c=e+(t-e)/2,l=Vw(c,s,a)-n,l>0?t=c:e=c;while(Math.abs(l)>aD&&++d<oD);return c}function qu(n,e,t,s){if(n===e&&t===s)return Rn;const a=l=>lD(l,0,1,n,t);return l=>l===0||l===1?l:Vw(a(l),e,s)}const Mw=n=>e=>e<=.5?n(2*e)/2:(2-n(2*(1-e)))/2,Ow=n=>e=>1-n(1-e),Pw=qu(.33,1.53,.69,.99),qg=Ow(Pw),kw=Mw(qg),Lw=n=>(n*=2)<1?.5*qg(n):.5*(2-Math.pow(2,-10*(n-1))),Gg=n=>1-Math.sin(Math.acos(n)),Uw=Ow(Gg),jw=Mw(Gg),Bw=n=>/^0[^.\s]+$/u.test(n);function uD(n){return typeof n=="number"?n===0:n!==null?n==="none"||n==="0"||Bw(n):!0}const pu=n=>Math.round(n*1e5)/1e5,Kg=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function cD(n){return n==null}const hD=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,$g=(n,e)=>t=>!!(typeof t=="string"&&hD.test(t)&&t.startsWith(n)||e&&!cD(t)&&Object.prototype.hasOwnProperty.call(t,e)),Fw=(n,e,t)=>s=>{if(typeof s!="string")return s;const[a,l,c,d]=s.match(Kg);return{[n]:parseFloat(a),[e]:parseFloat(l),[t]:parseFloat(c),alpha:d!==void 0?parseFloat(d):1}},fD=n=>fs(0,255,n),ep={...Go,transform:n=>Math.round(fD(n))},ha={test:$g("rgb","red"),parse:Fw("red","green","blue"),transform:({red:n,green:e,blue:t,alpha:s=1})=>"rgba("+ep.transform(n)+", "+ep.transform(e)+", "+ep.transform(t)+", "+pu(Cu.transform(s))+")"};function dD(n){let e="",t="",s="",a="";return n.length>5?(e=n.substring(1,3),t=n.substring(3,5),s=n.substring(5,7),a=n.substring(7,9)):(e=n.substring(1,2),t=n.substring(2,3),s=n.substring(3,4),a=n.substring(4,5),e+=e,t+=t,s+=s,a+=a),{red:parseInt(e,16),green:parseInt(t,16),blue:parseInt(s,16),alpha:a?parseInt(a,16)/255:1}}const Dp={test:$g("#"),parse:dD,transform:ha.transform},To={test:$g("hsl","hue"),parse:Fw("hue","saturation","lightness"),transform:({hue:n,saturation:e,lightness:t,alpha:s=1})=>"hsla("+Math.round(n)+", "+bi.transform(pu(e))+", "+bi.transform(pu(t))+", "+pu(Cu.transform(s))+")"},Jt={test:n=>ha.test(n)||Dp.test(n)||To.test(n),parse:n=>ha.test(n)?ha.parse(n):To.test(n)?To.parse(n):Dp.parse(n),transform:n=>typeof n=="string"?n:n.hasOwnProperty("red")?ha.transform(n):To.transform(n)},mD=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function pD(n){var e,t;return isNaN(n)&&typeof n=="string"&&(((e=n.match(Kg))===null||e===void 0?void 0:e.length)||0)+(((t=n.match(mD))===null||t===void 0?void 0:t.length)||0)>0}const zw="number",Hw="color",gD="var",yD="var(",yE="${}",vD=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Iu(n){const e=n.toString(),t=[],s={color:[],number:[],var:[]},a=[];let l=0;const d=e.replace(vD,m=>(Jt.test(m)?(s.color.push(l),a.push(Hw),t.push(Jt.parse(m))):m.startsWith(yD)?(s.var.push(l),a.push(gD),t.push(m)):(s.number.push(l),a.push(zw),t.push(parseFloat(m))),++l,yE)).split(yE);return{values:t,split:d,indexes:s,types:a}}function qw(n){return Iu(n).values}function Gw(n){const{split:e,types:t}=Iu(n),s=e.length;return a=>{let l="";for(let c=0;c<s;c++)if(l+=e[c],a[c]!==void 0){const d=t[c];d===zw?l+=pu(a[c]):d===Hw?l+=Jt.transform(a[c]):l+=a[c]}return l}}const _D=n=>typeof n=="number"?0:n;function ED(n){const e=qw(n);return Gw(n)(e.map(_D))}const _r={test:pD,parse:qw,createTransformer:Gw,getAnimatableNone:ED},TD=new Set(["brightness","contrast","saturate","opacity"]);function bD(n){const[e,t]=n.slice(0,-1).split("(");if(e==="drop-shadow")return n;const[s]=t.match(Kg)||[];if(!s)return n;const a=t.replace(s,"");let l=TD.has(e)?1:0;return s!==t&&(l*=100),e+"("+l+a+")"}const wD=/\b([a-z-]*)\(.*?\)/gu,Ip={..._r,getAnimatableNone:n=>{const e=n.match(wD);return e?e.map(bD).join(" "):n}},SD={...kg,color:Jt,backgroundColor:Jt,outlineColor:Jt,fill:Jt,stroke:Jt,borderColor:Jt,borderTopColor:Jt,borderRightColor:Jt,borderBottomColor:Jt,borderLeftColor:Jt,filter:Ip,WebkitFilter:Ip},Kw=n=>SD[n];function $w(n,e){let t=Kw(n);return t!==Ip&&(t=_r),t.getAnimatableNone?t.getAnimatableNone(e):void 0}const AD=new Set(["auto","none","0"]);function xD(n,e,t){let s=0,a;for(;s<n.length&&!a;){const l=n[s];typeof l=="string"&&!AD.has(l)&&Iu(l).values.length&&(a=n[s]),s++}if(a&&t)for(const l of e)n[l]=$w(t,a)}const fa=n=>n*180/Math.PI,Np=n=>{const e=fa(Math.atan2(n[1],n[0]));return Vp(e)},RD={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:n=>(Math.abs(n[0])+Math.abs(n[3]))/2,rotate:Np,rotateZ:Np,skewX:n=>fa(Math.atan(n[1])),skewY:n=>fa(Math.atan(n[2])),skew:n=>(Math.abs(n[1])+Math.abs(n[2]))/2},Vp=n=>(n=n%360,n<0&&(n+=360),n),vE=Np,_E=n=>Math.sqrt(n[0]*n[0]+n[1]*n[1]),EE=n=>Math.sqrt(n[4]*n[4]+n[5]*n[5]),CD={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:_E,scaleY:EE,scale:n=>(_E(n)+EE(n))/2,rotateX:n=>Vp(fa(Math.atan2(n[6],n[5]))),rotateY:n=>Vp(fa(Math.atan2(-n[2],n[0]))),rotateZ:vE,rotate:vE,skewX:n=>fa(Math.atan(n[4])),skewY:n=>fa(Math.atan(n[1])),skew:n=>(Math.abs(n[1])+Math.abs(n[4]))/2};function TE(n){return n.includes("scale")?1:0}function Mp(n,e){if(!n||n==="none")return TE(e);const t=n.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let s,a;if(t)s=CD,a=t;else{const d=n.match(/^matrix\(([-\d.e\s,]+)\)$/u);s=RD,a=d}if(!a)return TE(e);const l=s[e],c=a[1].split(",").map(ID);return typeof l=="function"?l(c):c[l]}const DD=(n,e)=>{const{transform:t="none"}=getComputedStyle(n);return Mp(t,e)};function ID(n){return parseFloat(n.trim())}const bE=n=>n===Go||n===Ee,ND=new Set(["x","y","z"]),VD=qo.filter(n=>!ND.has(n));function MD(n){const e=[];return VD.forEach(t=>{const s=n.getValue(t);s!==void 0&&(e.push([t,s.get()]),s.set(t.startsWith("scale")?1:0))}),e}const Vo={width:({x:n},{paddingLeft:e="0",paddingRight:t="0"})=>n.max-n.min-parseFloat(e)-parseFloat(t),height:({y:n},{paddingTop:e="0",paddingBottom:t="0"})=>n.max-n.min-parseFloat(e)-parseFloat(t),top:(n,{top:e})=>parseFloat(e),left:(n,{left:e})=>parseFloat(e),bottom:({y:n},{top:e})=>parseFloat(e)+(n.max-n.min),right:({x:n},{left:e})=>parseFloat(e)+(n.max-n.min),x:(n,{transform:e})=>Mp(e,"x"),y:(n,{transform:e})=>Mp(e,"y")};Vo.translateX=Vo.x;Vo.translateY=Vo.y;const ma=new Set;let Op=!1,Pp=!1;function Yw(){if(Pp){const n=Array.from(ma).filter(s=>s.needsMeasurement),e=new Set(n.map(s=>s.element)),t=new Map;e.forEach(s=>{const a=MD(s);a.length&&(t.set(s,a),s.render())}),n.forEach(s=>s.measureInitialState()),e.forEach(s=>{s.render();const a=t.get(s);a&&a.forEach(([l,c])=>{var d;(d=s.getValue(l))===null||d===void 0||d.set(c)})}),n.forEach(s=>s.measureEndState()),n.forEach(s=>{s.suspendedScrollY!==void 0&&window.scrollTo(0,s.suspendedScrollY)})}Pp=!1,Op=!1,ma.forEach(n=>n.complete()),ma.clear()}function Qw(){ma.forEach(n=>{n.readKeyframes(),n.needsMeasurement&&(Pp=!0)})}function OD(){Qw(),Yw()}class Yg{constructor(e,t,s,a,l,c=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=t,this.name=s,this.motionValue=a,this.element=l,this.isAsync=c}scheduleResolve(){this.isScheduled=!0,this.isAsync?(ma.add(this),Op||(Op=!0,Je.read(Qw),Je.resolveKeyframes(Yw))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:t,element:s,motionValue:a}=this;for(let l=0;l<e.length;l++)if(e[l]===null)if(l===0){const c=a==null?void 0:a.get(),d=e[e.length-1];if(c!==void 0)e[0]=c;else if(s&&t){const m=s.readValue(t,d);m!=null&&(e[0]=m)}e[0]===void 0&&(e[0]=d),a&&c===void 0&&a.set(e[0])}else e[l]=e[l-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),ma.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,ma.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const Xw=n=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(n),PD=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function kD(n){const e=PD.exec(n);if(!e)return[,];const[,t,s,a]=e;return[`--${t??s}`,a]}function Ww(n,e,t=1){const[s,a]=kD(n);if(!s)return;const l=window.getComputedStyle(e).getPropertyValue(s);if(l){const c=l.trim();return Xw(c)?parseFloat(c):c}return Pg(a)?Ww(a,e,t+1):a}const Zw=n=>e=>e.test(n),LD={test:n=>n==="auto",parse:n=>n},Jw=[Go,Ee,bi,rr,O2,M2,LD],wE=n=>Jw.find(Zw(n));class eS extends Yg{constructor(e,t,s,a,l){super(e,t,s,a,l,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:t,name:s}=this;if(!t||!t.current)return;super.readKeyframes();for(let m=0;m<e.length;m++){let p=e[m];if(typeof p=="string"&&(p=p.trim(),Pg(p))){const v=Ww(p,t.current);v!==void 0&&(e[m]=v),m===e.length-1&&(this.finalKeyframe=p)}}if(this.resolveNoneKeyframes(),!Iw.has(s)||e.length!==2)return;const[a,l]=e,c=wE(a),d=wE(l);if(c!==d)if(bE(c)&&bE(d))for(let m=0;m<e.length;m++){const p=e[m];typeof p=="string"&&(e[m]=parseFloat(p))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:t}=this,s=[];for(let a=0;a<e.length;a++)uD(e[a])&&s.push(a);s.length&&xD(e,s,t)}measureInitialState(){const{element:e,unresolvedKeyframes:t,name:s}=this;if(!e||!e.current)return;s==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Vo[s](e.measureViewportBox(),window.getComputedStyle(e.current)),t[0]=this.measuredOrigin;const a=t[t.length-1];a!==void 0&&e.getValue(s,a).jump(a,!1)}measureEndState(){var e;const{element:t,name:s,unresolvedKeyframes:a}=this;if(!t||!t.current)return;const l=t.getValue(s);l&&l.jump(this.measuredOrigin,!1);const c=a.length-1,d=a[c];a[c]=Vo[s](t.measureViewportBox(),window.getComputedStyle(t.current)),d!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=d),!((e=this.removedTransforms)===null||e===void 0)&&e.length&&this.removedTransforms.forEach(([m,p])=>{t.getValue(m).set(p)}),this.resolveNoneKeyframes()}}const SE=(n,e)=>e==="zIndex"?!1:!!(typeof n=="number"||Array.isArray(n)||typeof n=="string"&&(_r.test(n)||n==="0")&&!n.startsWith("url("));function UD(n){const e=n[0];if(n.length===1)return!0;for(let t=0;t<n.length;t++)if(n[t]!==e)return!0}function jD(n,e,t,s){const a=n[0];if(a===null)return!1;if(e==="display"||e==="visibility")return!0;const l=n[n.length-1],c=SE(a,e),d=SE(l,e);return!c||!d?!1:UD(n)||(t==="spring"||Rg(t))&&s}const BD=n=>n!==null;function Af(n,{repeat:e,repeatType:t="loop"},s){const a=n.filter(BD),l=e&&t!=="loop"&&e%2===1?0:a.length-1;return!l||s===void 0?a[l]:s}const FD=40;class tS{constructor({autoplay:e=!0,delay:t=0,type:s="keyframes",repeat:a=0,repeatDelay:l=0,repeatType:c="loop",...d}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=Ti.now(),this.options={autoplay:e,delay:t,type:s,repeat:a,repeatDelay:l,repeatType:c,...d},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>FD?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&OD(),this._resolved}onKeyframesResolved(e,t){this.resolvedAt=Ti.now(),this.hasAttemptedResolve=!0;const{name:s,type:a,velocity:l,delay:c,onComplete:d,onUpdate:m,isGenerator:p}=this.options;if(!p&&!jD(e,s,a,l))if(c)this.options.duration=0;else{m&&m(Af(e,this.options,t)),d&&d(),this.resolveFinishedPromise();return}const v=this.initPlayback(e,t);v!==!1&&(this._resolved={keyframes:e,finalKeyframe:t,...v},this.onPostResolved())}onPostResolved(){}then(e,t){return this.currentFinishedPromise.then(e,t)}flatten(){this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear")}updateFinishedPromise(){this.currentFinishedPromise=new Promise(e=>{this.resolveFinishedPromise=e})}}const st=(n,e,t)=>n+(e-n)*t;function tp(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+(e-n)*6*t:t<1/2?e:t<2/3?n+(e-n)*(2/3-t)*6:n}function zD({hue:n,saturation:e,lightness:t,alpha:s}){n/=360,e/=100,t/=100;let a=0,l=0,c=0;if(!e)a=l=c=t;else{const d=t<.5?t*(1+e):t+e-t*e,m=2*t-d;a=tp(m,d,n+1/3),l=tp(m,d,n),c=tp(m,d,n-1/3)}return{red:Math.round(a*255),green:Math.round(l*255),blue:Math.round(c*255),alpha:s}}function Wh(n,e){return t=>t>0?e:n}const np=(n,e,t)=>{const s=n*n,a=t*(e*e-s)+s;return a<0?0:Math.sqrt(a)},HD=[Dp,ha,To],qD=n=>HD.find(e=>e.test(n));function AE(n){const e=qD(n);if(!e)return!1;let t=e.parse(n);return e===To&&(t=zD(t)),t}const xE=(n,e)=>{const t=AE(n),s=AE(e);if(!t||!s)return Wh(n,e);const a={...t};return l=>(a.red=np(t.red,s.red,l),a.green=np(t.green,s.green,l),a.blue=np(t.blue,s.blue,l),a.alpha=st(t.alpha,s.alpha,l),ha.transform(a))},GD=(n,e)=>t=>e(n(t)),Gu=(...n)=>n.reduce(GD),kp=new Set(["none","hidden"]);function KD(n,e){return kp.has(n)?t=>t<=0?n:e:t=>t>=1?e:n}function $D(n,e){return t=>st(n,e,t)}function Qg(n){return typeof n=="number"?$D:typeof n=="string"?Pg(n)?Wh:Jt.test(n)?xE:XD:Array.isArray(n)?nS:typeof n=="object"?Jt.test(n)?xE:YD:Wh}function nS(n,e){const t=[...n],s=t.length,a=n.map((l,c)=>Qg(l)(l,e[c]));return l=>{for(let c=0;c<s;c++)t[c]=a[c](l);return t}}function YD(n,e){const t={...n,...e},s={};for(const a in t)n[a]!==void 0&&e[a]!==void 0&&(s[a]=Qg(n[a])(n[a],e[a]));return a=>{for(const l in s)t[l]=s[l](a);return t}}function QD(n,e){var t;const s=[],a={color:0,var:0,number:0};for(let l=0;l<e.values.length;l++){const c=e.types[l],d=n.indexes[c][a[c]],m=(t=n.values[d])!==null&&t!==void 0?t:0;s[l]=m,a[c]++}return s}const XD=(n,e)=>{const t=_r.createTransformer(e),s=Iu(n),a=Iu(e);return s.indexes.var.length===a.indexes.var.length&&s.indexes.color.length===a.indexes.color.length&&s.indexes.number.length>=a.indexes.number.length?kp.has(n)&&!a.values.length||kp.has(e)&&!s.values.length?KD(n,e):Gu(nS(QD(s,a),a.values),t):Wh(n,e)};function iS(n,e,t){return typeof n=="number"&&typeof e=="number"&&typeof t=="number"?st(n,e,t):Qg(n)(n,e)}const WD=5;function sS(n,e,t){const s=Math.max(e-WD,0);return sw(t-n(s),e-s)}const dt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},RE=.001;function ZD({duration:n=dt.duration,bounce:e=dt.bounce,velocity:t=dt.velocity,mass:s=dt.mass}){let a,l,c=1-e;c=fs(dt.minDamping,dt.maxDamping,c),n=fs(dt.minDuration,dt.maxDuration,cs(n)),c<1?(a=p=>{const v=p*c,T=v*n,b=v-t,x=Lp(p,c),D=Math.exp(-T);return RE-b/x*D},l=p=>{const T=p*c*n,b=T*t+t,x=Math.pow(c,2)*Math.pow(p,2)*n,D=Math.exp(-T),L=Lp(Math.pow(p,2),c);return(-a(p)+RE>0?-1:1)*((b-x)*D)/L}):(a=p=>{const v=Math.exp(-p*n),T=(p-t)*n+1;return-.001+v*T},l=p=>{const v=Math.exp(-p*n),T=(t-p)*(n*n);return v*T});const d=5/n,m=eI(a,l,d);if(n=us(n),isNaN(m))return{stiffness:dt.stiffness,damping:dt.damping,duration:n};{const p=Math.pow(m,2)*s;return{stiffness:p,damping:c*2*Math.sqrt(s*p),duration:n}}}const JD=12;function eI(n,e,t){let s=t;for(let a=1;a<JD;a++)s=s-n(s)/e(s);return s}function Lp(n,e){return n*Math.sqrt(1-e*e)}const tI=["duration","bounce"],nI=["stiffness","damping","mass"];function CE(n,e){return e.some(t=>n[t]!==void 0)}function iI(n){let e={velocity:dt.velocity,stiffness:dt.stiffness,damping:dt.damping,mass:dt.mass,isResolvedFromDuration:!1,...n};if(!CE(n,nI)&&CE(n,tI))if(n.visualDuration){const t=n.visualDuration,s=2*Math.PI/(t*1.2),a=s*s,l=2*fs(.05,1,1-(n.bounce||0))*Math.sqrt(a);e={...e,mass:dt.mass,stiffness:a,damping:l}}else{const t=ZD(n);e={...e,...t,mass:dt.mass},e.isResolvedFromDuration=!0}return e}function rS(n=dt.visualDuration,e=dt.bounce){const t=typeof n!="object"?{visualDuration:n,keyframes:[0,1],bounce:e}:n;let{restSpeed:s,restDelta:a}=t;const l=t.keyframes[0],c=t.keyframes[t.keyframes.length-1],d={done:!1,value:l},{stiffness:m,damping:p,mass:v,duration:T,velocity:b,isResolvedFromDuration:x}=iI({...t,velocity:-cs(t.velocity||0)}),D=b||0,L=p/(2*Math.sqrt(m*v)),P=c-l,B=cs(Math.sqrt(m/v)),Q=Math.abs(P)<5;s||(s=Q?dt.restSpeed.granular:dt.restSpeed.default),a||(a=Q?dt.restDelta.granular:dt.restDelta.default);let Y;if(L<1){const G=Lp(B,L);Y=se=>{const O=Math.exp(-L*B*se);return c-O*((D+L*B*P)/G*Math.sin(G*se)+P*Math.cos(G*se))}}else if(L===1)Y=G=>c-Math.exp(-B*G)*(P+(D+B*P)*G);else{const G=B*Math.sqrt(L*L-1);Y=se=>{const O=Math.exp(-L*B*se),C=Math.min(G*se,300);return c-O*((D+L*B*P)*Math.sinh(C)+G*P*Math.cosh(C))/G}}const ae={calculatedDuration:x&&T||null,next:G=>{const se=Y(G);if(x)d.done=G>=T;else{let O=0;L<1&&(O=G===0?us(D):sS(Y,G,se));const C=Math.abs(O)<=s,R=Math.abs(c-se)<=a;d.done=C&&R}return d.value=d.done?c:se,d},toString:()=>{const G=Math.min(rw(ae),Ap),se=aw(O=>ae.next(G*O).value,G,30);return G+"ms "+se}};return ae}function DE({keyframes:n,velocity:e=0,power:t=.8,timeConstant:s=325,bounceDamping:a=10,bounceStiffness:l=500,modifyTarget:c,min:d,max:m,restDelta:p=.5,restSpeed:v}){const T=n[0],b={done:!1,value:T},x=C=>d!==void 0&&C<d||m!==void 0&&C>m,D=C=>d===void 0?m:m===void 0||Math.abs(d-C)<Math.abs(m-C)?d:m;let L=t*e;const P=T+L,B=c===void 0?P:c(P);B!==P&&(L=B-T);const Q=C=>-L*Math.exp(-C/s),Y=C=>B+Q(C),ae=C=>{const R=Q(C),N=Y(C);b.done=Math.abs(R)<=p,b.value=b.done?B:N};let G,se;const O=C=>{x(b.value)&&(G=C,se=rS({keyframes:[b.value,D(b.value)],velocity:sS(Y,C,b.value),damping:a,stiffness:l,restDelta:p,restSpeed:v}))};return O(0),{calculatedDuration:null,next:C=>{let R=!1;return!se&&G===void 0&&(R=!0,ae(C),O(C)),G!==void 0&&C>=G?se.next(C-G):(!R&&ae(C),b)}}}const sI=qu(.42,0,1,1),rI=qu(0,0,.58,1),aS=qu(.42,0,.58,1),aI=n=>Array.isArray(n)&&typeof n[0]!="number",IE={linear:Rn,easeIn:sI,easeInOut:aS,easeOut:rI,circIn:Gg,circInOut:jw,circOut:Uw,backIn:qg,backInOut:kw,backOut:Pw,anticipate:Lw},NE=n=>{if(Cg(n)){Sp(n.length===4);const[e,t,s,a]=n;return qu(e,t,s,a)}else if(typeof n=="string")return Sp(IE[n]!==void 0),IE[n];return n};function oI(n,e,t){const s=[],a=t||iS,l=n.length-1;for(let c=0;c<l;c++){let d=a(n[c],n[c+1]);if(e){const m=Array.isArray(e)?e[c]||Rn:e;d=Gu(m,d)}s.push(d)}return s}function lI(n,e,{clamp:t=!0,ease:s,mixer:a}={}){const l=n.length;if(Sp(l===e.length),l===1)return()=>e[0];if(l===2&&e[0]===e[1])return()=>e[1];const c=n[0]===n[1];n[0]>n[l-1]&&(n=[...n].reverse(),e=[...e].reverse());const d=oI(e,s,a),m=d.length,p=v=>{if(c&&v<n[0])return e[0];let T=0;if(m>1)for(;T<n.length-2&&!(v<n[T+1]);T++);const b=Io(n[T],n[T+1],v);return d[T](b)};return t?v=>p(fs(n[0],n[l-1],v)):p}function uI(n,e){const t=n[n.length-1];for(let s=1;s<=e;s++){const a=Io(0,e,s);n.push(st(t,1,a))}}function cI(n){const e=[0];return uI(e,n.length-1),e}function hI(n,e){return n.map(t=>t*e)}function fI(n,e){return n.map(()=>e||aS).splice(0,n.length-1)}function Zh({duration:n=300,keyframes:e,times:t,ease:s="easeInOut"}){const a=aI(s)?s.map(NE):NE(s),l={done:!1,value:e[0]},c=hI(t&&t.length===e.length?t:cI(e),n),d=lI(c,e,{ease:Array.isArray(a)?a:fI(e,a)});return{calculatedDuration:n,next:m=>(l.value=d(m),l.done=m>=n,l)}}const dI=n=>{const e=({timestamp:t})=>n(t);return{start:()=>Je.update(e,!0),stop:()=>vr(e),now:()=>Gt.isProcessing?Gt.timestamp:Ti.now()}},mI={decay:DE,inertia:DE,tween:Zh,keyframes:Zh,spring:rS},pI=n=>n/100;class Xg extends tS{constructor(e){super(e),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:m}=this.options;m&&m()};const{name:t,motionValue:s,element:a,keyframes:l}=this.options,c=(a==null?void 0:a.KeyframeResolver)||Yg,d=(m,p)=>this.onKeyframesResolved(m,p);this.resolver=new c(l,d,t,s,a),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(e){const{type:t="keyframes",repeat:s=0,repeatDelay:a=0,repeatType:l,velocity:c=0}=this.options,d=Rg(t)?t:mI[t]||Zh;let m,p;d!==Zh&&typeof e[0]!="number"&&(m=Gu(pI,iS(e[0],e[1])),e=[0,100]);const v=d({...this.options,keyframes:e});l==="mirror"&&(p=d({...this.options,keyframes:[...e].reverse(),velocity:-c})),v.calculatedDuration===null&&(v.calculatedDuration=rw(v));const{calculatedDuration:T}=v,b=T+a,x=b*(s+1)-a;return{generator:v,mirroredGenerator:p,mapPercentToKeyframes:m,calculatedDuration:T,resolvedDuration:b,totalDuration:x}}onPostResolved(){const{autoplay:e=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!e?this.pause():this.state=this.pendingPlayState}tick(e,t=!1){const{resolved:s}=this;if(!s){const{keyframes:C}=this.options;return{done:!0,value:C[C.length-1]}}const{finalKeyframe:a,generator:l,mirroredGenerator:c,mapPercentToKeyframes:d,keyframes:m,calculatedDuration:p,totalDuration:v,resolvedDuration:T}=s;if(this.startTime===null)return l.next(0);const{delay:b,repeat:x,repeatType:D,repeatDelay:L,onUpdate:P}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-v/this.speed,this.startTime)),t?this.currentTime=e:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(e-this.startTime)*this.speed;const B=this.currentTime-b*(this.speed>=0?1:-1),Q=this.speed>=0?B<0:B>v;this.currentTime=Math.max(B,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=v);let Y=this.currentTime,ae=l;if(x){const C=Math.min(this.currentTime,v)/T;let R=Math.floor(C),N=C%1;!N&&C>=1&&(N=1),N===1&&R--,R=Math.min(R,x+1),!!(R%2)&&(D==="reverse"?(N=1-N,L&&(N-=L/T)):D==="mirror"&&(ae=c)),Y=fs(0,1,N)*T}const G=Q?{done:!1,value:m[0]}:ae.next(Y);d&&(G.value=d(G.value));let{done:se}=G;!Q&&p!==null&&(se=this.speed>=0?this.currentTime>=v:this.currentTime<=0);const O=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&se);return O&&a!==void 0&&(G.value=Af(m,this.options,a)),P&&P(G.value),O&&this.finish(),G}get duration(){const{resolved:e}=this;return e?cs(e.calculatedDuration):0}get time(){return cs(this.currentTime)}set time(e){e=us(e),this.currentTime=e,this.holdTime!==null||this.speed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.speed)}get speed(){return this.playbackSpeed}set speed(e){const t=this.playbackSpeed!==e;this.playbackSpeed=e,t&&(this.time=cs(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:e=dI,onPlay:t,startTime:s}=this.options;this.driver||(this.driver=e(l=>this.tick(l))),t&&t();const a=this.driver.now();this.holdTime!==null?this.startTime=a-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=a):this.startTime=s??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var e;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(e=this.currentTime)!==null&&e!==void 0?e:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}}const gI=new Set(["opacity","clipPath","filter","transform"]);function yI(n,e,t,{delay:s=0,duration:a=300,repeat:l=0,repeatType:c="loop",ease:d="easeInOut",times:m}={}){const p={[e]:t};m&&(p.offset=m);const v=lw(d,a);return Array.isArray(v)&&(p.easing=v),n.animate(p,{delay:s,duration:a,easing:Array.isArray(v)?"linear":v,fill:"both",iterations:l+1,direction:c==="reverse"?"alternate":"normal"})}const vI=Sg(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),Jh=10,_I=2e4;function EI(n){return Rg(n.type)||n.type==="spring"||!ow(n.ease)}function TI(n,e){const t=new Xg({...e,keyframes:n,repeat:0,delay:0,isGenerator:!0});let s={done:!1,value:n[0]};const a=[];let l=0;for(;!s.done&&l<_I;)s=t.sample(l),a.push(s.value),l+=Jh;return{times:void 0,keyframes:a,duration:l-Jh,ease:"linear"}}const oS={anticipate:Lw,backInOut:kw,circInOut:jw};function bI(n){return n in oS}class VE extends tS{constructor(e){super(e);const{name:t,motionValue:s,element:a,keyframes:l}=this.options;this.resolver=new eS(l,(c,d)=>this.onKeyframesResolved(c,d),t,s,a),this.resolver.scheduleResolve()}initPlayback(e,t){let{duration:s=300,times:a,ease:l,type:c,motionValue:d,name:m,startTime:p}=this.options;if(!d.owner||!d.owner.current)return!1;if(typeof l=="string"&&Qh()&&bI(l)&&(l=oS[l]),EI(this.options)){const{onComplete:T,onUpdate:b,motionValue:x,element:D,...L}=this.options,P=TI(e,L);e=P.keyframes,e.length===1&&(e[1]=e[0]),s=P.duration,a=P.times,l=P.ease,c="keyframes"}const v=yI(d.owner.current,m,e,{...this.options,duration:s,times:a,ease:l});return v.startTime=p??this.calcStartTime(),this.pendingTimeline?(rE(v,this.pendingTimeline),this.pendingTimeline=void 0):v.onfinish=()=>{const{onComplete:T}=this.options;d.set(Af(e,this.options,t)),T&&T(),this.cancel(),this.resolveFinishedPromise()},{animation:v,duration:s,times:a,type:c,ease:l,keyframes:e}}get duration(){const{resolved:e}=this;if(!e)return 0;const{duration:t}=e;return cs(t)}get time(){const{resolved:e}=this;if(!e)return 0;const{animation:t}=e;return cs(t.currentTime||0)}set time(e){const{resolved:t}=this;if(!t)return;const{animation:s}=t;s.currentTime=us(e)}get speed(){const{resolved:e}=this;if(!e)return 1;const{animation:t}=e;return t.playbackRate}set speed(e){const{resolved:t}=this;if(!t)return;const{animation:s}=t;s.playbackRate=e}get state(){const{resolved:e}=this;if(!e)return"idle";const{animation:t}=e;return t.playState}get startTime(){const{resolved:e}=this;if(!e)return null;const{animation:t}=e;return t.startTime}attachTimeline(e){if(!this._resolved)this.pendingTimeline=e;else{const{resolved:t}=this;if(!t)return Rn;const{animation:s}=t;rE(s,e)}return Rn}play(){if(this.isStopped)return;const{resolved:e}=this;if(!e)return;const{animation:t}=e;t.playState==="finished"&&this.updateFinishedPromise(),t.play()}pause(){const{resolved:e}=this;if(!e)return;const{animation:t}=e;t.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:e}=this;if(!e)return;const{animation:t,keyframes:s,duration:a,type:l,ease:c,times:d}=e;if(t.playState==="idle"||t.playState==="finished")return;if(this.time){const{motionValue:p,onUpdate:v,onComplete:T,element:b,...x}=this.options,D=new Xg({...x,keyframes:s,duration:a,type:l,ease:c,times:d,isGenerator:!0}),L=us(this.time);p.setWithVelocity(D.sample(L-Jh).value,D.sample(L).value,Jh)}const{onStop:m}=this.options;m&&m(),this.cancel()}complete(){const{resolved:e}=this;e&&e.animation.finish()}cancel(){const{resolved:e}=this;e&&e.animation.cancel()}static supports(e){const{motionValue:t,name:s,repeatDelay:a,repeatType:l,damping:c,type:d}=e;if(!t||!t.owner||!(t.owner.current instanceof HTMLElement))return!1;const{onUpdate:m,transformTemplate:p}=t.owner.getProps();return vI()&&s&&gI.has(s)&&(s!=="transform"||!p)&&!m&&!a&&l!=="mirror"&&c!==0&&d!=="inertia"}}const wI={type:"spring",stiffness:500,damping:25,restSpeed:10},SI=n=>({type:"spring",stiffness:550,damping:n===0?2*Math.sqrt(550):30,restSpeed:10}),AI={type:"keyframes",duration:.8},xI={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},RI=(n,{keyframes:e})=>e.length>2?AI:Ta.has(n)?n.startsWith("scale")?SI(e[1]):wI:xI;function CI({when:n,delay:e,delayChildren:t,staggerChildren:s,staggerDirection:a,repeat:l,repeatType:c,repeatDelay:d,from:m,elapsed:p,...v}){return!!Object.keys(v).length}const Wg=(n,e,t,s={},a,l)=>c=>{const d=xg(s,n)||{},m=d.delay||s.delay||0;let{elapsed:p=0}=s;p=p-us(m);let v={keyframes:Array.isArray(t)?t:[null,t],ease:"easeOut",velocity:e.getVelocity(),...d,delay:-p,onUpdate:b=>{e.set(b),d.onUpdate&&d.onUpdate(b)},onComplete:()=>{c(),d.onComplete&&d.onComplete()},name:n,motionValue:e,element:l?void 0:a};CI(d)||(v={...v,...RI(n,v)}),v.duration&&(v.duration=us(v.duration)),v.repeatDelay&&(v.repeatDelay=us(v.repeatDelay)),v.from!==void 0&&(v.keyframes[0]=v.from);let T=!1;if((v.type===!1||v.duration===0&&!v.repeatDelay)&&(v.duration=0,v.delay===0&&(T=!0)),v.allowFlatten=!d.type&&!d.ease,T&&!l&&e.get()!==void 0){const b=Af(v.keyframes,d);if(b!==void 0)return Je.update(()=>{v.onUpdate(b),v.onComplete()}),new JC([])}return!l&&VE.supports(v)?new VE(v):new Xg(v)};function DI({protectedKeys:n,needsAnimating:e},t){const s=n.hasOwnProperty(t)&&e[t]!==!0;return e[t]=!1,s}function lS(n,e,{delay:t=0,transitionOverride:s,type:a}={}){var l;let{transition:c=n.getDefaultTransition(),transitionEnd:d,...m}=e;s&&(c=s);const p=[],v=a&&n.animationState&&n.animationState.getState()[a];for(const T in m){const b=n.getValue(T,(l=n.latestValues[T])!==null&&l!==void 0?l:null),x=m[T];if(x===void 0||v&&DI(v,T))continue;const D={delay:t,...xg(c||{},T)};let L=!1;if(window.MotionHandoffAnimation){const B=Nw(n);if(B){const Q=window.MotionHandoffAnimation(B,T,Je);Q!==null&&(D.startTime=Q,L=!0)}}Cp(n,T),b.start(Wg(T,b,x,n.shouldReduceMotion&&Iw.has(T)?{type:!1}:D,n,L));const P=b.animation;P&&p.push(P)}return d&&Promise.all(p).then(()=>{Je.update(()=>{d&&sD(n,d)})}),p}function Up(n,e,t={}){var s;const a=Du(n,e,t.type==="exit"?(s=n.presenceContext)===null||s===void 0?void 0:s.custom:void 0);let{transition:l=n.getDefaultTransition()||{}}=a||{};t.transitionOverride&&(l=t.transitionOverride);const c=a?()=>Promise.all(lS(n,a,t)):()=>Promise.resolve(),d=n.variantChildren&&n.variantChildren.size?(p=0)=>{const{delayChildren:v=0,staggerChildren:T,staggerDirection:b}=l;return II(n,e,v+p,T,b,t)}:()=>Promise.resolve(),{when:m}=l;if(m){const[p,v]=m==="beforeChildren"?[c,d]:[d,c];return p().then(()=>v())}else return Promise.all([c(),d(t.delay)])}function II(n,e,t=0,s=0,a=1,l){const c=[],d=(n.variantChildren.size-1)*s,m=a===1?(p=0)=>p*s:(p=0)=>d-p*s;return Array.from(n.variantChildren).sort(NI).forEach((p,v)=>{p.notify("AnimationStart",e),c.push(Up(p,e,{...l,delay:t+m(v)}).then(()=>p.notify("AnimationComplete",e)))}),Promise.all(c)}function NI(n,e){return n.sortNodePosition(e)}function VI(n,e,t={}){n.notify("AnimationStart",e);let s;if(Array.isArray(e)){const a=e.map(l=>Up(n,l,t));s=Promise.all(a)}else if(typeof e=="string")s=Up(n,e,t);else{const a=typeof e=="function"?Du(n,e,t.custom):e;s=Promise.all(lS(n,a,t))}return s.then(()=>{n.notify("AnimationComplete",e)})}function uS(n,e){if(!Array.isArray(e))return!1;const t=e.length;if(t!==n.length)return!1;for(let s=0;s<t;s++)if(e[s]!==n[s])return!1;return!0}const MI=Vg.length;function cS(n){if(!n)return;if(!n.isControllingVariants){const t=n.parent?cS(n.parent)||{}:{};return n.props.initial!==void 0&&(t.initial=n.props.initial),t}const e={};for(let t=0;t<MI;t++){const s=Vg[t],a=n.props[s];(xu(a)||a===!1)&&(e[s]=a)}return e}const OI=[...Ng].reverse(),PI=Ng.length;function kI(n){return e=>Promise.all(e.map(({animation:t,options:s})=>VI(n,t,s)))}function LI(n){let e=kI(n),t=ME(),s=!0;const a=m=>(p,v)=>{var T;const b=Du(n,v,m==="exit"?(T=n.presenceContext)===null||T===void 0?void 0:T.custom:void 0);if(b){const{transition:x,transitionEnd:D,...L}=b;p={...p,...L,...D}}return p};function l(m){e=m(n)}function c(m){const{props:p}=n,v=cS(n.parent)||{},T=[],b=new Set;let x={},D=1/0;for(let P=0;P<PI;P++){const B=OI[P],Q=t[B],Y=p[B]!==void 0?p[B]:v[B],ae=xu(Y),G=B===m?Q.isActive:null;G===!1&&(D=P);let se=Y===v[B]&&Y!==p[B]&&ae;if(se&&s&&n.manuallyAnimateOnMount&&(se=!1),Q.protectedKeys={...x},!Q.isActive&&G===null||!Y&&!Q.prevProp||wf(Y)||typeof Y=="boolean")continue;const O=UI(Q.prevProp,Y);let C=O||B===m&&Q.isActive&&!se&&ae||P>D&&ae,R=!1;const N=Array.isArray(Y)?Y:[Y];let U=N.reduce(a(B),{});G===!1&&(U={});const{prevResolvedValues:H={}}=Q,M={...H,...U},ot=he=>{C=!0,b.has(he)&&(R=!0,b.delete(he)),Q.needsAnimating[he]=!0;const fe=n.getValue(he);fe&&(fe.liveStyle=!1)};for(const he in M){const fe=U[he],ke=H[he];if(x.hasOwnProperty(he))continue;let k=!1;Rp(fe)&&Rp(ke)?k=!uS(fe,ke):k=fe!==ke,k?fe!=null?ot(he):b.add(he):fe!==void 0&&b.has(he)?ot(he):Q.protectedKeys[he]=!0}Q.prevProp=Y,Q.prevResolvedValues=U,Q.isActive&&(x={...x,...U}),s&&n.blockInitialAnimation&&(C=!1),C&&(!(se&&O)||R)&&T.push(...N.map(he=>({animation:he,options:{type:B}})))}if(b.size){const P={};if(typeof p.initial!="boolean"){const B=Du(n,Array.isArray(p.initial)?p.initial[0]:p.initial);B&&B.transition&&(P.transition=B.transition)}b.forEach(B=>{const Q=n.getBaseTarget(B),Y=n.getValue(B);Y&&(Y.liveStyle=!0),P[B]=Q??null}),T.push({animation:P})}let L=!!T.length;return s&&(p.initial===!1||p.initial===p.animate)&&!n.manuallyAnimateOnMount&&(L=!1),s=!1,L?e(T):Promise.resolve()}function d(m,p){var v;if(t[m].isActive===p)return Promise.resolve();(v=n.variantChildren)===null||v===void 0||v.forEach(b=>{var x;return(x=b.animationState)===null||x===void 0?void 0:x.setActive(m,p)}),t[m].isActive=p;const T=c(m);for(const b in t)t[b].protectedKeys={};return T}return{animateChanges:c,setActive:d,setAnimateFunction:l,getState:()=>t,reset:()=>{t=ME(),s=!0}}}function UI(n,e){return typeof e=="string"?e!==n:Array.isArray(e)?!uS(e,n):!1}function aa(n=!1){return{isActive:n,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function ME(){return{animate:aa(!0),whileInView:aa(),whileHover:aa(),whileTap:aa(),whileDrag:aa(),whileFocus:aa(),exit:aa()}}class Ar{constructor(e){this.isMounted=!1,this.node=e}update(){}}class jI extends Ar{constructor(e){super(e),e.animationState||(e.animationState=LI(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();wf(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:t}=this.node.prevProps||{};e!==t&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)===null||e===void 0||e.call(this)}}let BI=0;class FI extends Ar{constructor(){super(...arguments),this.id=BI++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:t}=this.node.presenceContext,{isPresent:s}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===s)return;const a=this.node.animationState.setActive("exit",!e);t&&!e&&a.then(()=>{t(this.id)})}mount(){const{register:e,onExitComplete:t}=this.node.presenceContext||{};t&&t(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const zI={animation:{Feature:jI},exit:{Feature:FI}};function Nu(n,e,t,s={passive:!0}){return n.addEventListener(e,t,s),()=>n.removeEventListener(e,t)}function Ku(n){return{point:{x:n.pageX,y:n.pageY}}}const HI=n=>e=>Ig(e)&&n(e,Ku(e));function gu(n,e,t,s){return Nu(n,e,HI(t),s)}function hS({top:n,left:e,right:t,bottom:s}){return{x:{min:e,max:t},y:{min:n,max:s}}}function qI({x:n,y:e}){return{top:e.min,right:n.max,bottom:e.max,left:n.min}}function GI(n,e){if(!e)return n;const t=e({x:n.left,y:n.top}),s=e({x:n.right,y:n.bottom});return{top:t.y,left:t.x,bottom:s.y,right:s.x}}const fS=1e-4,KI=1-fS,$I=1+fS,dS=.01,YI=0-dS,QI=0+dS;function hn(n){return n.max-n.min}function XI(n,e,t){return Math.abs(n-e)<=t}function OE(n,e,t,s=.5){n.origin=s,n.originPoint=st(e.min,e.max,n.origin),n.scale=hn(t)/hn(e),n.translate=st(t.min,t.max,n.origin)-n.originPoint,(n.scale>=KI&&n.scale<=$I||isNaN(n.scale))&&(n.scale=1),(n.translate>=YI&&n.translate<=QI||isNaN(n.translate))&&(n.translate=0)}function yu(n,e,t,s){OE(n.x,e.x,t.x,s?s.originX:void 0),OE(n.y,e.y,t.y,s?s.originY:void 0)}function PE(n,e,t){n.min=t.min+e.min,n.max=n.min+hn(e)}function WI(n,e,t){PE(n.x,e.x,t.x),PE(n.y,e.y,t.y)}function kE(n,e,t){n.min=e.min-t.min,n.max=n.min+hn(e)}function vu(n,e,t){kE(n.x,e.x,t.x),kE(n.y,e.y,t.y)}const LE=()=>({translate:0,scale:1,origin:0,originPoint:0}),bo=()=>({x:LE(),y:LE()}),UE=()=>({min:0,max:0}),yt=()=>({x:UE(),y:UE()});function $n(n){return[n("x"),n("y")]}function ip(n){return n===void 0||n===1}function jp({scale:n,scaleX:e,scaleY:t}){return!ip(n)||!ip(e)||!ip(t)}function ua(n){return jp(n)||mS(n)||n.z||n.rotate||n.rotateX||n.rotateY||n.skewX||n.skewY}function mS(n){return jE(n.x)||jE(n.y)}function jE(n){return n&&n!=="0%"}function ef(n,e,t){const s=n-t,a=e*s;return t+a}function BE(n,e,t,s,a){return a!==void 0&&(n=ef(n,a,s)),ef(n,t,s)+e}function Bp(n,e=0,t=1,s,a){n.min=BE(n.min,e,t,s,a),n.max=BE(n.max,e,t,s,a)}function pS(n,{x:e,y:t}){Bp(n.x,e.translate,e.scale,e.originPoint),Bp(n.y,t.translate,t.scale,t.originPoint)}const FE=.999999999999,zE=1.0000000000001;function ZI(n,e,t,s=!1){const a=t.length;if(!a)return;e.x=e.y=1;let l,c;for(let d=0;d<a;d++){l=t[d],c=l.projectionDelta;const{visualElement:m}=l.options;m&&m.props.style&&m.props.style.display==="contents"||(s&&l.options.layoutScroll&&l.scroll&&l!==l.root&&So(n,{x:-l.scroll.offset.x,y:-l.scroll.offset.y}),c&&(e.x*=c.x.scale,e.y*=c.y.scale,pS(n,c)),s&&ua(l.latestValues)&&So(n,l.latestValues))}e.x<zE&&e.x>FE&&(e.x=1),e.y<zE&&e.y>FE&&(e.y=1)}function wo(n,e){n.min=n.min+e,n.max=n.max+e}function HE(n,e,t,s,a=.5){const l=st(n.min,n.max,a);Bp(n,e,t,l,s)}function So(n,e){HE(n.x,e.x,e.scaleX,e.scale,e.originX),HE(n.y,e.y,e.scaleY,e.scale,e.originY)}function gS(n,e){return hS(GI(n.getBoundingClientRect(),e))}function JI(n,e,t){const s=gS(n,t),{scroll:a}=e;return a&&(wo(s.x,a.offset.x),wo(s.y,a.offset.y)),s}const yS=({current:n})=>n?n.ownerDocument.defaultView:null,qE=(n,e)=>Math.abs(n-e);function eN(n,e){const t=qE(n.x,e.x),s=qE(n.y,e.y);return Math.sqrt(t**2+s**2)}class vS{constructor(e,t,{transformPagePoint:s,contextWindow:a,dragSnapToOrigin:l=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const T=rp(this.lastMoveEventInfo,this.history),b=this.startEvent!==null,x=eN(T.offset,{x:0,y:0})>=3;if(!b&&!x)return;const{point:D}=T,{timestamp:L}=Gt;this.history.push({...D,timestamp:L});const{onStart:P,onMove:B}=this.handlers;b||(P&&P(this.lastMoveEvent,T),this.startEvent=this.lastMoveEvent),B&&B(this.lastMoveEvent,T)},this.handlePointerMove=(T,b)=>{this.lastMoveEvent=T,this.lastMoveEventInfo=sp(b,this.transformPagePoint),Je.update(this.updatePoint,!0)},this.handlePointerUp=(T,b)=>{this.end();const{onEnd:x,onSessionEnd:D,resumeAnimation:L}=this.handlers;if(this.dragSnapToOrigin&&L&&L(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const P=rp(T.type==="pointercancel"?this.lastMoveEventInfo:sp(b,this.transformPagePoint),this.history);this.startEvent&&x&&x(T,P),D&&D(T,P)},!Ig(e))return;this.dragSnapToOrigin=l,this.handlers=t,this.transformPagePoint=s,this.contextWindow=a||window;const c=Ku(e),d=sp(c,this.transformPagePoint),{point:m}=d,{timestamp:p}=Gt;this.history=[{...m,timestamp:p}];const{onSessionStart:v}=t;v&&v(e,rp(d,this.history)),this.removeListeners=Gu(gu(this.contextWindow,"pointermove",this.handlePointerMove),gu(this.contextWindow,"pointerup",this.handlePointerUp),gu(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),vr(this.updatePoint)}}function sp(n,e){return e?{point:e(n.point)}:n}function GE(n,e){return{x:n.x-e.x,y:n.y-e.y}}function rp({point:n},e){return{point:n,delta:GE(n,_S(e)),offset:GE(n,tN(e)),velocity:nN(e,.1)}}function tN(n){return n[0]}function _S(n){return n[n.length-1]}function nN(n,e){if(n.length<2)return{x:0,y:0};let t=n.length-1,s=null;const a=_S(n);for(;t>=0&&(s=n[t],!(a.timestamp-s.timestamp>us(e)));)t--;if(!s)return{x:0,y:0};const l=cs(a.timestamp-s.timestamp);if(l===0)return{x:0,y:0};const c={x:(a.x-s.x)/l,y:(a.y-s.y)/l};return c.x===1/0&&(c.x=0),c.y===1/0&&(c.y=0),c}function iN(n,{min:e,max:t},s){return e!==void 0&&n<e?n=s?st(e,n,s.min):Math.max(n,e):t!==void 0&&n>t&&(n=s?st(t,n,s.max):Math.min(n,t)),n}function KE(n,e,t){return{min:e!==void 0?n.min+e:void 0,max:t!==void 0?n.max+t-(n.max-n.min):void 0}}function sN(n,{top:e,left:t,bottom:s,right:a}){return{x:KE(n.x,t,a),y:KE(n.y,e,s)}}function $E(n,e){let t=e.min-n.min,s=e.max-n.max;return e.max-e.min<n.max-n.min&&([t,s]=[s,t]),{min:t,max:s}}function rN(n,e){return{x:$E(n.x,e.x),y:$E(n.y,e.y)}}function aN(n,e){let t=.5;const s=hn(n),a=hn(e);return a>s?t=Io(e.min,e.max-s,n.min):s>a&&(t=Io(n.min,n.max-a,e.min)),fs(0,1,t)}function oN(n,e){const t={};return e.min!==void 0&&(t.min=e.min-n.min),e.max!==void 0&&(t.max=e.max-n.min),t}const Fp=.35;function lN(n=Fp){return n===!1?n=0:n===!0&&(n=Fp),{x:YE(n,"left","right"),y:YE(n,"top","bottom")}}function YE(n,e,t){return{min:QE(n,e),max:QE(n,t)}}function QE(n,e){return typeof n=="number"?n:n[e]||0}const uN=new WeakMap;class cN{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=yt(),this.visualElement=e}start(e,{snapToCursor:t=!1}={}){const{presenceContext:s}=this.visualElement;if(s&&s.isPresent===!1)return;const a=v=>{const{dragSnapToOrigin:T}=this.getProps();T?this.pauseAnimation():this.stopAnimation(),t&&this.snapToCursor(Ku(v).point)},l=(v,T)=>{const{drag:b,dragPropagation:x,onDragStart:D}=this.getProps();if(b&&!x&&(this.openDragLock&&this.openDragLock(),this.openDragLock=r2(b),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),$n(P=>{let B=this.getAxisMotionValue(P).get()||0;if(bi.test(B)){const{projection:Q}=this.visualElement;if(Q&&Q.layout){const Y=Q.layout.layoutBox[P];Y&&(B=hn(Y)*(parseFloat(B)/100))}}this.originPoint[P]=B}),D&&Je.postRender(()=>D(v,T)),Cp(this.visualElement,"transform");const{animationState:L}=this.visualElement;L&&L.setActive("whileDrag",!0)},c=(v,T)=>{const{dragPropagation:b,dragDirectionLock:x,onDirectionLock:D,onDrag:L}=this.getProps();if(!b&&!this.openDragLock)return;const{offset:P}=T;if(x&&this.currentDirection===null){this.currentDirection=hN(P),this.currentDirection!==null&&D&&D(this.currentDirection);return}this.updateAxis("x",T.point,P),this.updateAxis("y",T.point,P),this.visualElement.render(),L&&L(v,T)},d=(v,T)=>this.stop(v,T),m=()=>$n(v=>{var T;return this.getAnimationState(v)==="paused"&&((T=this.getAxisMotionValue(v).animation)===null||T===void 0?void 0:T.play())}),{dragSnapToOrigin:p}=this.getProps();this.panSession=new vS(e,{onSessionStart:a,onStart:l,onMove:c,onSessionEnd:d,resumeAnimation:m},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:p,contextWindow:yS(this.visualElement)})}stop(e,t){const s=this.isDragging;if(this.cancel(),!s)return;const{velocity:a}=t;this.startAnimation(a);const{onDragEnd:l}=this.getProps();l&&Je.postRender(()=>l(e,t))}cancel(){this.isDragging=!1;const{projection:e,animationState:t}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:s}=this.getProps();!s&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),t&&t.setActive("whileDrag",!1)}updateAxis(e,t,s){const{drag:a}=this.getProps();if(!s||!xh(e,a,this.currentDirection))return;const l=this.getAxisMotionValue(e);let c=this.originPoint[e]+s[e];this.constraints&&this.constraints[e]&&(c=iN(c,this.constraints[e],this.elastic[e])),l.set(c)}resolveConstraints(){var e;const{dragConstraints:t,dragElastic:s}=this.getProps(),a=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,l=this.constraints;t&&Eo(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&a?this.constraints=sN(a.layoutBox,t):this.constraints=!1,this.elastic=lN(s),l!==this.constraints&&a&&this.constraints&&!this.hasMutatedConstraints&&$n(c=>{this.constraints!==!1&&this.getAxisMotionValue(c)&&(this.constraints[c]=oN(a.layoutBox[c],this.constraints[c]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:t}=this.getProps();if(!e||!Eo(e))return!1;const s=e.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const l=JI(s,a.root,this.visualElement.getTransformPagePoint());let c=rN(a.layout.layoutBox,l);if(t){const d=t(qI(c));this.hasMutatedConstraints=!!d,d&&(c=hS(d))}return c}startAnimation(e){const{drag:t,dragMomentum:s,dragElastic:a,dragTransition:l,dragSnapToOrigin:c,onDragTransitionEnd:d}=this.getProps(),m=this.constraints||{},p=$n(v=>{if(!xh(v,t,this.currentDirection))return;let T=m[v]||{};c&&(T={min:0,max:0});const b=a?200:1e6,x=a?40:1e7,D={type:"inertia",velocity:s?e[v]:0,bounceStiffness:b,bounceDamping:x,timeConstant:750,restDelta:1,restSpeed:10,...l,...T};return this.startAxisValueAnimation(v,D)});return Promise.all(p).then(d)}startAxisValueAnimation(e,t){const s=this.getAxisMotionValue(e);return Cp(this.visualElement,e),s.start(Wg(e,s,0,t,this.visualElement,!1))}stopAnimation(){$n(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){$n(e=>{var t;return(t=this.getAxisMotionValue(e).animation)===null||t===void 0?void 0:t.pause()})}getAnimationState(e){var t;return(t=this.getAxisMotionValue(e).animation)===null||t===void 0?void 0:t.state}getAxisMotionValue(e){const t=`_drag${e.toUpperCase()}`,s=this.visualElement.getProps(),a=s[t];return a||this.visualElement.getValue(e,(s.initial?s.initial[e]:void 0)||0)}snapToCursor(e){$n(t=>{const{drag:s}=this.getProps();if(!xh(t,s,this.currentDirection))return;const{projection:a}=this.visualElement,l=this.getAxisMotionValue(t);if(a&&a.layout){const{min:c,max:d}=a.layout.layoutBox[t];l.set(e[t]-st(c,d,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:t}=this.getProps(),{projection:s}=this.visualElement;if(!Eo(t)||!s||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};$n(c=>{const d=this.getAxisMotionValue(c);if(d&&this.constraints!==!1){const m=d.get();a[c]=aN({min:m,max:m},this.constraints[c])}});const{transformTemplate:l}=this.visualElement.getProps();this.visualElement.current.style.transform=l?l({},""):"none",s.root&&s.root.updateScroll(),s.updateLayout(),this.resolveConstraints(),$n(c=>{if(!xh(c,e,null))return;const d=this.getAxisMotionValue(c),{min:m,max:p}=this.constraints[c];d.set(st(m,p,a[c]))})}addListeners(){if(!this.visualElement.current)return;uN.set(this.visualElement,this);const e=this.visualElement.current,t=gu(e,"pointerdown",m=>{const{drag:p,dragListener:v=!0}=this.getProps();p&&v&&this.start(m)}),s=()=>{const{dragConstraints:m}=this.getProps();Eo(m)&&m.current&&(this.constraints=this.resolveRefConstraints())},{projection:a}=this.visualElement,l=a.addEventListener("measure",s);a&&!a.layout&&(a.root&&a.root.updateScroll(),a.updateLayout()),Je.read(s);const c=Nu(window,"resize",()=>this.scalePositionWithinConstraints()),d=a.addEventListener("didUpdate",({delta:m,hasLayoutChanged:p})=>{this.isDragging&&p&&($n(v=>{const T=this.getAxisMotionValue(v);T&&(this.originPoint[v]+=m[v].translate,T.set(T.get()+m[v].translate))}),this.visualElement.render())});return()=>{c(),t(),l(),d&&d()}}getProps(){const e=this.visualElement.getProps(),{drag:t=!1,dragDirectionLock:s=!1,dragPropagation:a=!1,dragConstraints:l=!1,dragElastic:c=Fp,dragMomentum:d=!0}=e;return{...e,drag:t,dragDirectionLock:s,dragPropagation:a,dragConstraints:l,dragElastic:c,dragMomentum:d}}}function xh(n,e,t){return(e===!0||e===n)&&(t===null||t===n)}function hN(n,e=10){let t=null;return Math.abs(n.y)>e?t="y":Math.abs(n.x)>e&&(t="x"),t}class fN extends Ar{constructor(e){super(e),this.removeGroupControls=Rn,this.removeListeners=Rn,this.controls=new cN(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Rn}unmount(){this.removeGroupControls(),this.removeListeners()}}const XE=n=>(e,t)=>{n&&Je.postRender(()=>n(e,t))};class dN extends Ar{constructor(){super(...arguments),this.removePointerDownListener=Rn}onPointerDown(e){this.session=new vS(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:yS(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:t,onPan:s,onPanEnd:a}=this.node.getProps();return{onSessionStart:XE(e),onStart:XE(t),onMove:s,onEnd:(l,c)=>{delete this.session,a&&Je.postRender(()=>a(l,c))}}}mount(){this.removePointerDownListener=gu(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Lh={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function WE(n,e){return e.max===e.min?0:n/(e.max-e.min)*100}const lu={correct:(n,e)=>{if(!e.target)return n;if(typeof n=="string")if(Ee.test(n))n=parseFloat(n);else return n;const t=WE(n,e.target.x),s=WE(n,e.target.y);return`${t}% ${s}%`}},mN={correct:(n,{treeScale:e,projectionDelta:t})=>{const s=n,a=_r.parse(n);if(a.length>5)return s;const l=_r.createTransformer(n),c=typeof a[0]!="number"?1:0,d=t.x.scale*e.x,m=t.y.scale*e.y;a[0+c]/=d,a[1+c]/=m;const p=st(d,m,.5);return typeof a[2+c]=="number"&&(a[2+c]/=p),typeof a[3+c]=="number"&&(a[3+c]/=p),l(a)}};class pN extends V.Component{componentDidMount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:s,layoutId:a}=this.props,{projection:l}=e;V2(gN),l&&(t.group&&t.group.add(l),s&&s.register&&a&&s.register(l),l.root.didUpdate(),l.addEventListener("animationComplete",()=>{this.safeToRemove()}),l.setOptions({...l.options,onExitComplete:()=>this.safeToRemove()})),Lh.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:t,visualElement:s,drag:a,isPresent:l}=this.props,c=s.projection;return c&&(c.isPresent=l,a||e.layoutDependency!==t||t===void 0||e.isPresent!==l?c.willUpdate():this.safeToRemove(),e.isPresent!==l&&(l?c.promote():c.relegate()||Je.postRender(()=>{const d=c.getStack();(!d||!d.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),Dg.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:s}=this.props,{projection:a}=e;a&&(a.scheduleCheckAfterUnmount(),t&&t.group&&t.group.remove(a),s&&s.deregister&&s.deregister(a))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function ES(n){const[e,t]=QC(),s=V.useContext(nw);return w.jsx(pN,{...n,layoutGroup:s,switchLayoutGroup:V.useContext(yw),isPresent:e,safeToRemove:t})}const gN={borderRadius:{...lu,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:lu,borderTopRightRadius:lu,borderBottomLeftRadius:lu,borderBottomRightRadius:lu,boxShadow:mN};function yN(n,e,t){const s=nn(n)?n:Au(n);return s.start(Wg("",s,e,t)),s.animation}function vN(n){return n instanceof SVGElement&&n.tagName!=="svg"}const _N=(n,e)=>n.depth-e.depth;class EN{constructor(){this.children=[],this.isDirty=!1}add(e){bg(this.children,e),this.isDirty=!0}remove(e){wg(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(_N),this.isDirty=!1,this.children.forEach(e)}}function TN(n,e){const t=Ti.now(),s=({timestamp:a})=>{const l=a-t;l>=e&&(vr(s),n(l-e))};return Je.read(s,!0),()=>vr(s)}const TS=["TopLeft","TopRight","BottomLeft","BottomRight"],bN=TS.length,ZE=n=>typeof n=="string"?parseFloat(n):n,JE=n=>typeof n=="number"||Ee.test(n);function wN(n,e,t,s,a,l){a?(n.opacity=st(0,t.opacity!==void 0?t.opacity:1,SN(s)),n.opacityExit=st(e.opacity!==void 0?e.opacity:1,0,AN(s))):l&&(n.opacity=st(e.opacity!==void 0?e.opacity:1,t.opacity!==void 0?t.opacity:1,s));for(let c=0;c<bN;c++){const d=`border${TS[c]}Radius`;let m=eT(e,d),p=eT(t,d);if(m===void 0&&p===void 0)continue;m||(m=0),p||(p=0),m===0||p===0||JE(m)===JE(p)?(n[d]=Math.max(st(ZE(m),ZE(p),s),0),(bi.test(p)||bi.test(m))&&(n[d]+="%")):n[d]=p}(e.rotate||t.rotate)&&(n.rotate=st(e.rotate||0,t.rotate||0,s))}function eT(n,e){return n[e]!==void 0?n[e]:n.borderRadius}const SN=bS(0,.5,Uw),AN=bS(.5,.95,Rn);function bS(n,e,t){return s=>s<n?0:s>e?1:t(Io(n,e,s))}function tT(n,e){n.min=e.min,n.max=e.max}function Kn(n,e){tT(n.x,e.x),tT(n.y,e.y)}function nT(n,e){n.translate=e.translate,n.scale=e.scale,n.originPoint=e.originPoint,n.origin=e.origin}function iT(n,e,t,s,a){return n-=e,n=ef(n,1/t,s),a!==void 0&&(n=ef(n,1/a,s)),n}function xN(n,e=0,t=1,s=.5,a,l=n,c=n){if(bi.test(e)&&(e=parseFloat(e),e=st(c.min,c.max,e/100)-c.min),typeof e!="number")return;let d=st(l.min,l.max,s);n===l&&(d-=e),n.min=iT(n.min,e,t,d,a),n.max=iT(n.max,e,t,d,a)}function sT(n,e,[t,s,a],l,c){xN(n,e[t],e[s],e[a],e.scale,l,c)}const RN=["x","scaleX","originX"],CN=["y","scaleY","originY"];function rT(n,e,t,s){sT(n.x,e,RN,t?t.x:void 0,s?s.x:void 0),sT(n.y,e,CN,t?t.y:void 0,s?s.y:void 0)}function aT(n){return n.translate===0&&n.scale===1}function wS(n){return aT(n.x)&&aT(n.y)}function oT(n,e){return n.min===e.min&&n.max===e.max}function DN(n,e){return oT(n.x,e.x)&&oT(n.y,e.y)}function lT(n,e){return Math.round(n.min)===Math.round(e.min)&&Math.round(n.max)===Math.round(e.max)}function SS(n,e){return lT(n.x,e.x)&&lT(n.y,e.y)}function uT(n){return hn(n.x)/hn(n.y)}function cT(n,e){return n.translate===e.translate&&n.scale===e.scale&&n.originPoint===e.originPoint}class IN{constructor(){this.members=[]}add(e){bg(this.members,e),e.scheduleRender()}remove(e){if(wg(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const t=this.members[this.members.length-1];t&&this.promote(t)}}relegate(e){const t=this.members.findIndex(a=>e===a);if(t===0)return!1;let s;for(let a=t;a>=0;a--){const l=this.members[a];if(l.isPresent!==!1){s=l;break}}return s?(this.promote(s),!0):!1}promote(e,t){const s=this.lead;if(e!==s&&(this.prevLead=s,this.lead=e,e.show(),s)){s.instance&&s.scheduleRender(),e.scheduleRender(),e.resumeFrom=s,t&&(e.resumeFrom.preserveOpacity=!0),s.snapshot&&(e.snapshot=s.snapshot,e.snapshot.latestValues=s.animationValues||s.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:a}=e.options;a===!1&&s.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:t,resumingFrom:s}=e;t.onExitComplete&&t.onExitComplete(),s&&s.options.onExitComplete&&s.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function NN(n,e,t){let s="";const a=n.x.translate/e.x,l=n.y.translate/e.y,c=(t==null?void 0:t.z)||0;if((a||l||c)&&(s=`translate3d(${a}px, ${l}px, ${c}px) `),(e.x!==1||e.y!==1)&&(s+=`scale(${1/e.x}, ${1/e.y}) `),t){const{transformPerspective:p,rotate:v,rotateX:T,rotateY:b,skewX:x,skewY:D}=t;p&&(s=`perspective(${p}px) ${s}`),v&&(s+=`rotate(${v}deg) `),T&&(s+=`rotateX(${T}deg) `),b&&(s+=`rotateY(${b}deg) `),x&&(s+=`skewX(${x}deg) `),D&&(s+=`skewY(${D}deg) `)}const d=n.x.scale*e.x,m=n.y.scale*e.y;return(d!==1||m!==1)&&(s+=`scale(${d}, ${m})`),s||"none"}const ap=["","X","Y","Z"],VN={visibility:"hidden"},hT=1e3;let MN=0;function op(n,e,t,s){const{latestValues:a}=e;a[n]&&(t[n]=a[n],e.setStaticValue(n,0),s&&(s[n]=0))}function AS(n){if(n.hasCheckedOptimisedAppear=!0,n.root===n)return;const{visualElement:e}=n.options;if(!e)return;const t=Nw(e);if(window.MotionHasOptimisedAnimation(t,"transform")){const{layout:a,layoutId:l}=n.options;window.MotionCancelOptimisedAnimation(t,"transform",Je,!(a||l))}const{parent:s}=n;s&&!s.hasCheckedOptimisedAppear&&AS(s)}function xS({attachResizeListener:n,defaultParent:e,measureScroll:t,checkIsScrollRoot:s,resetTransform:a}){return class{constructor(c={},d=e==null?void 0:e()){this.id=MN++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(kN),this.nodes.forEach(FN),this.nodes.forEach(zN),this.nodes.forEach(LN)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=c,this.root=d?d.root||d:this,this.path=d?[...d.path,d]:[],this.parent=d,this.depth=d?d.depth+1:0;for(let m=0;m<this.path.length;m++)this.path[m].shouldResetTransform=!0;this.root===this&&(this.nodes=new EN)}addEventListener(c,d){return this.eventHandlers.has(c)||this.eventHandlers.set(c,new Ag),this.eventHandlers.get(c).add(d)}notifyListeners(c,...d){const m=this.eventHandlers.get(c);m&&m.notify(...d)}hasListeners(c){return this.eventHandlers.has(c)}mount(c,d=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=vN(c),this.instance=c;const{layoutId:m,layout:p,visualElement:v}=this.options;if(v&&!v.current&&v.mount(c),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),d&&(p||m)&&(this.isLayoutDirty=!0),n){let T;const b=()=>this.root.updateBlockedByResize=!1;n(c,()=>{this.root.updateBlockedByResize=!0,T&&T(),T=TN(b,250),Lh.hasAnimatedSinceResize&&(Lh.hasAnimatedSinceResize=!1,this.nodes.forEach(dT))})}m&&this.root.registerSharedNode(m,this),this.options.animate!==!1&&v&&(m||p)&&this.addEventListener("didUpdate",({delta:T,hasLayoutChanged:b,hasRelativeLayoutChanged:x,layout:D})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const L=this.options.transition||v.getDefaultTransition()||$N,{onLayoutAnimationStart:P,onLayoutAnimationComplete:B}=v.getProps(),Q=!this.targetLayout||!SS(this.targetLayout,D),Y=!b&&x;if(this.options.layoutRoot||this.resumeFrom||Y||b&&(Q||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(T,Y);const ae={...xg(L,"layout"),onPlay:P,onComplete:B};(v.shouldReduceMotion||this.options.layoutRoot)&&(ae.delay=0,ae.type=!1),this.startAnimation(ae)}else b||dT(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=D})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const c=this.getStack();c&&c.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,vr(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(HN),this.animationId++)}getTransformTemplate(){const{visualElement:c}=this.options;return c&&c.getProps().transformTemplate}willUpdate(c=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&AS(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let v=0;v<this.path.length;v++){const T=this.path[v];T.shouldResetTransform=!0,T.updateScroll("snapshot"),T.options.layoutRoot&&T.willUpdate(!1)}const{layoutId:d,layout:m}=this.options;if(d===void 0&&!m)return;const p=this.getTransformTemplate();this.prevTransformTemplateValue=p?p(this.latestValues,""):void 0,this.updateSnapshot(),c&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(fT);return}this.isUpdating||this.nodes.forEach(jN),this.isUpdating=!1,this.nodes.forEach(BN),this.nodes.forEach(ON),this.nodes.forEach(PN),this.clearAllSnapshots();const d=Ti.now();Gt.delta=fs(0,1e3/60,d-Gt.timestamp),Gt.timestamp=d,Gt.isProcessing=!0,Zm.update.process(Gt),Zm.preRender.process(Gt),Zm.render.process(Gt),Gt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Dg.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(UN),this.sharedNodes.forEach(qN)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Je.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Je.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!hn(this.snapshot.measuredBox.x)&&!hn(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let m=0;m<this.path.length;m++)this.path[m].updateScroll();const c=this.layout;this.layout=this.measure(!1),this.layoutCorrected=yt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:d}=this.options;d&&d.notify("LayoutMeasure",this.layout.layoutBox,c?c.layoutBox:void 0)}updateScroll(c="measure"){let d=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===c&&(d=!1),d){const m=s(this.instance);this.scroll={animationId:this.root.animationId,phase:c,isRoot:m,offset:t(this.instance),wasRoot:this.scroll?this.scroll.isRoot:m}}}resetTransform(){if(!a)return;const c=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,d=this.projectionDelta&&!wS(this.projectionDelta),m=this.getTransformTemplate(),p=m?m(this.latestValues,""):void 0,v=p!==this.prevTransformTemplateValue;c&&(d||ua(this.latestValues)||v)&&(a(this.instance,p),this.shouldResetTransform=!1,this.scheduleRender())}measure(c=!0){const d=this.measurePageBox();let m=this.removeElementScroll(d);return c&&(m=this.removeTransform(m)),YN(m),{animationId:this.root.animationId,measuredBox:d,layoutBox:m,latestValues:{},source:this.id}}measurePageBox(){var c;const{visualElement:d}=this.options;if(!d)return yt();const m=d.measureViewportBox();if(!(((c=this.scroll)===null||c===void 0?void 0:c.wasRoot)||this.path.some(QN))){const{scroll:v}=this.root;v&&(wo(m.x,v.offset.x),wo(m.y,v.offset.y))}return m}removeElementScroll(c){var d;const m=yt();if(Kn(m,c),!((d=this.scroll)===null||d===void 0)&&d.wasRoot)return m;for(let p=0;p<this.path.length;p++){const v=this.path[p],{scroll:T,options:b}=v;v!==this.root&&T&&b.layoutScroll&&(T.wasRoot&&Kn(m,c),wo(m.x,T.offset.x),wo(m.y,T.offset.y))}return m}applyTransform(c,d=!1){const m=yt();Kn(m,c);for(let p=0;p<this.path.length;p++){const v=this.path[p];!d&&v.options.layoutScroll&&v.scroll&&v!==v.root&&So(m,{x:-v.scroll.offset.x,y:-v.scroll.offset.y}),ua(v.latestValues)&&So(m,v.latestValues)}return ua(this.latestValues)&&So(m,this.latestValues),m}removeTransform(c){const d=yt();Kn(d,c);for(let m=0;m<this.path.length;m++){const p=this.path[m];if(!p.instance||!ua(p.latestValues))continue;jp(p.latestValues)&&p.updateSnapshot();const v=yt(),T=p.measurePageBox();Kn(v,T),rT(d,p.latestValues,p.snapshot?p.snapshot.layoutBox:void 0,v)}return ua(this.latestValues)&&rT(d,this.latestValues),d}setTargetDelta(c){this.targetDelta=c,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(c){this.options={...this.options,...c,crossfade:c.crossfade!==void 0?c.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Gt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(c=!1){var d;const m=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=m.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=m.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=m.isSharedProjectionDirty);const p=!!this.resumingFrom||this!==m;if(!(c||p&&this.isSharedProjectionDirty||this.isProjectionDirty||!((d=this.parent)===null||d===void 0)&&d.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:T,layoutId:b}=this.options;if(!(!this.layout||!(T||b))){if(this.resolvedRelativeTargetAt=Gt.timestamp,!this.targetDelta&&!this.relativeTarget){const x=this.getClosestProjectingParent();x&&x.layout&&this.animationProgress!==1?(this.relativeParent=x,this.forceRelativeParentToResolveTarget(),this.relativeTarget=yt(),this.relativeTargetOrigin=yt(),vu(this.relativeTargetOrigin,this.layout.layoutBox,x.layout.layoutBox),Kn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=yt(),this.targetWithTransforms=yt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),WI(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Kn(this.target,this.layout.layoutBox),pS(this.target,this.targetDelta)):Kn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const x=this.getClosestProjectingParent();x&&!!x.resumingFrom==!!this.resumingFrom&&!x.options.layoutScroll&&x.target&&this.animationProgress!==1?(this.relativeParent=x,this.forceRelativeParentToResolveTarget(),this.relativeTarget=yt(),this.relativeTargetOrigin=yt(),vu(this.relativeTargetOrigin,this.target,x.target),Kn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||jp(this.parent.latestValues)||mS(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var c;const d=this.getLead(),m=!!this.resumingFrom||this!==d;let p=!0;if((this.isProjectionDirty||!((c=this.parent)===null||c===void 0)&&c.isProjectionDirty)&&(p=!1),m&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(p=!1),this.resolvedRelativeTargetAt===Gt.timestamp&&(p=!1),p)return;const{layout:v,layoutId:T}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(v||T))return;Kn(this.layoutCorrected,this.layout.layoutBox);const b=this.treeScale.x,x=this.treeScale.y;ZI(this.layoutCorrected,this.treeScale,this.path,m),d.layout&&!d.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(d.target=d.layout.layoutBox,d.targetWithTransforms=yt());const{target:D}=d;if(!D){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(nT(this.prevProjectionDelta.x,this.projectionDelta.x),nT(this.prevProjectionDelta.y,this.projectionDelta.y)),yu(this.projectionDelta,this.layoutCorrected,D,this.latestValues),(this.treeScale.x!==b||this.treeScale.y!==x||!cT(this.projectionDelta.x,this.prevProjectionDelta.x)||!cT(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",D))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(c=!0){var d;if((d=this.options.visualElement)===null||d===void 0||d.scheduleRender(),c){const m=this.getStack();m&&m.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=bo(),this.projectionDelta=bo(),this.projectionDeltaWithTransform=bo()}setAnimationOrigin(c,d=!1){const m=this.snapshot,p=m?m.latestValues:{},v={...this.latestValues},T=bo();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!d;const b=yt(),x=m?m.source:void 0,D=this.layout?this.layout.source:void 0,L=x!==D,P=this.getStack(),B=!P||P.members.length<=1,Q=!!(L&&!B&&this.options.crossfade===!0&&!this.path.some(KN));this.animationProgress=0;let Y;this.mixTargetDelta=ae=>{const G=ae/1e3;mT(T.x,c.x,G),mT(T.y,c.y,G),this.setTargetDelta(T),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(vu(b,this.layout.layoutBox,this.relativeParent.layout.layoutBox),GN(this.relativeTarget,this.relativeTargetOrigin,b,G),Y&&DN(this.relativeTarget,Y)&&(this.isProjectionDirty=!1),Y||(Y=yt()),Kn(Y,this.relativeTarget)),L&&(this.animationValues=v,wN(v,p,this.latestValues,G,Q,B)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=G},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(c){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(vr(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Je.update(()=>{Lh.hasAnimatedSinceResize=!0,this.currentAnimation=yN(0,hT,{...c,onUpdate:d=>{this.mixTargetDelta(d),c.onUpdate&&c.onUpdate(d)},onStop:()=>{},onComplete:()=>{c.onComplete&&c.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const c=this.getStack();c&&c.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(hT),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const c=this.getLead();let{targetWithTransforms:d,target:m,layout:p,latestValues:v}=c;if(!(!d||!m||!p)){if(this!==c&&this.layout&&p&&RS(this.options.animationType,this.layout.layoutBox,p.layoutBox)){m=this.target||yt();const T=hn(this.layout.layoutBox.x);m.x.min=c.target.x.min,m.x.max=m.x.min+T;const b=hn(this.layout.layoutBox.y);m.y.min=c.target.y.min,m.y.max=m.y.min+b}Kn(d,m),So(d,v),yu(this.projectionDeltaWithTransform,this.layoutCorrected,d,v)}}registerSharedNode(c,d){this.sharedNodes.has(c)||this.sharedNodes.set(c,new IN),this.sharedNodes.get(c).add(d);const p=d.options.initialPromotionConfig;d.promote({transition:p?p.transition:void 0,preserveFollowOpacity:p&&p.shouldPreserveFollowOpacity?p.shouldPreserveFollowOpacity(d):void 0})}isLead(){const c=this.getStack();return c?c.lead===this:!0}getLead(){var c;const{layoutId:d}=this.options;return d?((c=this.getStack())===null||c===void 0?void 0:c.lead)||this:this}getPrevLead(){var c;const{layoutId:d}=this.options;return d?(c=this.getStack())===null||c===void 0?void 0:c.prevLead:void 0}getStack(){const{layoutId:c}=this.options;if(c)return this.root.sharedNodes.get(c)}promote({needsReset:c,transition:d,preserveFollowOpacity:m}={}){const p=this.getStack();p&&p.promote(this,m),c&&(this.projectionDelta=void 0,this.needsReset=!0),d&&this.setOptions({transition:d})}relegate(){const c=this.getStack();return c?c.relegate(this):!1}resetSkewAndRotation(){const{visualElement:c}=this.options;if(!c)return;let d=!1;const{latestValues:m}=c;if((m.z||m.rotate||m.rotateX||m.rotateY||m.rotateZ||m.skewX||m.skewY)&&(d=!0),!d)return;const p={};m.z&&op("z",c,p,this.animationValues);for(let v=0;v<ap.length;v++)op(`rotate${ap[v]}`,c,p,this.animationValues),op(`skew${ap[v]}`,c,p,this.animationValues);c.render();for(const v in p)c.setStaticValue(v,p[v]),this.animationValues&&(this.animationValues[v]=p[v]);c.scheduleRender()}getProjectionStyles(c){var d,m;if(!this.instance||this.isSVG)return;if(!this.isVisible)return VN;const p={visibility:""},v=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,p.opacity="",p.pointerEvents=kh(c==null?void 0:c.pointerEvents)||"",p.transform=v?v(this.latestValues,""):"none",p;const T=this.getLead();if(!this.projectionDelta||!this.layout||!T.target){const L={};return this.options.layoutId&&(L.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,L.pointerEvents=kh(c==null?void 0:c.pointerEvents)||""),this.hasProjected&&!ua(this.latestValues)&&(L.transform=v?v({},""):"none",this.hasProjected=!1),L}const b=T.animationValues||T.latestValues;this.applyTransformsToTarget(),p.transform=NN(this.projectionDeltaWithTransform,this.treeScale,b),v&&(p.transform=v(b,p.transform));const{x,y:D}=this.projectionDelta;p.transformOrigin=`${x.origin*100}% ${D.origin*100}% 0`,T.animationValues?p.opacity=T===this?(m=(d=b.opacity)!==null&&d!==void 0?d:this.latestValues.opacity)!==null&&m!==void 0?m:1:this.preserveOpacity?this.latestValues.opacity:b.opacityExit:p.opacity=T===this?b.opacity!==void 0?b.opacity:"":b.opacityExit!==void 0?b.opacityExit:0;for(const L in Ru){if(b[L]===void 0)continue;const{correct:P,applyTo:B,isCSSVariable:Q}=Ru[L],Y=p.transform==="none"?b[L]:P(b[L],T);if(B){const ae=B.length;for(let G=0;G<ae;G++)p[B[G]]=Y}else Q?this.options.visualElement.renderState.vars[L]=Y:p[L]=Y}return this.options.layoutId&&(p.pointerEvents=T===this?kh(c==null?void 0:c.pointerEvents)||"":"none"),p}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(c=>{var d;return(d=c.currentAnimation)===null||d===void 0?void 0:d.stop()}),this.root.nodes.forEach(fT),this.root.sharedNodes.clear()}}}function ON(n){n.updateLayout()}function PN(n){var e;const t=((e=n.resumeFrom)===null||e===void 0?void 0:e.snapshot)||n.snapshot;if(n.isLead()&&n.layout&&t&&n.hasListeners("didUpdate")){const{layoutBox:s,measuredBox:a}=n.layout,{animationType:l}=n.options,c=t.source!==n.layout.source;l==="size"?$n(T=>{const b=c?t.measuredBox[T]:t.layoutBox[T],x=hn(b);b.min=s[T].min,b.max=b.min+x}):RS(l,t.layoutBox,s)&&$n(T=>{const b=c?t.measuredBox[T]:t.layoutBox[T],x=hn(s[T]);b.max=b.min+x,n.relativeTarget&&!n.currentAnimation&&(n.isProjectionDirty=!0,n.relativeTarget[T].max=n.relativeTarget[T].min+x)});const d=bo();yu(d,s,t.layoutBox);const m=bo();c?yu(m,n.applyTransform(a,!0),t.measuredBox):yu(m,s,t.layoutBox);const p=!wS(d);let v=!1;if(!n.resumeFrom){const T=n.getClosestProjectingParent();if(T&&!T.resumeFrom){const{snapshot:b,layout:x}=T;if(b&&x){const D=yt();vu(D,t.layoutBox,b.layoutBox);const L=yt();vu(L,s,x.layoutBox),SS(D,L)||(v=!0),T.options.layoutRoot&&(n.relativeTarget=L,n.relativeTargetOrigin=D,n.relativeParent=T)}}}n.notifyListeners("didUpdate",{layout:s,snapshot:t,delta:m,layoutDelta:d,hasLayoutChanged:p,hasRelativeLayoutChanged:v})}else if(n.isLead()){const{onExitComplete:s}=n.options;s&&s()}n.options.transition=void 0}function kN(n){n.parent&&(n.isProjecting()||(n.isProjectionDirty=n.parent.isProjectionDirty),n.isSharedProjectionDirty||(n.isSharedProjectionDirty=!!(n.isProjectionDirty||n.parent.isProjectionDirty||n.parent.isSharedProjectionDirty)),n.isTransformDirty||(n.isTransformDirty=n.parent.isTransformDirty))}function LN(n){n.isProjectionDirty=n.isSharedProjectionDirty=n.isTransformDirty=!1}function UN(n){n.clearSnapshot()}function fT(n){n.clearMeasurements()}function jN(n){n.isLayoutDirty=!1}function BN(n){const{visualElement:e}=n.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),n.resetTransform()}function dT(n){n.finishAnimation(),n.targetDelta=n.relativeTarget=n.target=void 0,n.isProjectionDirty=!0}function FN(n){n.resolveTargetDelta()}function zN(n){n.calcProjection()}function HN(n){n.resetSkewAndRotation()}function qN(n){n.removeLeadSnapshot()}function mT(n,e,t){n.translate=st(e.translate,0,t),n.scale=st(e.scale,1,t),n.origin=e.origin,n.originPoint=e.originPoint}function pT(n,e,t,s){n.min=st(e.min,t.min,s),n.max=st(e.max,t.max,s)}function GN(n,e,t,s){pT(n.x,e.x,t.x,s),pT(n.y,e.y,t.y,s)}function KN(n){return n.animationValues&&n.animationValues.opacityExit!==void 0}const $N={duration:.45,ease:[.4,0,.1,1]},gT=n=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(n),yT=gT("applewebkit/")&&!gT("chrome/")?Math.round:Rn;function vT(n){n.min=yT(n.min),n.max=yT(n.max)}function YN(n){vT(n.x),vT(n.y)}function RS(n,e,t){return n==="position"||n==="preserve-aspect"&&!XI(uT(e),uT(t),.2)}function QN(n){var e;return n!==n.root&&((e=n.scroll)===null||e===void 0?void 0:e.wasRoot)}const XN=xS({attachResizeListener:(n,e)=>Nu(n,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),lp={current:void 0},CS=xS({measureScroll:n=>({x:n.scrollLeft,y:n.scrollTop}),defaultParent:()=>{if(!lp.current){const n=new XN({});n.mount(window),n.setOptions({layoutScroll:!0}),lp.current=n}return lp.current},resetTransform:(n,e)=>{n.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:n=>window.getComputedStyle(n).position==="fixed"}),WN={pan:{Feature:dN},drag:{Feature:fN,ProjectionNode:CS,MeasureLayout:ES}};function _T(n,e,t){const{props:s}=n;n.animationState&&s.whileHover&&n.animationState.setActive("whileHover",t==="Start");const a="onHover"+t,l=s[a];l&&Je.postRender(()=>l(e,Ku(e)))}class ZN extends Ar{mount(){const{current:e}=this.node;e&&(this.unmount=o2(e,(t,s)=>(_T(this.node,s,"Start"),a=>_T(this.node,a,"End"))))}unmount(){}}class JN extends Ar{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Gu(Nu(this.node.current,"focus",()=>this.onFocus()),Nu(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function ET(n,e,t){const{props:s}=n;if(n.current instanceof HTMLButtonElement&&n.current.disabled)return;n.animationState&&s.whileTap&&n.animationState.setActive("whileTap",t==="Start");const a="onTap"+(t==="End"?"":t),l=s[a];l&&Je.postRender(()=>l(e,Ku(e)))}class eV extends Ar{mount(){const{current:e}=this.node;e&&(this.unmount=h2(e,(t,s)=>(ET(this.node,s,"Start"),(a,{success:l})=>ET(this.node,a,l?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const zp=new WeakMap,up=new WeakMap,tV=n=>{const e=zp.get(n.target);e&&e(n)},nV=n=>{n.forEach(tV)};function iV({root:n,...e}){const t=n||document;up.has(t)||up.set(t,{});const s=up.get(t),a=JSON.stringify(e);return s[a]||(s[a]=new IntersectionObserver(nV,{root:n,...e})),s[a]}function sV(n,e,t){const s=iV(e);return zp.set(n,t),s.observe(n),()=>{zp.delete(n),s.unobserve(n)}}const rV={some:0,all:1};class aV extends Ar{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:t,margin:s,amount:a="some",once:l}=e,c={root:t?t.current:void 0,rootMargin:s,threshold:typeof a=="number"?a:rV[a]},d=m=>{const{isIntersecting:p}=m;if(this.isInView===p||(this.isInView=p,l&&!p&&this.hasEnteredView))return;p&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",p);const{onViewportEnter:v,onViewportLeave:T}=this.node.getProps(),b=p?v:T;b&&b(m)};return sV(this.node.current,c,d)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:t}=this.node;["amount","margin","root"].some(oV(e,t))&&this.startObserver()}unmount(){}}function oV({viewport:n={}},{viewport:e={}}={}){return t=>n[t]!==e[t]}const lV={inView:{Feature:aV},tap:{Feature:eV},focus:{Feature:JN},hover:{Feature:ZN}},uV={layout:{ProjectionNode:CS,MeasureLayout:ES}},Hp={current:null},DS={current:!1};function cV(){if(DS.current=!0,!!Eg)if(window.matchMedia){const n=window.matchMedia("(prefers-reduced-motion)"),e=()=>Hp.current=n.matches;n.addListener(e),e()}else Hp.current=!1}const hV=[...Jw,Jt,_r],fV=n=>hV.find(Zw(n)),dV=new WeakMap;function mV(n,e,t){for(const s in e){const a=e[s],l=t[s];if(nn(a))n.addValue(s,a);else if(nn(l))n.addValue(s,Au(a,{owner:n}));else if(l!==a)if(n.hasValue(s)){const c=n.getValue(s);c.liveStyle===!0?c.jump(a):c.hasAnimated||c.set(a)}else{const c=n.getStaticValue(s);n.addValue(s,Au(c!==void 0?c:a,{owner:n}))}}for(const s in t)e[s]===void 0&&n.removeValue(s);return e}const TT=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class pV{scrapeMotionValuesFromProps(e,t,s){return{}}constructor({parent:e,props:t,presenceContext:s,reducedMotionConfig:a,blockInitialAnimation:l,visualState:c},d={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Yg,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const x=Ti.now();this.renderScheduledAt<x&&(this.renderScheduledAt=x,Je.render(this.render,!1,!0))};const{latestValues:m,renderState:p,onUpdate:v}=c;this.onUpdate=v,this.latestValues=m,this.baseTarget={...m},this.initialValues=t.initial?{...m}:{},this.renderState=p,this.parent=e,this.props=t,this.presenceContext=s,this.depth=e?e.depth+1:0,this.reducedMotionConfig=a,this.options=d,this.blockInitialAnimation=!!l,this.isControllingVariants=Sf(t),this.isVariantNode=pw(t),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:T,...b}=this.scrapeMotionValuesFromProps(t,{},this);for(const x in b){const D=b[x];m[x]!==void 0&&nn(D)&&D.set(m[x],!1)}}mount(e){this.current=e,dV.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((t,s)=>this.bindToMotionValue(s,t)),DS.current||cV(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Hp.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),vr(this.notifyUpdate),vr(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const t=this.features[e];t&&(t.unmount(),t.isMounted=!1)}this.current=null}bindToMotionValue(e,t){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const s=Ta.has(e);s&&this.onBindTransform&&this.onBindTransform();const a=t.on("change",d=>{this.latestValues[e]=d,this.props.onUpdate&&Je.preRender(this.notifyUpdate),s&&this.projection&&(this.projection.isTransformDirty=!0)}),l=t.on("renderRequest",this.scheduleRender);let c;window.MotionCheckAppearSync&&(c=window.MotionCheckAppearSync(this,e,t)),this.valueSubscriptions.set(e,()=>{a(),l(),c&&c(),t.owner&&t.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in No){const t=No[e];if(!t)continue;const{isEnabled:s,Feature:a}=t;if(!this.features[e]&&a&&s(this.props)&&(this.features[e]=new a(this)),this.features[e]){const l=this.features[e];l.isMounted?l.update():(l.mount(),l.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):yt()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,t){this.latestValues[e]=t}update(e,t){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=t;for(let s=0;s<TT.length;s++){const a=TT[s];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const l="on"+a,c=e[l];c&&(this.propEventSubscriptions[a]=this.on(a,c))}this.prevMotionValues=mV(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const t=this.getClosestVariantNode();if(t)return t.variantChildren&&t.variantChildren.add(e),()=>t.variantChildren.delete(e)}addValue(e,t){const s=this.values.get(e);t!==s&&(s&&this.removeValue(e),this.bindToMotionValue(e,t),this.values.set(e,t),this.latestValues[e]=t.get())}removeValue(e){this.values.delete(e);const t=this.valueSubscriptions.get(e);t&&(t(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,t){if(this.props.values&&this.props.values[e])return this.props.values[e];let s=this.values.get(e);return s===void 0&&t!==void 0&&(s=Au(t===null?void 0:t,{owner:this}),this.addValue(e,s)),s}readValue(e,t){var s;let a=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(s=this.getBaseTargetFromProps(this.props,e))!==null&&s!==void 0?s:this.readValueFromInstance(this.current,e,this.options);return a!=null&&(typeof a=="string"&&(Xw(a)||Bw(a))?a=parseFloat(a):!fV(a)&&_r.test(t)&&(a=$w(e,t)),this.setBaseTarget(e,nn(a)?a.get():a)),nn(a)?a.get():a}setBaseTarget(e,t){this.baseTarget[e]=t}getBaseTarget(e){var t;const{initial:s}=this.props;let a;if(typeof s=="string"||typeof s=="object"){const c=zg(this.props,s,(t=this.presenceContext)===null||t===void 0?void 0:t.custom);c&&(a=c[e])}if(s&&a!==void 0)return a;const l=this.getBaseTargetFromProps(this.props,e);return l!==void 0&&!nn(l)?l:this.initialValues[e]!==void 0&&a===void 0?void 0:this.baseTarget[e]}on(e,t){return this.events[e]||(this.events[e]=new Ag),this.events[e].add(t)}notify(e,...t){this.events[e]&&this.events[e].notify(...t)}}class IS extends pV{constructor(){super(...arguments),this.KeyframeResolver=eS}sortInstanceNodePosition(e,t){return e.compareDocumentPosition(t)&2?1:-1}getBaseTargetFromProps(e,t){return e.style?e.style[t]:void 0}removeValueFromRenderState(e,{vars:t,style:s}){delete t[e],delete s[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;nn(e)&&(this.childSubscription=e.on("change",t=>{this.current&&(this.current.textContent=`${t}`)}))}}function gV(n){return window.getComputedStyle(n)}class yV extends IS{constructor(){super(...arguments),this.type="html",this.renderInstance=xw}readValueFromInstance(e,t){if(Ta.has(t))return DD(e,t);{const s=gV(e),a=(Og(t)?s.getPropertyValue(t):s[t])||0;return typeof a=="string"?a.trim():a}}measureInstanceViewportBox(e,{transformPagePoint:t}){return gS(e,t)}build(e,t,s){Lg(e,t,s.transformTemplate)}scrapeMotionValuesFromProps(e,t,s){return Hg(e,t,s)}}class vV extends IS{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=yt,this.updateDimensions=()=>{this.current&&!this.renderState.dimensions&&Aw(this.current,this.renderState)}}getBaseTargetFromProps(e,t){return e[t]}readValueFromInstance(e,t){if(Ta.has(t)){const s=Kw(t);return s&&s.default||0}return t=Rw.has(t)?t:Mg(t),e.getAttribute(t)}scrapeMotionValuesFromProps(e,t,s){return Dw(e,t,s)}onBindTransform(){this.current&&!this.renderState.dimensions&&Je.postRender(this.updateDimensions)}build(e,t,s){Bg(e,t,this.isSVGTag,s.transformTemplate)}renderInstance(e,t,s,a){Cw(e,t,s,a)}mount(e){this.isSVGTag=Fg(e.tagName),super.mount(e)}}const _V=(n,e)=>jg(n)?new vV(e):new yV(e,{allowProjection:n!==V.Fragment}),EV=nD({...zI,...lV,...WN,...uV},_V),Yn=v2(EV),TV=({BASE_PATH:n,user:e})=>{const t={initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0}};return w.jsxs("div",{className:"min-h-[calc(100dvh)] flex justify-between items-center flex-col text-center p-10 relative",children:[w.jsxs("div",{className:"flex justify-center items-center flex-col text-center",children:[w.jsx(Yn.img,{...t,transition:{duration:.5,delay:.2},src:`${n}/images/bismillah.png`,alt:"Bismillah",className:"h-10 mb-5"}),w.jsx(Yn.img,{...t,transition:{duration:.5,delay:.4},src:`${n}/images/salam.png`,alt:"Salam",className:"h-10 mb-7"})]}),w.jsxs(Yn.h1,{...t,transition:{duration:.5,delay:.8},className:"text-2xl mb-14",children:[w.jsx("div",{children:w.jsx(Yn.p,{...t,transition:{duration:.5,delay:.6},className:"text-xs mb-2",children:"DEAR:"})}),e.name.toUpperCase()]}),w.jsxs("div",{className:"flex justify-end items-center flex-col text-center",children:[w.jsx(Yn.p,{...t,transition:{duration:.5,delay:1},className:"text-xs mb-10",children:"WE HOPE THIS MESSAGE FINDS YOU WELL AND HAPPY TODAY, WE HAVE A WONDERFUL NEWS TO SHARE WITH YOU"}),w.jsx(Yn.img,{animate:{y:[0,-10,0],opacity:[1,.6,1]},transition:{duration:2,repeat:1/0,ease:"easeInOut"},src:`${n}/images/scroll.png`,alt:"Scroll",className:"h-5"})]})]})},bV=({BASE_PATH:n,isVisible:e})=>w.jsxs("div",{className:"min-h-[calc(90dvh)] border-2 border-[#FFEFCF] flex justify-between items-center flex-col text-center p-10",children:[w.jsxs("div",{className:"flex flex-col items-center justify-center",children:[w.jsx("img",{src:`${n}/images/rings.png`,alt:"Rings",className:"h-12 mb-5"}),w.jsx("img",{src:`${n}/images/alhamdulillah.png`,alt:"Alhamdulillah",className:"h-10 mb-10"}),w.jsx("p",{className:"text-xs",children:"BY THE GRACE OF ALLAH (SWT), WE"})]}),w.jsxs("div",{className:"flex flex-col items-center justify-center",children:[w.jsx("h1",{className:"text-3xl mb-2",children:"PUTRI"}),w.jsx("h2",{className:"text-3xl mb-2",children:"and"}),w.jsx("h1",{className:"text-3xl",children:"FAHMI"})]}),w.jsxs("div",{className:"bg-[#FFEFCF] text-black shadow-lg rounded-xl flex justify-between items-center flex-col text-center p-4 max-w-md mx-auto",children:[w.jsx("h5",{className:"text-md mb-2 font-bold",children:"ARE MARRIED"}),w.jsxs("h4",{className:"text-xs mb-2",children:["ON FRIDAY, ",w.jsxs("span",{className:"text-2xl",children:["11",w.jsx("sup",{className:"text-xs",children:"th"})]})," APRIL ",w.jsx("span",{className:"text-2xl",children:"2025"})]}),w.jsx("h5",{className:"text-xs",children:"AT KUA CIRACAS, IN DKI JAKARTA, INDONESIA, PLANET EARTH"})]})]}),wV=({isVisible:n})=>w.jsxs("div",{className:"min-h-[calc(90dvh)] justify-center flex-col p-2 flex items-center",children:[w.jsx(Yn.img,{initial:{opacity:0,scale:.8},whileInView:{opacity:1,scale:1},transition:{duration:.5},viewport:{once:!0},src:"/sakinahstory/images/cam.png",alt:"Gallery",className:"h-[150px]"}),w.jsxs(Yn.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.5,delay:.3},viewport:{once:!0},className:"w-full max-w-2xl mx-auto p-4 flex mt-12",children:[w.jsx("div",{className:"border-l-2 border-[#ffefcf59] mr-4"}),w.jsx("h3",{className:"text-xl text-[#FFEFCF] leading-relaxed text-left",children:"Though we chose to celebrate our akad nikah in an intimate and private setting, our hearts are full, and we'd love to share a glimpse of that cherished moment with you. Here are a few photos."})]})]}),SV=({BASE_PATH:n,isVisible:e})=>{const t=["04.jpeg","07.jpeg","09.jpeg","01.jpeg"];return w.jsx("div",{className:"min-h-[calc(90dvh)] border-2 border-[#FFEFCF] justify-center flex-col text-center p-2 flex items-center",children:w.jsx("div",{className:"w-full max-w-4xl mx-auto p-4",children:w.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:t.map((s,a)=>w.jsx(Yn.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.5,delay:a*.2},viewport:{once:!0},className:"aspect-auto overflow-hidden rounded-lg hover:scale-102",children:w.jsx("img",{src:`${n}/images/pictures/${s}`,alt:`Wedding moment ${a+1}`,className:"w-full h-full object-cover"})},a))})})})};function AV({title:n,titleId:e,...t},s){return V.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":e},t),n?V.createElement("title",{id:e},n):null,V.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 19.5 8.25 12l7.5-7.5"}))}const xV=V.forwardRef(AV);function RV({title:n,titleId:e,...t},s){return V.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":e},t),n?V.createElement("title",{id:e},n):null,V.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m8.25 4.5 7.5 7.5-7.5 7.5"}))}const CV=V.forwardRef(RV);function DV({title:n,titleId:e,...t},s){return V.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":e},t),n?V.createElement("title",{id:e},n):null,V.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21.75 6.75v10.5a2.25 2.25 0 0 1-2.25 2.25h-15a2.25 2.25 0 0 1-2.25-2.25V6.75m19.5 0A2.25 2.25 0 0 0 19.5 4.5h-15a2.25 2.25 0 0 0-2.25 2.25m19.5 0v.243a2.25 2.25 0 0 1-1.07 1.916l-7.5 4.615a2.25 2.25 0 0 1-2.36 0L3.32 8.91a2.25 2.25 0 0 1-1.07-1.916V6.75"}))}const IV=V.forwardRef(DV);function NV({title:n,titleId:e,...t},s){return V.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":e},t),n?V.createElement("title",{id:e},n):null,V.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 6a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0ZM4.501 20.118a7.5 7.5 0 0 1 14.998 0A17.933 17.933 0 0 1 12 21.75c-2.676 0-5.216-.584-7.499-1.632Z"}))}const VV=V.forwardRef(NV);var bT={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NS=function(n){const e=[];let t=0;for(let s=0;s<n.length;s++){let a=n.charCodeAt(s);a<128?e[t++]=a:a<2048?(e[t++]=a>>6|192,e[t++]=a&63|128):(a&64512)===55296&&s+1<n.length&&(n.charCodeAt(s+1)&64512)===56320?(a=65536+((a&1023)<<10)+(n.charCodeAt(++s)&1023),e[t++]=a>>18|240,e[t++]=a>>12&63|128,e[t++]=a>>6&63|128,e[t++]=a&63|128):(e[t++]=a>>12|224,e[t++]=a>>6&63|128,e[t++]=a&63|128)}return e},MV=function(n){const e=[];let t=0,s=0;for(;t<n.length;){const a=n[t++];if(a<128)e[s++]=String.fromCharCode(a);else if(a>191&&a<224){const l=n[t++];e[s++]=String.fromCharCode((a&31)<<6|l&63)}else if(a>239&&a<365){const l=n[t++],c=n[t++],d=n[t++],m=((a&7)<<18|(l&63)<<12|(c&63)<<6|d&63)-65536;e[s++]=String.fromCharCode(55296+(m>>10)),e[s++]=String.fromCharCode(56320+(m&1023))}else{const l=n[t++],c=n[t++];e[s++]=String.fromCharCode((a&15)<<12|(l&63)<<6|c&63)}}return e.join("")},VS={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let a=0;a<n.length;a+=3){const l=n[a],c=a+1<n.length,d=c?n[a+1]:0,m=a+2<n.length,p=m?n[a+2]:0,v=l>>2,T=(l&3)<<4|d>>4;let b=(d&15)<<2|p>>6,x=p&63;m||(x=64,c||(b=64)),s.push(t[v],t[T],t[b],t[x])}return s.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(NS(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):MV(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let a=0;a<n.length;){const l=t[n.charAt(a++)],d=a<n.length?t[n.charAt(a)]:0;++a;const p=a<n.length?t[n.charAt(a)]:64;++a;const T=a<n.length?t[n.charAt(a)]:64;if(++a,l==null||d==null||p==null||T==null)throw new OV;const b=l<<2|d>>4;if(s.push(b),p!==64){const x=d<<4&240|p>>2;if(s.push(x),T!==64){const D=p<<6&192|T;s.push(D)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class OV extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const PV=function(n){const e=NS(n);return VS.encodeByteArray(e,!0)},tf=function(n){return PV(n).replace(/\./g,"")},MS=function(n){try{return VS.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kV(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LV=()=>kV().__FIREBASE_DEFAULTS__,UV=()=>{if(typeof process>"u"||typeof bT>"u")return;const n=bT.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},jV=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&MS(n[1]);return e&&JSON.parse(e)},xf=()=>{try{return LV()||UV()||jV()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},OS=n=>{var e,t;return(t=(e=xf())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},BV=n=>{const e=OS(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),s]:[e.substring(0,t),s]},PS=()=>{var n;return(n=xf())===null||n===void 0?void 0:n.config},kS=n=>{var e;return(e=xf())===null||e===void 0?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FV{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,s)=>{t?this.reject(t):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,s))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zV(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},s=e||"demo-project",a=n.iat||0,l=n.sub||n.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:a,exp:a+3600,auth_time:a,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}}},n);return[tf(JSON.stringify(t)),tf(JSON.stringify(c)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function HV(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(sn())}function qV(){var n;const e=(n=xf())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function GV(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function KV(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function $V(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function YV(){const n=sn();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function QV(){return!qV()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function XV(){try{return typeof indexedDB=="object"}catch{return!1}}function WV(){return new Promise((n,e)=>{try{let t=!0;const s="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(s);a.onsuccess=()=>{a.result.close(),t||self.indexedDB.deleteDatabase(s),n(!0)},a.onupgradeneeded=()=>{t=!1},a.onerror=()=>{var l;e(((l=a.error)===null||l===void 0?void 0:l.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZV="FirebaseError";class _s extends Error{constructor(e,t,s){super(t),this.code=e,this.customData=s,this.name=ZV,Object.setPrototypeOf(this,_s.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,$u.prototype.create)}}class $u{constructor(e,t,s){this.service=e,this.serviceName=t,this.errors=s}create(e,...t){const s=t[0]||{},a=`${this.service}/${e}`,l=this.errors[e],c=l?JV(l,s):"Error",d=`${this.serviceName}: ${c} (${a}).`;return new _s(a,d,s)}}function JV(n,e){return n.replace(eM,(t,s)=>{const a=e[s];return a!=null?String(a):`<${s}?>`})}const eM=/\{\$([^}]+)}/g;function tM(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function nf(n,e){if(n===e)return!0;const t=Object.keys(n),s=Object.keys(e);for(const a of t){if(!s.includes(a))return!1;const l=n[a],c=e[a];if(wT(l)&&wT(c)){if(!nf(l,c))return!1}else if(l!==c)return!1}for(const a of s)if(!t.includes(a))return!1;return!0}function wT(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yu(n){const e=[];for(const[t,s]of Object.entries(n))Array.isArray(s)?s.forEach(a=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(a))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function nM(n,e){const t=new iM(n,e);return t.subscribe.bind(t)}class iM{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,s){let a;if(e===void 0&&t===void 0&&s===void 0)throw new Error("Missing Observer.");sM(e,["next","error","complete"])?a=e:a={next:e,error:t,complete:s},a.next===void 0&&(a.next=cp),a.error===void 0&&(a.error=cp),a.complete===void 0&&(a.complete=cp);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function sM(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function cp(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vn(n){return n&&n._delegate?n._delegate:n}class ga{constructor(e,t,s){this.name=e,this.instanceFactory=t,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ca="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rM{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const s=new FV;if(this.instancesDeferred.set(t,s),this.isInitialized(t)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:t});a&&s.resolve(a)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const s=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),a=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(l){if(a)return null;throw l}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(oM(e))try{this.getOrInitializeService({instanceIdentifier:ca})}catch{}for(const[t,s]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(t);try{const l=this.getOrInitializeService({instanceIdentifier:a});s.resolve(l)}catch{}}}}clearInstance(e=ca){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ca){return this.instances.has(e)}getOptions(e=ca){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:s,options:t});for(const[l,c]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(l);s===d&&c.resolve(a)}return a}onInit(e,t){var s;const a=this.normalizeInstanceIdentifier(t),l=(s=this.onInitCallbacks.get(a))!==null&&s!==void 0?s:new Set;l.add(e),this.onInitCallbacks.set(a,l);const c=this.instances.get(a);return c&&e(c,a),()=>{l.delete(e)}}invokeOnInitCallbacks(e,t){const s=this.onInitCallbacks.get(t);if(s)for(const a of s)try{a(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:aM(e),options:t}),this.instances.set(e,s),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=ca){return this.component?this.component.multipleInstances?e:ca:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function aM(n){return n===ca?void 0:n}function oM(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lM{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new rM(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ve;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Ve||(Ve={}));const uM={debug:Ve.DEBUG,verbose:Ve.VERBOSE,info:Ve.INFO,warn:Ve.WARN,error:Ve.ERROR,silent:Ve.SILENT},cM=Ve.INFO,hM={[Ve.DEBUG]:"log",[Ve.VERBOSE]:"log",[Ve.INFO]:"info",[Ve.WARN]:"warn",[Ve.ERROR]:"error"},fM=(n,e,...t)=>{if(e<n.logLevel)return;const s=new Date().toISOString(),a=hM[e];if(a)console[a](`[${s}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Zg{constructor(e){this.name=e,this._logLevel=cM,this._logHandler=fM,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ve))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?uM[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ve.DEBUG,...e),this._logHandler(this,Ve.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ve.VERBOSE,...e),this._logHandler(this,Ve.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ve.INFO,...e),this._logHandler(this,Ve.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ve.WARN,...e),this._logHandler(this,Ve.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ve.ERROR,...e),this._logHandler(this,Ve.ERROR,...e)}}const dM=(n,e)=>e.some(t=>n instanceof t);let ST,AT;function mM(){return ST||(ST=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function pM(){return AT||(AT=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const LS=new WeakMap,qp=new WeakMap,US=new WeakMap,hp=new WeakMap,Jg=new WeakMap;function gM(n){const e=new Promise((t,s)=>{const a=()=>{n.removeEventListener("success",l),n.removeEventListener("error",c)},l=()=>{t(fr(n.result)),a()},c=()=>{s(n.error),a()};n.addEventListener("success",l),n.addEventListener("error",c)});return e.then(t=>{t instanceof IDBCursor&&LS.set(t,n)}).catch(()=>{}),Jg.set(e,n),e}function yM(n){if(qp.has(n))return;const e=new Promise((t,s)=>{const a=()=>{n.removeEventListener("complete",l),n.removeEventListener("error",c),n.removeEventListener("abort",c)},l=()=>{t(),a()},c=()=>{s(n.error||new DOMException("AbortError","AbortError")),a()};n.addEventListener("complete",l),n.addEventListener("error",c),n.addEventListener("abort",c)});qp.set(n,e)}let Gp={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return qp.get(n);if(e==="objectStoreNames")return n.objectStoreNames||US.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return fr(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function vM(n){Gp=n(Gp)}function _M(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const s=n.call(fp(this),e,...t);return US.set(s,e.sort?e.sort():[e]),fr(s)}:pM().includes(n)?function(...e){return n.apply(fp(this),e),fr(LS.get(this))}:function(...e){return fr(n.apply(fp(this),e))}}function EM(n){return typeof n=="function"?_M(n):(n instanceof IDBTransaction&&yM(n),dM(n,mM())?new Proxy(n,Gp):n)}function fr(n){if(n instanceof IDBRequest)return gM(n);if(hp.has(n))return hp.get(n);const e=EM(n);return e!==n&&(hp.set(n,e),Jg.set(e,n)),e}const fp=n=>Jg.get(n);function TM(n,e,{blocked:t,upgrade:s,blocking:a,terminated:l}={}){const c=indexedDB.open(n,e),d=fr(c);return s&&c.addEventListener("upgradeneeded",m=>{s(fr(c.result),m.oldVersion,m.newVersion,fr(c.transaction),m)}),t&&c.addEventListener("blocked",m=>t(m.oldVersion,m.newVersion,m)),d.then(m=>{l&&m.addEventListener("close",()=>l()),a&&m.addEventListener("versionchange",p=>a(p.oldVersion,p.newVersion,p))}).catch(()=>{}),d}const bM=["get","getKey","getAll","getAllKeys","count"],wM=["put","add","delete","clear"],dp=new Map;function xT(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(dp.get(e))return dp.get(e);const t=e.replace(/FromIndex$/,""),s=e!==t,a=wM.includes(t);if(!(t in(s?IDBIndex:IDBObjectStore).prototype)||!(a||bM.includes(t)))return;const l=async function(c,...d){const m=this.transaction(c,a?"readwrite":"readonly");let p=m.store;return s&&(p=p.index(d.shift())),(await Promise.all([p[t](...d),a&&m.done]))[0]};return dp.set(e,l),l}vM(n=>({...n,get:(e,t,s)=>xT(e,t)||n.get(e,t,s),has:(e,t)=>!!xT(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SM{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(AM(t)){const s=t.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(t=>t).join(" ")}}function AM(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Kp="@firebase/app",RT="0.10.18";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ds=new Zg("@firebase/app"),xM="@firebase/app-compat",RM="@firebase/analytics-compat",CM="@firebase/analytics",DM="@firebase/app-check-compat",IM="@firebase/app-check",NM="@firebase/auth",VM="@firebase/auth-compat",MM="@firebase/database",OM="@firebase/data-connect",PM="@firebase/database-compat",kM="@firebase/functions",LM="@firebase/functions-compat",UM="@firebase/installations",jM="@firebase/installations-compat",BM="@firebase/messaging",FM="@firebase/messaging-compat",zM="@firebase/performance",HM="@firebase/performance-compat",qM="@firebase/remote-config",GM="@firebase/remote-config-compat",KM="@firebase/storage",$M="@firebase/storage-compat",YM="@firebase/firestore",QM="@firebase/vertexai",XM="@firebase/firestore-compat",WM="firebase",ZM="11.2.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $p="[DEFAULT]",JM={[Kp]:"fire-core",[xM]:"fire-core-compat",[CM]:"fire-analytics",[RM]:"fire-analytics-compat",[IM]:"fire-app-check",[DM]:"fire-app-check-compat",[NM]:"fire-auth",[VM]:"fire-auth-compat",[MM]:"fire-rtdb",[OM]:"fire-data-connect",[PM]:"fire-rtdb-compat",[kM]:"fire-fn",[LM]:"fire-fn-compat",[UM]:"fire-iid",[jM]:"fire-iid-compat",[BM]:"fire-fcm",[FM]:"fire-fcm-compat",[zM]:"fire-perf",[HM]:"fire-perf-compat",[qM]:"fire-rc",[GM]:"fire-rc-compat",[KM]:"fire-gcs",[$M]:"fire-gcs-compat",[YM]:"fire-fst",[XM]:"fire-fst-compat",[QM]:"fire-vertex","fire-js":"fire-js",[WM]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sf=new Map,eO=new Map,Yp=new Map;function CT(n,e){try{n.container.addComponent(e)}catch(t){ds.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Mo(n){const e=n.name;if(Yp.has(e))return ds.debug(`There were multiple attempts to register component ${e}.`),!1;Yp.set(e,n);for(const t of sf.values())CT(t,n);for(const t of eO.values())CT(t,n);return!0}function ey(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function cr(n){return n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tO={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},dr=new $u("app","Firebase",tO);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nO{constructor(e,t,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new ga("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw dr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ko=ZM;function jS(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const s=Object.assign({name:$p,automaticDataCollectionEnabled:!1},e),a=s.name;if(typeof a!="string"||!a)throw dr.create("bad-app-name",{appName:String(a)});if(t||(t=PS()),!t)throw dr.create("no-options");const l=sf.get(a);if(l){if(nf(t,l.options)&&nf(s,l.config))return l;throw dr.create("duplicate-app",{appName:a})}const c=new lM(a);for(const m of Yp.values())c.addComponent(m);const d=new nO(t,s,c);return sf.set(a,d),d}function BS(n=$p){const e=sf.get(n);if(!e&&n===$p&&PS())return jS();if(!e)throw dr.create("no-app",{appName:n});return e}function mr(n,e,t){var s;let a=(s=JM[n])!==null&&s!==void 0?s:n;t&&(a+=`-${t}`);const l=a.match(/\s|\//),c=e.match(/\s|\//);if(l||c){const d=[`Unable to register library "${a}" with version "${e}":`];l&&d.push(`library name "${a}" contains illegal characters (whitespace or "/")`),l&&c&&d.push("and"),c&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ds.warn(d.join(" "));return}Mo(new ga(`${a}-version`,()=>({library:a,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iO="firebase-heartbeat-database",sO=1,Vu="firebase-heartbeat-store";let mp=null;function FS(){return mp||(mp=TM(iO,sO,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(Vu)}catch(t){console.warn(t)}}}}).catch(n=>{throw dr.create("idb-open",{originalErrorMessage:n.message})})),mp}async function rO(n){try{const t=(await FS()).transaction(Vu),s=await t.objectStore(Vu).get(zS(n));return await t.done,s}catch(e){if(e instanceof _s)ds.warn(e.message);else{const t=dr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});ds.warn(t.message)}}}async function DT(n,e){try{const s=(await FS()).transaction(Vu,"readwrite");await s.objectStore(Vu).put(e,zS(n)),await s.done}catch(t){if(t instanceof _s)ds.warn(t.message);else{const s=dr.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});ds.warn(s.message)}}}function zS(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aO=1024,oO=30*24*60*60*1e3;class lO{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new cO(t),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,t;try{const a=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),l=IT();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===l||this._heartbeatsCache.heartbeats.some(c=>c.date===l)?void 0:(this._heartbeatsCache.heartbeats.push({date:l,agent:a}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(c=>{const d=new Date(c.date).valueOf();return Date.now()-d<=oO}),this._storage.overwrite(this._heartbeatsCache))}catch(s){ds.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=IT(),{heartbeatsToSend:s,unsentEntries:a}=uO(this._heartbeatsCache.heartbeats),l=tf(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=t,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(t){return ds.warn(t),""}}}function IT(){return new Date().toISOString().substring(0,10)}function uO(n,e=aO){const t=[];let s=n.slice();for(const a of n){const l=t.find(c=>c.agent===a.agent);if(l){if(l.dates.push(a.date),NT(t)>e){l.dates.pop();break}}else if(t.push({agent:a.agent,dates:[a.date]}),NT(t)>e){t.pop();break}s=s.slice(1)}return{heartbeatsToSend:t,unsentEntries:s}}class cO{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return XV()?WV().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await rO(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const a=await this.read();return DT(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:a.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const a=await this.read();return DT(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...e.heartbeats]})}else return}}function NT(n){return tf(JSON.stringify({version:2,heartbeats:n})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hO(n){Mo(new ga("platform-logger",e=>new SM(e),"PRIVATE")),Mo(new ga("heartbeat",e=>new lO(e),"PRIVATE")),mr(Kp,RT,n),mr(Kp,RT,"esm2017"),mr("fire-js","")}hO("");var VT=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var pr,HS;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(O,C){function R(){}R.prototype=C.prototype,O.D=C.prototype,O.prototype=new R,O.prototype.constructor=O,O.C=function(N,U,H){for(var M=Array(arguments.length-2),ot=2;ot<arguments.length;ot++)M[ot-2]=arguments[ot];return C.prototype[U].apply(N,M)}}function t(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,t),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(O,C,R){R||(R=0);var N=Array(16);if(typeof C=="string")for(var U=0;16>U;++U)N[U]=C.charCodeAt(R++)|C.charCodeAt(R++)<<8|C.charCodeAt(R++)<<16|C.charCodeAt(R++)<<24;else for(U=0;16>U;++U)N[U]=C[R++]|C[R++]<<8|C[R++]<<16|C[R++]<<24;C=O.g[0],R=O.g[1],U=O.g[2];var H=O.g[3],M=C+(H^R&(U^H))+N[0]+3614090360&4294967295;C=R+(M<<7&4294967295|M>>>25),M=H+(U^C&(R^U))+N[1]+3905402710&4294967295,H=C+(M<<12&4294967295|M>>>20),M=U+(R^H&(C^R))+N[2]+606105819&4294967295,U=H+(M<<17&4294967295|M>>>15),M=R+(C^U&(H^C))+N[3]+3250441966&4294967295,R=U+(M<<22&4294967295|M>>>10),M=C+(H^R&(U^H))+N[4]+4118548399&4294967295,C=R+(M<<7&4294967295|M>>>25),M=H+(U^C&(R^U))+N[5]+1200080426&4294967295,H=C+(M<<12&4294967295|M>>>20),M=U+(R^H&(C^R))+N[6]+2821735955&4294967295,U=H+(M<<17&4294967295|M>>>15),M=R+(C^U&(H^C))+N[7]+4249261313&4294967295,R=U+(M<<22&4294967295|M>>>10),M=C+(H^R&(U^H))+N[8]+1770035416&4294967295,C=R+(M<<7&4294967295|M>>>25),M=H+(U^C&(R^U))+N[9]+2336552879&4294967295,H=C+(M<<12&4294967295|M>>>20),M=U+(R^H&(C^R))+N[10]+4294925233&4294967295,U=H+(M<<17&4294967295|M>>>15),M=R+(C^U&(H^C))+N[11]+2304563134&4294967295,R=U+(M<<22&4294967295|M>>>10),M=C+(H^R&(U^H))+N[12]+1804603682&4294967295,C=R+(M<<7&4294967295|M>>>25),M=H+(U^C&(R^U))+N[13]+4254626195&4294967295,H=C+(M<<12&4294967295|M>>>20),M=U+(R^H&(C^R))+N[14]+2792965006&4294967295,U=H+(M<<17&4294967295|M>>>15),M=R+(C^U&(H^C))+N[15]+1236535329&4294967295,R=U+(M<<22&4294967295|M>>>10),M=C+(U^H&(R^U))+N[1]+4129170786&4294967295,C=R+(M<<5&4294967295|M>>>27),M=H+(R^U&(C^R))+N[6]+3225465664&4294967295,H=C+(M<<9&4294967295|M>>>23),M=U+(C^R&(H^C))+N[11]+643717713&4294967295,U=H+(M<<14&4294967295|M>>>18),M=R+(H^C&(U^H))+N[0]+3921069994&4294967295,R=U+(M<<20&4294967295|M>>>12),M=C+(U^H&(R^U))+N[5]+3593408605&4294967295,C=R+(M<<5&4294967295|M>>>27),M=H+(R^U&(C^R))+N[10]+38016083&4294967295,H=C+(M<<9&4294967295|M>>>23),M=U+(C^R&(H^C))+N[15]+3634488961&4294967295,U=H+(M<<14&4294967295|M>>>18),M=R+(H^C&(U^H))+N[4]+3889429448&4294967295,R=U+(M<<20&4294967295|M>>>12),M=C+(U^H&(R^U))+N[9]+568446438&4294967295,C=R+(M<<5&4294967295|M>>>27),M=H+(R^U&(C^R))+N[14]+3275163606&4294967295,H=C+(M<<9&4294967295|M>>>23),M=U+(C^R&(H^C))+N[3]+4107603335&4294967295,U=H+(M<<14&4294967295|M>>>18),M=R+(H^C&(U^H))+N[8]+1163531501&4294967295,R=U+(M<<20&4294967295|M>>>12),M=C+(U^H&(R^U))+N[13]+2850285829&4294967295,C=R+(M<<5&4294967295|M>>>27),M=H+(R^U&(C^R))+N[2]+4243563512&4294967295,H=C+(M<<9&4294967295|M>>>23),M=U+(C^R&(H^C))+N[7]+1735328473&4294967295,U=H+(M<<14&4294967295|M>>>18),M=R+(H^C&(U^H))+N[12]+2368359562&4294967295,R=U+(M<<20&4294967295|M>>>12),M=C+(R^U^H)+N[5]+4294588738&4294967295,C=R+(M<<4&4294967295|M>>>28),M=H+(C^R^U)+N[8]+2272392833&4294967295,H=C+(M<<11&4294967295|M>>>21),M=U+(H^C^R)+N[11]+1839030562&4294967295,U=H+(M<<16&4294967295|M>>>16),M=R+(U^H^C)+N[14]+4259657740&4294967295,R=U+(M<<23&4294967295|M>>>9),M=C+(R^U^H)+N[1]+2763975236&4294967295,C=R+(M<<4&4294967295|M>>>28),M=H+(C^R^U)+N[4]+1272893353&4294967295,H=C+(M<<11&4294967295|M>>>21),M=U+(H^C^R)+N[7]+4139469664&4294967295,U=H+(M<<16&4294967295|M>>>16),M=R+(U^H^C)+N[10]+3200236656&4294967295,R=U+(M<<23&4294967295|M>>>9),M=C+(R^U^H)+N[13]+681279174&4294967295,C=R+(M<<4&4294967295|M>>>28),M=H+(C^R^U)+N[0]+3936430074&4294967295,H=C+(M<<11&4294967295|M>>>21),M=U+(H^C^R)+N[3]+3572445317&4294967295,U=H+(M<<16&4294967295|M>>>16),M=R+(U^H^C)+N[6]+76029189&4294967295,R=U+(M<<23&4294967295|M>>>9),M=C+(R^U^H)+N[9]+3654602809&4294967295,C=R+(M<<4&4294967295|M>>>28),M=H+(C^R^U)+N[12]+3873151461&4294967295,H=C+(M<<11&4294967295|M>>>21),M=U+(H^C^R)+N[15]+530742520&4294967295,U=H+(M<<16&4294967295|M>>>16),M=R+(U^H^C)+N[2]+3299628645&4294967295,R=U+(M<<23&4294967295|M>>>9),M=C+(U^(R|~H))+N[0]+4096336452&4294967295,C=R+(M<<6&4294967295|M>>>26),M=H+(R^(C|~U))+N[7]+1126891415&4294967295,H=C+(M<<10&4294967295|M>>>22),M=U+(C^(H|~R))+N[14]+2878612391&4294967295,U=H+(M<<15&4294967295|M>>>17),M=R+(H^(U|~C))+N[5]+4237533241&4294967295,R=U+(M<<21&4294967295|M>>>11),M=C+(U^(R|~H))+N[12]+1700485571&4294967295,C=R+(M<<6&4294967295|M>>>26),M=H+(R^(C|~U))+N[3]+2399980690&4294967295,H=C+(M<<10&4294967295|M>>>22),M=U+(C^(H|~R))+N[10]+4293915773&4294967295,U=H+(M<<15&4294967295|M>>>17),M=R+(H^(U|~C))+N[1]+2240044497&4294967295,R=U+(M<<21&4294967295|M>>>11),M=C+(U^(R|~H))+N[8]+1873313359&4294967295,C=R+(M<<6&4294967295|M>>>26),M=H+(R^(C|~U))+N[15]+4264355552&4294967295,H=C+(M<<10&4294967295|M>>>22),M=U+(C^(H|~R))+N[6]+2734768916&4294967295,U=H+(M<<15&4294967295|M>>>17),M=R+(H^(U|~C))+N[13]+1309151649&4294967295,R=U+(M<<21&4294967295|M>>>11),M=C+(U^(R|~H))+N[4]+4149444226&4294967295,C=R+(M<<6&4294967295|M>>>26),M=H+(R^(C|~U))+N[11]+3174756917&4294967295,H=C+(M<<10&4294967295|M>>>22),M=U+(C^(H|~R))+N[2]+718787259&4294967295,U=H+(M<<15&4294967295|M>>>17),M=R+(H^(U|~C))+N[9]+3951481745&4294967295,O.g[0]=O.g[0]+C&4294967295,O.g[1]=O.g[1]+(U+(M<<21&4294967295|M>>>11))&4294967295,O.g[2]=O.g[2]+U&4294967295,O.g[3]=O.g[3]+H&4294967295}s.prototype.u=function(O,C){C===void 0&&(C=O.length);for(var R=C-this.blockSize,N=this.B,U=this.h,H=0;H<C;){if(U==0)for(;H<=R;)a(this,O,H),H+=this.blockSize;if(typeof O=="string"){for(;H<C;)if(N[U++]=O.charCodeAt(H++),U==this.blockSize){a(this,N),U=0;break}}else for(;H<C;)if(N[U++]=O[H++],U==this.blockSize){a(this,N),U=0;break}}this.h=U,this.o+=C},s.prototype.v=function(){var O=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);O[0]=128;for(var C=1;C<O.length-8;++C)O[C]=0;var R=8*this.o;for(C=O.length-8;C<O.length;++C)O[C]=R&255,R/=256;for(this.u(O),O=Array(16),C=R=0;4>C;++C)for(var N=0;32>N;N+=8)O[R++]=this.g[C]>>>N&255;return O};function l(O,C){var R=d;return Object.prototype.hasOwnProperty.call(R,O)?R[O]:R[O]=C(O)}function c(O,C){this.h=C;for(var R=[],N=!0,U=O.length-1;0<=U;U--){var H=O[U]|0;N&&H==C||(R[U]=H,N=!1)}this.g=R}var d={};function m(O){return-128<=O&&128>O?l(O,function(C){return new c([C|0],0>C?-1:0)}):new c([O|0],0>O?-1:0)}function p(O){if(isNaN(O)||!isFinite(O))return T;if(0>O)return P(p(-O));for(var C=[],R=1,N=0;O>=R;N++)C[N]=O/R|0,R*=4294967296;return new c(C,0)}function v(O,C){if(O.length==0)throw Error("number format error: empty string");if(C=C||10,2>C||36<C)throw Error("radix out of range: "+C);if(O.charAt(0)=="-")return P(v(O.substring(1),C));if(0<=O.indexOf("-"))throw Error('number format error: interior "-" character');for(var R=p(Math.pow(C,8)),N=T,U=0;U<O.length;U+=8){var H=Math.min(8,O.length-U),M=parseInt(O.substring(U,U+H),C);8>H?(H=p(Math.pow(C,H)),N=N.j(H).add(p(M))):(N=N.j(R),N=N.add(p(M)))}return N}var T=m(0),b=m(1),x=m(16777216);n=c.prototype,n.m=function(){if(L(this))return-P(this).m();for(var O=0,C=1,R=0;R<this.g.length;R++){var N=this.i(R);O+=(0<=N?N:4294967296+N)*C,C*=4294967296}return O},n.toString=function(O){if(O=O||10,2>O||36<O)throw Error("radix out of range: "+O);if(D(this))return"0";if(L(this))return"-"+P(this).toString(O);for(var C=p(Math.pow(O,6)),R=this,N="";;){var U=ae(R,C).g;R=B(R,U.j(C));var H=((0<R.g.length?R.g[0]:R.h)>>>0).toString(O);if(R=U,D(R))return H+N;for(;6>H.length;)H="0"+H;N=H+N}},n.i=function(O){return 0>O?0:O<this.g.length?this.g[O]:this.h};function D(O){if(O.h!=0)return!1;for(var C=0;C<O.g.length;C++)if(O.g[C]!=0)return!1;return!0}function L(O){return O.h==-1}n.l=function(O){return O=B(this,O),L(O)?-1:D(O)?0:1};function P(O){for(var C=O.g.length,R=[],N=0;N<C;N++)R[N]=~O.g[N];return new c(R,~O.h).add(b)}n.abs=function(){return L(this)?P(this):this},n.add=function(O){for(var C=Math.max(this.g.length,O.g.length),R=[],N=0,U=0;U<=C;U++){var H=N+(this.i(U)&65535)+(O.i(U)&65535),M=(H>>>16)+(this.i(U)>>>16)+(O.i(U)>>>16);N=M>>>16,H&=65535,M&=65535,R[U]=M<<16|H}return new c(R,R[R.length-1]&-2147483648?-1:0)};function B(O,C){return O.add(P(C))}n.j=function(O){if(D(this)||D(O))return T;if(L(this))return L(O)?P(this).j(P(O)):P(P(this).j(O));if(L(O))return P(this.j(P(O)));if(0>this.l(x)&&0>O.l(x))return p(this.m()*O.m());for(var C=this.g.length+O.g.length,R=[],N=0;N<2*C;N++)R[N]=0;for(N=0;N<this.g.length;N++)for(var U=0;U<O.g.length;U++){var H=this.i(N)>>>16,M=this.i(N)&65535,ot=O.i(U)>>>16,mt=O.i(U)&65535;R[2*N+2*U]+=M*mt,Q(R,2*N+2*U),R[2*N+2*U+1]+=H*mt,Q(R,2*N+2*U+1),R[2*N+2*U+1]+=M*ot,Q(R,2*N+2*U+1),R[2*N+2*U+2]+=H*ot,Q(R,2*N+2*U+2)}for(N=0;N<C;N++)R[N]=R[2*N+1]<<16|R[2*N];for(N=C;N<2*C;N++)R[N]=0;return new c(R,0)};function Q(O,C){for(;(O[C]&65535)!=O[C];)O[C+1]+=O[C]>>>16,O[C]&=65535,C++}function Y(O,C){this.g=O,this.h=C}function ae(O,C){if(D(C))throw Error("division by zero");if(D(O))return new Y(T,T);if(L(O))return C=ae(P(O),C),new Y(P(C.g),P(C.h));if(L(C))return C=ae(O,P(C)),new Y(P(C.g),C.h);if(30<O.g.length){if(L(O)||L(C))throw Error("slowDivide_ only works with positive integers.");for(var R=b,N=C;0>=N.l(O);)R=G(R),N=G(N);var U=se(R,1),H=se(N,1);for(N=se(N,2),R=se(R,2);!D(N);){var M=H.add(N);0>=M.l(O)&&(U=U.add(R),H=M),N=se(N,1),R=se(R,1)}return C=B(O,U.j(C)),new Y(U,C)}for(U=T;0<=O.l(C);){for(R=Math.max(1,Math.floor(O.m()/C.m())),N=Math.ceil(Math.log(R)/Math.LN2),N=48>=N?1:Math.pow(2,N-48),H=p(R),M=H.j(C);L(M)||0<M.l(O);)R-=N,H=p(R),M=H.j(C);D(H)&&(H=b),U=U.add(H),O=B(O,M)}return new Y(U,O)}n.A=function(O){return ae(this,O).h},n.and=function(O){for(var C=Math.max(this.g.length,O.g.length),R=[],N=0;N<C;N++)R[N]=this.i(N)&O.i(N);return new c(R,this.h&O.h)},n.or=function(O){for(var C=Math.max(this.g.length,O.g.length),R=[],N=0;N<C;N++)R[N]=this.i(N)|O.i(N);return new c(R,this.h|O.h)},n.xor=function(O){for(var C=Math.max(this.g.length,O.g.length),R=[],N=0;N<C;N++)R[N]=this.i(N)^O.i(N);return new c(R,this.h^O.h)};function G(O){for(var C=O.g.length+1,R=[],N=0;N<C;N++)R[N]=O.i(N)<<1|O.i(N-1)>>>31;return new c(R,O.h)}function se(O,C){var R=C>>5;C%=32;for(var N=O.g.length-R,U=[],H=0;H<N;H++)U[H]=0<C?O.i(H+R)>>>C|O.i(H+R+1)<<32-C:O.i(H+R);return new c(U,O.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,HS=s,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.A,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=p,c.fromString=v,pr=c}).apply(typeof VT<"u"?VT:typeof self<"u"?self:typeof window<"u"?window:{});var Rh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var qS,hu,GS,Uh,Qp,KS,$S,YS;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(h,y,_){return h==Array.prototype||h==Object.prototype||(h[y]=_.value),h};function t(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof Rh=="object"&&Rh];for(var y=0;y<h.length;++y){var _=h[y];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var s=t(this);function a(h,y){if(y)e:{var _=s;h=h.split(".");for(var A=0;A<h.length-1;A++){var q=h[A];if(!(q in _))break e;_=_[q]}h=h[h.length-1],A=_[h],y=y(A),y!=A&&y!=null&&e(_,h,{configurable:!0,writable:!0,value:y})}}function l(h,y){h instanceof String&&(h+="");var _=0,A=!1,q={next:function(){if(!A&&_<h.length){var X=_++;return{value:y(X,h[X]),done:!1}}return A=!0,{done:!0,value:void 0}}};return q[Symbol.iterator]=function(){return q},q}a("Array.prototype.values",function(h){return h||function(){return l(this,function(y,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var c=c||{},d=this||self;function m(h){var y=typeof h;return y=y!="object"?y:h?Array.isArray(h)?"array":y:"null",y=="array"||y=="object"&&typeof h.length=="number"}function p(h){var y=typeof h;return y=="object"&&h!=null||y=="function"}function v(h,y,_){return h.call.apply(h.bind,arguments)}function T(h,y,_){if(!h)throw Error();if(2<arguments.length){var A=Array.prototype.slice.call(arguments,2);return function(){var q=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(q,A),h.apply(y,q)}}return function(){return h.apply(y,arguments)}}function b(h,y,_){return b=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?v:T,b.apply(null,arguments)}function x(h,y){var _=Array.prototype.slice.call(arguments,1);return function(){var A=_.slice();return A.push.apply(A,arguments),h.apply(this,A)}}function D(h,y){function _(){}_.prototype=y.prototype,h.aa=y.prototype,h.prototype=new _,h.prototype.constructor=h,h.Qb=function(A,q,X){for(var re=Array(arguments.length-2),Le=2;Le<arguments.length;Le++)re[Le-2]=arguments[Le];return y.prototype[q].apply(A,re)}}function L(h){const y=h.length;if(0<y){const _=Array(y);for(let A=0;A<y;A++)_[A]=h[A];return _}return[]}function P(h,y){for(let _=1;_<arguments.length;_++){const A=arguments[_];if(m(A)){const q=h.length||0,X=A.length||0;h.length=q+X;for(let re=0;re<X;re++)h[q+re]=A[re]}else h.push(A)}}class B{constructor(y,_){this.i=y,this.j=_,this.h=0,this.g=null}get(){let y;return 0<this.h?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function Q(h){return/^[\s\xa0]*$/.test(h)}function Y(){var h=d.navigator;return h&&(h=h.userAgent)?h:""}function ae(h){return ae[" "](h),h}ae[" "]=function(){};var G=Y().indexOf("Gecko")!=-1&&!(Y().toLowerCase().indexOf("webkit")!=-1&&Y().indexOf("Edge")==-1)&&!(Y().indexOf("Trident")!=-1||Y().indexOf("MSIE")!=-1)&&Y().indexOf("Edge")==-1;function se(h,y,_){for(const A in h)y.call(_,h[A],A,h)}function O(h,y){for(const _ in h)y.call(void 0,h[_],_,h)}function C(h){const y={};for(const _ in h)y[_]=h[_];return y}const R="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function N(h,y){let _,A;for(let q=1;q<arguments.length;q++){A=arguments[q];for(_ in A)h[_]=A[_];for(let X=0;X<R.length;X++)_=R[X],Object.prototype.hasOwnProperty.call(A,_)&&(h[_]=A[_])}}function U(h){var y=1;h=h.split(":");const _=[];for(;0<y&&h.length;)_.push(h.shift()),y--;return h.length&&_.push(h.join(":")),_}function H(h){d.setTimeout(()=>{throw h},0)}function M(){var h=ke;let y=null;return h.g&&(y=h.g,h.g=h.g.next,h.g||(h.h=null),y.next=null),y}class ot{constructor(){this.h=this.g=null}add(y,_){const A=mt.get();A.set(y,_),this.h?this.h.next=A:this.g=A,this.h=A}}var mt=new B(()=>new oe,h=>h.reset());class oe{constructor(){this.next=this.g=this.h=null}set(y,_){this.h=y,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let he,fe=!1,ke=new ot,k=()=>{const h=d.Promise.resolve(void 0);he=()=>{h.then(ie)}};var ie=()=>{for(var h;h=M();){try{h.h.call(h.g)}catch(_){H(_)}var y=mt;y.j(h),100>y.h&&(y.h++,h.next=y.g,y.g=h)}fe=!1};function pe(){this.s=this.s,this.C=this.C}pe.prototype.s=!1,pe.prototype.ma=function(){this.s||(this.s=!0,this.N())},pe.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function le(h,y){this.type=h,this.g=this.target=y,this.defaultPrevented=!1}le.prototype.h=function(){this.defaultPrevented=!0};var ue=function(){if(!d.addEventListener||!Object.defineProperty)return!1;var h=!1,y=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const _=()=>{};d.addEventListener("test",_,y),d.removeEventListener("test",_,y)}catch{}return h}();function Ce(h,y){if(le.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h){var _=this.type=h.type,A=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;if(this.target=h.target||h.srcElement,this.g=y,y=h.relatedTarget){if(G){e:{try{ae(y.nodeName);var q=!0;break e}catch{}q=!1}q||(y=null)}}else _=="mouseover"?y=h.fromElement:_=="mouseout"&&(y=h.toElement);this.relatedTarget=y,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=typeof h.pointerType=="string"?h.pointerType:xe[h.pointerType]||"",this.state=h.state,this.i=h,h.defaultPrevented&&Ce.aa.h.call(this)}}D(Ce,le);var xe={2:"touch",3:"pen",4:"mouse"};Ce.prototype.h=function(){Ce.aa.h.call(this);var h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var _t="closure_listenable_"+(1e6*Math.random()|0),Fe=0;function lt(h,y,_,A,q){this.listener=h,this.proxy=null,this.src=y,this.type=_,this.capture=!!A,this.ha=q,this.key=++Fe,this.da=this.fa=!1}function $e(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function rn(h){this.src=h,this.g={},this.h=0}rn.prototype.add=function(h,y,_,A,q){var X=h.toString();h=this.g[X],h||(h=this.g[X]=[],this.h++);var re=Dn(h,y,A,q);return-1<re?(y=h[re],_||(y.fa=!1)):(y=new lt(y,this.src,X,!!A,q),y.fa=_,h.push(y)),y};function Vi(h,y){var _=y.type;if(_ in h.g){var A=h.g[_],q=Array.prototype.indexOf.call(A,y,void 0),X;(X=0<=q)&&Array.prototype.splice.call(A,q,1),X&&($e(y),h.g[_].length==0&&(delete h.g[_],h.h--))}}function Dn(h,y,_,A){for(var q=0;q<h.length;++q){var X=h[q];if(!X.da&&X.listener==y&&X.capture==!!_&&X.ha==A)return q}return-1}var Es="closure_lm_"+(1e6*Math.random()|0),Ts={};function Mi(h,y,_,A,q){if(Array.isArray(y)){for(var X=0;X<y.length;X++)Mi(h,y[X],_,A,q);return null}return _=nc(_),h&&h[_t]?h.K(y,_,p(A)?!!A.capture:!1,q):Jo(h,y,_,!1,A,q)}function Jo(h,y,_,A,q,X){if(!y)throw Error("Invalid event type");var re=p(q)?!!q.capture:!!q,Le=el(h);if(Le||(h[Es]=Le=new rn(h)),_=Le.add(y,_,A,re,X),_.proxy)return _;if(A=Sa(),_.proxy=A,A.src=h,A.listener=_,h.addEventListener)ue||(q=re),q===void 0&&(q=!1),h.addEventListener(y.toString(),A,q);else if(h.attachEvent)h.attachEvent(xa(y.toString()),A);else if(h.addListener&&h.removeListener)h.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return _}function Sa(){function h(_){return y.call(h.src,h.listener,_)}const y=Kf;return h}function Aa(h,y,_,A,q){if(Array.isArray(y))for(var X=0;X<y.length;X++)Aa(h,y[X],_,A,q);else A=p(A)?!!A.capture:!!A,_=nc(_),h&&h[_t]?(h=h.i,y=String(y).toString(),y in h.g&&(X=h.g[y],_=Dn(X,_,A,q),-1<_&&($e(X[_]),Array.prototype.splice.call(X,_,1),X.length==0&&(delete h.g[y],h.h--)))):h&&(h=el(h))&&(y=h.g[y.toString()],h=-1,y&&(h=Dn(y,_,A,q)),(_=-1<h?y[h]:null)&&Cr(_))}function Cr(h){if(typeof h!="number"&&h&&!h.da){var y=h.src;if(y&&y[_t])Vi(y.i,h);else{var _=h.type,A=h.proxy;y.removeEventListener?y.removeEventListener(_,A,h.capture):y.detachEvent?y.detachEvent(xa(_),A):y.addListener&&y.removeListener&&y.removeListener(A),(_=el(y))?(Vi(_,h),_.h==0&&(_.src=null,y[Es]=null)):$e(h)}}}function xa(h){return h in Ts?Ts[h]:Ts[h]="on"+h}function Kf(h,y){if(h.da)h=!0;else{y=new Ce(y,this);var _=h.listener,A=h.ha||h.src;h.fa&&Cr(h),h=_.call(A,y)}return h}function el(h){return h=h[Es],h instanceof rn?h:null}var fn="__closure_events_fn_"+(1e9*Math.random()>>>0);function nc(h){return typeof h=="function"?h:(h[fn]||(h[fn]=function(y){return h.handleEvent(y)}),h[fn])}function St(){pe.call(this),this.i=new rn(this),this.M=this,this.F=null}D(St,pe),St.prototype[_t]=!0,St.prototype.removeEventListener=function(h,y,_,A){Aa(this,h,y,_,A)};function Mt(h,y){var _,A=h.F;if(A)for(_=[];A;A=A.F)_.push(A);if(h=h.M,A=y.type||y,typeof y=="string")y=new le(y,h);else if(y instanceof le)y.target=y.target||h;else{var q=y;y=new le(A,h),N(y,q)}if(q=!0,_)for(var X=_.length-1;0<=X;X--){var re=y.g=_[X];q=Oi(re,A,!0,y)&&q}if(re=y.g=h,q=Oi(re,A,!0,y)&&q,q=Oi(re,A,!1,y)&&q,_)for(X=0;X<_.length;X++)re=y.g=_[X],q=Oi(re,A,!1,y)&&q}St.prototype.N=function(){if(St.aa.N.call(this),this.i){var h=this.i,y;for(y in h.g){for(var _=h.g[y],A=0;A<_.length;A++)$e(_[A]);delete h.g[y],h.h--}}this.F=null},St.prototype.K=function(h,y,_,A){return this.i.add(String(h),y,!1,_,A)},St.prototype.L=function(h,y,_,A){return this.i.add(String(h),y,!0,_,A)};function Oi(h,y,_,A){if(y=h.i.g[String(y)],!y)return!0;y=y.concat();for(var q=!0,X=0;X<y.length;++X){var re=y[X];if(re&&!re.da&&re.capture==_){var Le=re.listener,xt=re.ha||re.src;re.fa&&Vi(h.i,re),q=Le.call(xt,A)!==!1&&q}}return q&&!A.defaultPrevented}function ic(h,y,_){if(typeof h=="function")_&&(h=b(h,_));else if(h&&typeof h.handleEvent=="function")h=b(h.handleEvent,h);else throw Error("Invalid listener argument");return 2147483647<Number(y)?-1:d.setTimeout(h,y||0)}function tl(h){h.g=ic(()=>{h.g=null,h.i&&(h.i=!1,tl(h))},h.l);const y=h.h;h.h=null,h.m.apply(null,y)}class $f extends pe{constructor(y,_){super(),this.m=y,this.l=_,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:tl(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Dr(h){pe.call(this),this.h=h,this.g={}}D(Dr,pe);var bs=[];function Qt(h){se(h.g,function(y,_){this.g.hasOwnProperty(_)&&Cr(y)},h),h.g={}}Dr.prototype.N=function(){Dr.aa.N.call(this),Qt(this)},Dr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var nl=d.JSON.stringify,si=d.JSON.parse,an=class{stringify(h){return d.JSON.stringify(h,void 0)}parse(h){return d.JSON.parse(h,void 0)}};function il(){}il.prototype.h=null;function sc(h){return h.h||(h.h=h.i())}function rc(){}var ri={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ws(){le.call(this,"d")}D(ws,le);function Qn(){le.call(this,"c")}D(Qn,le);var In={},Ss=null;function Ra(){return Ss=Ss||new St}In.La="serverreachability";function sl(h){le.call(this,In.La,h)}D(sl,le);function As(h){const y=Ra();Mt(y,new sl(y))}In.STAT_EVENT="statevent";function Ca(h,y){le.call(this,In.STAT_EVENT,h),this.stat=y}D(Ca,le);function pt(h){const y=Ra();Mt(y,new Ca(y,h))}In.Ma="timingevent";function ac(h,y){le.call(this,In.Ma,h),this.size=y}D(ac,le);function xs(h,y){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){h()},y)}function Rs(){this.g=!0}Rs.prototype.xa=function(){this.g=!1};function oc(h,y,_,A,q,X){h.info(function(){if(h.g)if(X)for(var re="",Le=X.split("&"),xt=0;xt<Le.length;xt++){var Ue=Le[xt].split("=");if(1<Ue.length){var kt=Ue[0];Ue=Ue[1];var Rt=kt.split("_");re=2<=Rt.length&&Rt[1]=="type"?re+(kt+"="+Ue+"&"):re+(kt+"=redacted&")}}else re=null;else re=X;return"XMLHTTP REQ ("+A+") [attempt "+q+"]: "+y+`
`+_+`
`+re})}function lc(h,y,_,A,q,X,re){h.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+q+"]: "+y+`
`+_+`
`+X+" "+re})}function Cs(h,y,_,A){h.info(function(){return"XMLHTTP TEXT ("+y+"): "+Ot(h,_)+(A?" "+A:"")})}function ai(h,y){h.info(function(){return"TIMEOUT: "+y})}Rs.prototype.info=function(){};function Ot(h,y){if(!h.g)return y;if(!y)return null;try{var _=JSON.parse(y);if(_){for(h=0;h<_.length;h++)if(Array.isArray(_[h])){var A=_[h];if(!(2>A.length)){var q=A[1];if(Array.isArray(q)&&!(1>q.length)){var X=q[0];if(X!="noop"&&X!="stop"&&X!="close")for(var re=1;re<q.length;re++)q[re]=""}}}}return nl(_)}catch{return y}}var At={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Pi={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Ir;function Da(){}D(Da,il),Da.prototype.g=function(){return new XMLHttpRequest},Da.prototype.i=function(){return{}},Ir=new Da;function oi(h,y,_,A){this.j=h,this.i=y,this.l=_,this.R=A||1,this.U=new Dr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new rl}function rl(){this.i=null,this.g="",this.h=!1}var Ds={},Nr={};function Xn(h,y,_){h.L=1,h.v=Or(ut(y)),h.m=_,h.P=!0,ki(h,null)}function ki(h,y){h.F=Date.now(),tt(h),h.A=ut(h.v);var _=h.A,A=h.R;Array.isArray(A)||(A=[String(A)]),ji(_.i,"t",A),h.C=0,_=h.j.J,h.h=new rl,h.g=bc(h.j,_?y:null,!h.m),0<h.O&&(h.M=new $f(b(h.Y,h,h.g),h.O)),y=h.U,_=h.g,A=h.ca;var q="readystatechange";Array.isArray(q)||(q&&(bs[0]=q.toString()),q=bs);for(var X=0;X<q.length;X++){var re=Mi(_,q[X],A||y.handleEvent,!1,y.h||y);if(!re)break;y.g[re.key]=re}y=h.H?C(h.H):{},h.m?(h.u||(h.u="POST"),y["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.A,h.u,h.m,y)):(h.u="GET",h.g.ea(h.A,h.u,null,y)),As(),oc(h.i,h.u,h.A,h.l,h.R,h.m)}oi.prototype.ca=function(h){h=h.target;const y=this.M;y&&Pn(h)==3?y.j():this.Y(h)},oi.prototype.Y=function(h){try{if(h==this.g)e:{const Rt=Pn(this.g);var y=this.g.Ba();const Hi=this.g.Z();if(!(3>Rt)&&(Rt!=3||this.g&&(this.h.h||this.g.oa()||mc(this.g)))){this.J||Rt!=4||y==7||(y==8||0>=Hi?As(3):As(2)),Ia(this);var _=this.g.Z();this.X=_;t:if(Is(this)){var A=mc(this.g);h="";var q=A.length,X=Pn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){dn(this),_n(this);var re="";break t}this.h.i=new d.TextDecoder}for(y=0;y<q;y++)this.h.h=!0,h+=this.h.i.decode(A[y],{stream:!(X&&y==q-1)});A.length=0,this.h.g+=h,this.C=0,re=this.h.g}else re=this.g.oa();if(this.o=_==200,lc(this.i,this.u,this.A,this.l,this.R,Rt,_),this.o){if(this.T&&!this.K){t:{if(this.g){var Le,xt=this.g;if((Le=xt.g?xt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Q(Le)){var Ue=Le;break t}}Ue=null}if(_=Ue)Cs(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,En(this,_);else{this.o=!1,this.s=3,pt(12),dn(this),_n(this);break e}}if(this.P){_=!0;let Ft;for(;!this.J&&this.C<re.length;)if(Ft=Ns(this,re),Ft==Nr){Rt==4&&(this.s=4,pt(14),_=!1),Cs(this.i,this.l,null,"[Incomplete Response]");break}else if(Ft==Ds){this.s=4,pt(15),Cs(this.i,this.l,re,"[Invalid Chunk]"),_=!1;break}else Cs(this.i,this.l,Ft,null),En(this,Ft);if(Is(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Rt!=4||re.length!=0||this.h.h||(this.s=1,pt(16),_=!1),this.o=this.o&&_,!_)Cs(this.i,this.l,re,"[Invalid Chunked Response]"),dn(this),_n(this);else if(0<re.length&&!this.W){this.W=!0;var kt=this.j;kt.g==this&&kt.ba&&!kt.M&&(kt.j.info("Great, no buffering proxy detected. Bytes received: "+re.length),Fr(kt),kt.M=!0,pt(11))}}else Cs(this.i,this.l,re,null),En(this,re);Rt==4&&dn(this),this.o&&!this.J&&(Rt==4?_c(this.j,this):(this.o=!1,tt(this)))}else Jf(this.g),_==400&&0<re.indexOf("Unknown SID")?(this.s=3,pt(12)):(this.s=0,pt(13)),dn(this),_n(this)}}}catch{}finally{}};function Is(h){return h.g?h.u=="GET"&&h.L!=2&&h.j.Ca:!1}function Ns(h,y){var _=h.C,A=y.indexOf(`
`,_);return A==-1?Nr:(_=Number(y.substring(_,A)),isNaN(_)?Ds:(A+=1,A+_>y.length?Nr:(y=y.slice(A,A+_),h.C=A+_,y)))}oi.prototype.cancel=function(){this.J=!0,dn(this)};function tt(h){h.S=Date.now()+h.I,al(h,h.I)}function al(h,y){if(h.B!=null)throw Error("WatchDog timer not null");h.B=xs(b(h.ba,h),y)}function Ia(h){h.B&&(d.clearTimeout(h.B),h.B=null)}oi.prototype.ba=function(){this.B=null;const h=Date.now();0<=h-this.S?(ai(this.i,this.A),this.L!=2&&(As(),pt(17)),dn(this),this.s=2,_n(this)):al(this,this.S-h)};function _n(h){h.j.G==0||h.J||_c(h.j,h)}function dn(h){Ia(h);var y=h.M;y&&typeof y.ma=="function"&&y.ma(),h.M=null,Qt(h.U),h.g&&(y=h.g,h.g=null,y.abort(),y.ma())}function En(h,y){try{var _=h.j;if(_.G!=0&&(_.g==h||Vs(_.h,h))){if(!h.K&&Vs(_.h,h)&&_.G==3){try{var A=_.Da.g.parse(y)}catch{A=null}if(Array.isArray(A)&&A.length==3){var q=A;if(q[0]==0){e:if(!_.u){if(_.g)if(_.g.F+3e3<h.F)Ba(_),Ua(_);else break e;yl(_),pt(18)}}else _.za=q[1],0<_.za-_.T&&37500>q[2]&&_.F&&_.v==0&&!_.C&&(_.C=xs(b(_.Za,_),6e3));if(1>=uc(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else zi(_,11)}else if((h.K||_.g==h)&&Ba(_),!Q(y))for(q=_.Da.g.parse(y),y=0;y<q.length;y++){let Ue=q[y];if(_.T=Ue[0],Ue=Ue[1],_.G==2)if(Ue[0]=="c"){_.K=Ue[1],_.ia=Ue[2];const kt=Ue[3];kt!=null&&(_.la=kt,_.j.info("VER="+_.la));const Rt=Ue[4];Rt!=null&&(_.Aa=Rt,_.j.info("SVER="+_.Aa));const Hi=Ue[5];Hi!=null&&typeof Hi=="number"&&0<Hi&&(A=1.5*Hi,_.L=A,_.j.info("backChannelRequestTimeoutMs_="+A)),A=_;const Ft=h.g;if(Ft){const mi=Ft.g?Ft.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(mi){var X=A.h;X.g||mi.indexOf("spdy")==-1&&mi.indexOf("quic")==-1&&mi.indexOf("h2")==-1||(X.j=X.l,X.g=new Set,X.h&&(Ms(X,X.h),X.h=null))}if(A.D){const _l=Ft.g?Ft.g.getResponseHeader("X-HTTP-Session-Id"):null;_l&&(A.ya=_l,ze(A.I,A.D,_l))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-h.F,_.j.info("Handshake RTT: "+_.R+"ms")),A=_;var re=h;if(A.qa=Tc(A,A.J?A.ia:null,A.W),re.K){Nn(A.h,re);var Le=re,xt=A.L;xt&&(Le.I=xt),Le.B&&(Ia(Le),tt(Le)),A.g=re}else yc(A);0<_.i.length&&ja(_)}else Ue[0]!="stop"&&Ue[0]!="close"||zi(_,7);else _.G==3&&(Ue[0]=="stop"||Ue[0]=="close"?Ue[0]=="stop"?zi(_,7):pl(_):Ue[0]!="noop"&&_.l&&_.l.ta(Ue),_.v=0)}}As(4)}catch{}}var Yf=class{constructor(h,y){this.g=h,this.map=y}};function ol(h){this.l=h||10,d.PerformanceNavigationTiming?(h=d.performance.getEntriesByType("navigation"),h=0<h.length&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function ll(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function uc(h){return h.h?1:h.g?h.g.size:0}function Vs(h,y){return h.h?h.h==y:h.g?h.g.has(y):!1}function Ms(h,y){h.g?h.g.add(y):h.h=y}function Nn(h,y){h.h&&h.h==y?h.h=null:h.g&&h.g.has(y)&&h.g.delete(y)}ol.prototype.cancel=function(){if(this.i=on(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function on(h){if(h.h!=null)return h.i.concat(h.h.D);if(h.g!=null&&h.g.size!==0){let y=h.i;for(const _ of h.g.values())y=y.concat(_.D);return y}return L(h.i)}function cc(h){if(h.V&&typeof h.V=="function")return h.V();if(typeof Map<"u"&&h instanceof Map||typeof Set<"u"&&h instanceof Set)return Array.from(h.values());if(typeof h=="string")return h.split("");if(m(h)){for(var y=[],_=h.length,A=0;A<_;A++)y.push(h[A]);return y}y=[],_=0;for(A in h)y[_++]=h[A];return y}function Qf(h){if(h.na&&typeof h.na=="function")return h.na();if(!h.V||typeof h.V!="function"){if(typeof Map<"u"&&h instanceof Map)return Array.from(h.keys());if(!(typeof Set<"u"&&h instanceof Set)){if(m(h)||typeof h=="string"){var y=[];h=h.length;for(var _=0;_<h;_++)y.push(_);return y}y=[],_=0;for(const A in h)y[_++]=A;return y}}}function Vr(h,y){if(h.forEach&&typeof h.forEach=="function")h.forEach(y,void 0);else if(m(h)||typeof h=="string")Array.prototype.forEach.call(h,y,void 0);else for(var _=Qf(h),A=cc(h),q=A.length,X=0;X<q;X++)y.call(void 0,A[X],_&&_[X],h)}var ul=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Na(h,y){if(h){h=h.split("&");for(var _=0;_<h.length;_++){var A=h[_].indexOf("="),q=null;if(0<=A){var X=h[_].substring(0,A);q=h[_].substring(A+1)}else X=h[_];y(X,q?decodeURIComponent(q.replace(/\+/g," ")):"")}}}function Li(h){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,h instanceof Li){this.h=h.h,Os(this,h.j),this.o=h.o,this.g=h.g,Mr(this,h.s),this.l=h.l;var y=h.i,_=new li;_.i=y.i,y.g&&(_.g=new Map(y.g),_.h=y.h),Va(this,_),this.m=h.m}else h&&(y=String(h).match(ul))?(this.h=!1,Os(this,y[1]||"",!0),this.o=Ps(y[2]||""),this.g=Ps(y[3]||"",!0),Mr(this,y[4]),this.l=Ps(y[5]||"",!0),Va(this,y[6]||"",!0),this.m=Ps(y[7]||"")):(this.h=!1,this.i=new li(null,this.h))}Li.prototype.toString=function(){var h=[],y=this.j;y&&h.push(Vn(y,cl,!0),":");var _=this.g;return(_||y=="file")&&(h.push("//"),(y=this.o)&&h.push(Vn(y,cl,!0),"@"),h.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&h.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&h.push("/"),h.push(Vn(_,_.charAt(0)=="/"?hl:hc,!0))),(_=this.i.toString())&&h.push("?",_),(_=this.m)&&h.push("#",Vn(_,Zf)),h.join("")};function ut(h){return new Li(h)}function Os(h,y,_){h.j=_?Ps(y,!0):y,h.j&&(h.j=h.j.replace(/:$/,""))}function Mr(h,y){if(y){if(y=Number(y),isNaN(y)||0>y)throw Error("Bad port number "+y);h.s=y}else h.s=null}function Va(h,y,_){y instanceof li?(h.i=y,fl(h.i,h.h)):(_||(y=Vn(y,Wf)),h.i=new li(y,h.h))}function ze(h,y,_){h.i.set(y,_)}function Or(h){return ze(h,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),h}function Ps(h,y){return h?y?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function Vn(h,y,_){return typeof h=="string"?(h=encodeURI(h).replace(y,Xf),_&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function Xf(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var cl=/[#\/\?@]/g,hc=/[#\?:]/g,hl=/[#\?]/g,Wf=/[#\?@]/g,Zf=/#/g;function li(h,y){this.h=this.g=null,this.i=h||null,this.j=!!y}function Mn(h){h.g||(h.g=new Map,h.h=0,h.i&&Na(h.i,function(y,_){h.add(decodeURIComponent(y.replace(/\+/g," ")),_)}))}n=li.prototype,n.add=function(h,y){Mn(this),this.i=null,h=Bi(this,h);var _=this.g.get(h);return _||this.g.set(h,_=[]),_.push(y),this.h+=1,this};function Ma(h,y){Mn(h),y=Bi(h,y),h.g.has(y)&&(h.i=null,h.h-=h.g.get(y).length,h.g.delete(y))}function Ui(h,y){return Mn(h),y=Bi(h,y),h.g.has(y)}n.forEach=function(h,y){Mn(this),this.g.forEach(function(_,A){_.forEach(function(q){h.call(y,q,A,this)},this)},this)},n.na=function(){Mn(this);const h=Array.from(this.g.values()),y=Array.from(this.g.keys()),_=[];for(let A=0;A<y.length;A++){const q=h[A];for(let X=0;X<q.length;X++)_.push(y[A])}return _},n.V=function(h){Mn(this);let y=[];if(typeof h=="string")Ui(this,h)&&(y=y.concat(this.g.get(Bi(this,h))));else{h=Array.from(this.g.values());for(let _=0;_<h.length;_++)y=y.concat(h[_])}return y},n.set=function(h,y){return Mn(this),this.i=null,h=Bi(this,h),Ui(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[y]),this.h+=1,this},n.get=function(h,y){return h?(h=this.V(h),0<h.length?String(h[0]):y):y};function ji(h,y,_){Ma(h,y),0<_.length&&(h.i=null,h.g.set(Bi(h,y),L(_)),h.h+=_.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],y=Array.from(this.g.keys());for(var _=0;_<y.length;_++){var A=y[_];const X=encodeURIComponent(String(A)),re=this.V(A);for(A=0;A<re.length;A++){var q=X;re[A]!==""&&(q+="="+encodeURIComponent(String(re[A]))),h.push(q)}}return this.i=h.join("&")};function Bi(h,y){return y=String(y),h.j&&(y=y.toLowerCase()),y}function fl(h,y){y&&!h.j&&(Mn(h),h.i=null,h.g.forEach(function(_,A){var q=A.toLowerCase();A!=q&&(Ma(this,A),ji(this,q,_))},h)),h.j=y}function fc(h,y){const _=new Rs;if(d.Image){const A=new Image;A.onload=x(On,_,"TestLoadImage: loaded",!0,y,A),A.onerror=x(On,_,"TestLoadImage: error",!1,y,A),A.onabort=x(On,_,"TestLoadImage: abort",!1,y,A),A.ontimeout=x(On,_,"TestLoadImage: timeout",!1,y,A),d.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=h}else y(!1)}function Pr(h,y){const _=new Rs,A=new AbortController,q=setTimeout(()=>{A.abort(),On(_,"TestPingServer: timeout",!1,y)},1e4);fetch(h,{signal:A.signal}).then(X=>{clearTimeout(q),X.ok?On(_,"TestPingServer: ok",!0,y):On(_,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(q),On(_,"TestPingServer: error",!1,y)})}function On(h,y,_,A,q){try{q&&(q.onload=null,q.onerror=null,q.onabort=null,q.ontimeout=null),A(_)}catch{}}function kr(){this.g=new an}function ui(h,y,_){const A=_||"";try{Vr(h,function(q,X){let re=q;p(q)&&(re=nl(q)),y.push(A+X+"="+encodeURIComponent(re))})}catch(q){throw y.push(A+"type="+encodeURIComponent("_badmap")),q}}function ks(h){this.l=h.Ub||null,this.j=h.eb||!1}D(ks,il),ks.prototype.g=function(){return new Fi(this.l,this.j)},ks.prototype.i=function(h){return function(){return h}}({});function Fi(h,y){St.call(this),this.D=h,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}D(Fi,St),n=Fi.prototype,n.open=function(h,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=h,this.A=y,this.readyState=1,hi(this)},n.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const y={headers:this.u,method:this.B,credentials:this.m,cache:void 0};h&&(y.body=h),(this.D||d).fetch(new Request(this.A,y)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ci(this)),this.readyState=0},n.Sa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,hi(this)),this.g&&(this.readyState=3,hi(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;dl(this)}else h.text().then(this.Ra.bind(this),this.ga.bind(this))};function dl(h){h.j.read().then(h.Pa.bind(h)).catch(h.ga.bind(h))}n.Pa=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var y=h.value?h.value:new Uint8Array(0);(y=this.v.decode(y,{stream:!h.done}))&&(this.response=this.responseText+=y)}h.done?ci(this):hi(this),this.readyState==3&&dl(this)}},n.Ra=function(h){this.g&&(this.response=this.responseText=h,ci(this))},n.Qa=function(h){this.g&&(this.response=h,ci(this))},n.ga=function(){this.g&&ci(this)};function ci(h){h.readyState=4,h.l=null,h.j=null,h.v=null,hi(h)}n.setRequestHeader=function(h,y){this.u.append(h,y)},n.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],y=this.h.entries();for(var _=y.next();!_.done;)_=_.value,h.push(_[0]+": "+_[1]),_=y.next();return h.join(`\r
`)};function hi(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(Fi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function ml(h){let y="";return se(h,function(_,A){y+=A,y+=":",y+=_,y+=`\r
`}),y}function Pt(h,y,_){e:{for(A in _){var A=!1;break e}A=!0}A||(_=ml(_),typeof h=="string"?_!=null&&encodeURIComponent(String(_)):ze(h,y,_))}function Ge(h){St.call(this),this.headers=new Map,this.o=h||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}D(Ge,St);var Oa=/^https?$/i,Lr=["POST","PUT"];n=Ge.prototype,n.Ha=function(h){this.J=h},n.ea=function(h,y,_,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);y=y?y.toUpperCase():"GET",this.D=h,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Ir.g(),this.v=this.o?sc(this.o):sc(Ir),this.g.onreadystatechange=b(this.Ea,this);try{this.B=!0,this.g.open(y,String(h),!0),this.B=!1}catch(X){dc(this,X);return}if(h=_||"",_=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var q in A)_.set(q,A[q]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const X of A.keys())_.set(X,A.get(X));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(_.keys()).find(X=>X.toLowerCase()=="content-type"),q=d.FormData&&h instanceof d.FormData,!(0<=Array.prototype.indexOf.call(Lr,y,void 0))||A||q||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[X,re]of _)this.g.setRequestHeader(X,re);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Ur(this),this.u=!0,this.g.send(h),this.u=!1}catch(X){dc(this,X)}};function dc(h,y){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=y,h.m=5,Pa(h),fi(h)}function Pa(h){h.A||(h.A=!0,Mt(h,"complete"),Mt(h,"error"))}n.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=h||7,Mt(this,"complete"),Mt(this,"abort"),fi(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),fi(this,!0)),Ge.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?ka(this):this.bb())},n.bb=function(){ka(this)};function ka(h){if(h.h&&typeof c<"u"&&(!h.v[1]||Pn(h)!=4||h.Z()!=2)){if(h.u&&Pn(h)==4)ic(h.Ea,0,h);else if(Mt(h,"readystatechange"),Pn(h)==4){h.h=!1;try{const re=h.Z();e:switch(re){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var _;if(!(_=y)){var A;if(A=re===0){var q=String(h.D).match(ul)[1]||null;!q&&d.self&&d.self.location&&(q=d.self.location.protocol.slice(0,-1)),A=!Oa.test(q?q.toLowerCase():"")}_=A}if(_)Mt(h,"complete"),Mt(h,"success");else{h.m=6;try{var X=2<Pn(h)?h.g.statusText:""}catch{X=""}h.l=X+" ["+h.Z()+"]",Pa(h)}}finally{fi(h)}}}}function fi(h,y){if(h.g){Ur(h);const _=h.g,A=h.v[0]?()=>{}:null;h.g=null,h.v=null,y||Mt(h,"ready");try{_.onreadystatechange=A}catch{}}}function Ur(h){h.I&&(d.clearTimeout(h.I),h.I=null)}n.isActive=function(){return!!this.g};function Pn(h){return h.g?h.g.readyState:0}n.Z=function(){try{return 2<Pn(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(h){if(this.g){var y=this.g.responseText;return h&&y.indexOf(h)==0&&(y=y.substring(h.length)),si(y)}};function mc(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.H){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function Jf(h){const y={};h=(h.g&&2<=Pn(h)&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<h.length;A++){if(Q(h[A]))continue;var _=U(h[A]);const q=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const X=y[q]||[];y[q]=X,X.push(_)}O(y,function(A){return A.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function jr(h,y,_){return _&&_.internalChannelParams&&_.internalChannelParams[h]||y}function La(h){this.Aa=0,this.i=[],this.j=new Rs,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=jr("failFast",!1,h),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=jr("baseRetryDelayMs",5e3,h),this.cb=jr("retryDelaySeedMs",1e4,h),this.Wa=jr("forwardChannelMaxRetries",2,h),this.wa=jr("forwardChannelRequestTimeoutMs",2e4,h),this.pa=h&&h.xmlHttpFactory||void 0,this.Xa=h&&h.Tb||void 0,this.Ca=h&&h.useFetchStreams||!1,this.L=void 0,this.J=h&&h.supportsCrossDomainXhr||!1,this.K="",this.h=new ol(h&&h.concurrentRequestLimit),this.Da=new kr,this.P=h&&h.fastHandshake||!1,this.O=h&&h.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=h&&h.Rb||!1,h&&h.xa&&this.j.xa(),h&&h.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&h&&h.detectBufferingProxy||!1,this.ja=void 0,h&&h.longPollingTimeout&&0<h.longPollingTimeout&&(this.ja=h.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=La.prototype,n.la=8,n.G=1,n.connect=function(h,y,_,A){pt(0),this.W=h,this.H=y||{},_&&A!==void 0&&(this.H.OSID=_,this.H.OAID=A),this.F=this.X,this.I=Tc(this,null,this.W),ja(this)};function pl(h){if(pc(h),h.G==3){var y=h.U++,_=ut(h.I);if(ze(_,"SID",h.K),ze(_,"RID",y),ze(_,"TYPE","terminate"),Br(h,_),y=new oi(h,h.j,y),y.L=2,y.v=Or(ut(_)),_=!1,d.navigator&&d.navigator.sendBeacon)try{_=d.navigator.sendBeacon(y.v.toString(),"")}catch{}!_&&d.Image&&(new Image().src=y.v,_=!0),_||(y.g=bc(y.j,null),y.g.ea(y.v)),y.F=Date.now(),tt(y)}Ec(h)}function Ua(h){h.g&&(Fr(h),h.g.cancel(),h.g=null)}function pc(h){Ua(h),h.u&&(d.clearTimeout(h.u),h.u=null),Ba(h),h.h.cancel(),h.s&&(typeof h.s=="number"&&d.clearTimeout(h.s),h.s=null)}function ja(h){if(!ll(h.h)&&!h.s){h.s=!0;var y=h.Ga;he||k(),fe||(he(),fe=!0),ke.add(y,h),h.B=0}}function ed(h,y){return uc(h.h)>=h.h.j-(h.s?1:0)?!1:h.s?(h.i=y.D.concat(h.i),!0):h.G==1||h.G==2||h.B>=(h.Va?0:h.Wa)?!1:(h.s=xs(b(h.Ga,h,y),vl(h,h.B)),h.B++,!0)}n.Ga=function(h){if(this.s)if(this.s=null,this.G==1){if(!h){this.U=Math.floor(1e5*Math.random()),h=this.U++;const q=new oi(this,this.j,h);let X=this.o;if(this.S&&(X?(X=C(X),N(X,this.S)):X=this.S),this.m!==null||this.O||(q.H=X,X=null),this.P)e:{for(var y=0,_=0;_<this.i.length;_++){t:{var A=this.i[_];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break t}A=void 0}if(A===void 0)break;if(y+=A,4096<y){y=_;break e}if(y===4096||_===this.i.length-1){y=_+1;break e}}y=1e3}else y=1e3;y=gc(this,q,y),_=ut(this.I),ze(_,"RID",h),ze(_,"CVER",22),this.D&&ze(_,"X-HTTP-Session-Id",this.D),Br(this,_),X&&(this.O?y="headers="+encodeURIComponent(String(ml(X)))+"&"+y:this.m&&Pt(_,this.m,X)),Ms(this.h,q),this.Ua&&ze(_,"TYPE","init"),this.P?(ze(_,"$req",y),ze(_,"SID","null"),q.T=!0,Xn(q,_,null)):Xn(q,_,y),this.G=2}}else this.G==3&&(h?gl(this,h):this.i.length==0||ll(this.h)||gl(this))};function gl(h,y){var _;y?_=y.l:_=h.U++;const A=ut(h.I);ze(A,"SID",h.K),ze(A,"RID",_),ze(A,"AID",h.T),Br(h,A),h.m&&h.o&&Pt(A,h.m,h.o),_=new oi(h,h.j,_,h.B+1),h.m===null&&(_.H=h.o),y&&(h.i=y.D.concat(h.i)),y=gc(h,_,1e3),_.I=Math.round(.5*h.wa)+Math.round(.5*h.wa*Math.random()),Ms(h.h,_),Xn(_,A,y)}function Br(h,y){h.H&&se(h.H,function(_,A){ze(y,A,_)}),h.l&&Vr({},function(_,A){ze(y,A,_)})}function gc(h,y,_){_=Math.min(h.i.length,_);var A=h.l?b(h.l.Na,h.l,h):null;e:{var q=h.i;let X=-1;for(;;){const re=["count="+_];X==-1?0<_?(X=q[0].g,re.push("ofs="+X)):X=0:re.push("ofs="+X);let Le=!0;for(let xt=0;xt<_;xt++){let Ue=q[xt].g;const kt=q[xt].map;if(Ue-=X,0>Ue)X=Math.max(0,q[xt].g-100),Le=!1;else try{ui(kt,re,"req"+Ue+"_")}catch{A&&A(kt)}}if(Le){A=re.join("&");break e}}}return h=h.i.splice(0,_),y.D=h,A}function yc(h){if(!h.g&&!h.u){h.Y=1;var y=h.Fa;he||k(),fe||(he(),fe=!0),ke.add(y,h),h.v=0}}function yl(h){return h.g||h.u||3<=h.v?!1:(h.Y++,h.u=xs(b(h.Fa,h),vl(h,h.v)),h.v++,!0)}n.Fa=function(){if(this.u=null,vc(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var h=2*this.R;this.j.info("BP detection timer enabled: "+h),this.A=xs(b(this.ab,this),h)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,pt(10),Ua(this),vc(this))};function Fr(h){h.A!=null&&(d.clearTimeout(h.A),h.A=null)}function vc(h){h.g=new oi(h,h.j,"rpc",h.Y),h.m===null&&(h.g.H=h.o),h.g.O=0;var y=ut(h.qa);ze(y,"RID","rpc"),ze(y,"SID",h.K),ze(y,"AID",h.T),ze(y,"CI",h.F?"0":"1"),!h.F&&h.ja&&ze(y,"TO",h.ja),ze(y,"TYPE","xmlhttp"),Br(h,y),h.m&&h.o&&Pt(y,h.m,h.o),h.L&&(h.g.I=h.L);var _=h.g;h=h.ia,_.L=1,_.v=Or(ut(y)),_.m=null,_.P=!0,ki(_,h)}n.Za=function(){this.C!=null&&(this.C=null,Ua(this),yl(this),pt(19))};function Ba(h){h.C!=null&&(d.clearTimeout(h.C),h.C=null)}function _c(h,y){var _=null;if(h.g==y){Ba(h),Fr(h),h.g=null;var A=2}else if(Vs(h.h,y))_=y.D,Nn(h.h,y),A=1;else return;if(h.G!=0){if(y.o)if(A==1){_=y.m?y.m.length:0,y=Date.now()-y.F;var q=h.B;A=Ra(),Mt(A,new ac(A,_)),ja(h)}else yc(h);else if(q=y.s,q==3||q==0&&0<y.X||!(A==1&&ed(h,y)||A==2&&yl(h)))switch(_&&0<_.length&&(y=h.h,y.i=y.i.concat(_)),q){case 1:zi(h,5);break;case 4:zi(h,10);break;case 3:zi(h,6);break;default:zi(h,2)}}}function vl(h,y){let _=h.Ta+Math.floor(Math.random()*h.cb);return h.isActive()||(_*=2),_*y}function zi(h,y){if(h.j.info("Error code "+y),y==2){var _=b(h.fb,h),A=h.Xa;const q=!A;A=new Li(A||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Os(A,"https"),Or(A),q?fc(A.toString(),_):Pr(A.toString(),_)}else pt(2);h.G=0,h.l&&h.l.sa(y),Ec(h),pc(h)}n.fb=function(h){h?(this.j.info("Successfully pinged google.com"),pt(2)):(this.j.info("Failed to ping google.com"),pt(1))};function Ec(h){if(h.G=0,h.ka=[],h.l){const y=on(h.h);(y.length!=0||h.i.length!=0)&&(P(h.ka,y),P(h.ka,h.i),h.h.i.length=0,L(h.i),h.i.length=0),h.l.ra()}}function Tc(h,y,_){var A=_ instanceof Li?ut(_):new Li(_);if(A.g!="")y&&(A.g=y+"."+A.g),Mr(A,A.s);else{var q=d.location;A=q.protocol,y=y?y+"."+q.hostname:q.hostname,q=+q.port;var X=new Li(null);A&&Os(X,A),y&&(X.g=y),q&&Mr(X,q),_&&(X.l=_),A=X}return _=h.D,y=h.ya,_&&y&&ze(A,_,y),ze(A,"VER",h.la),Br(h,A),A}function bc(h,y,_){if(y&&!h.J)throw Error("Can't create secondary domain capable XhrIo object.");return y=h.Ca&&!h.pa?new Ge(new ks({eb:_})):new Ge(h.pa),y.Ha(h.J),y}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function wc(){}n=wc.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function Fa(){}Fa.prototype.g=function(h,y){return new ln(h,y)};function ln(h,y){St.call(this),this.g=new La(y),this.l=h,this.h=y&&y.messageUrlParams||null,h=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(h?h["X-WebChannel-Content-Type"]=y.messageContentType:h={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.va&&(h?h["X-WebChannel-Client-Profile"]=y.va:h={"X-WebChannel-Client-Profile":y.va}),this.g.S=h,(h=y&&y.Sb)&&!Q(h)&&(this.g.m=h),this.v=y&&y.supportsCrossDomainXhr||!1,this.u=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!Q(y)&&(this.g.D=y,h=this.h,h!==null&&y in h&&(h=this.h,y in h&&delete h[y])),this.j=new di(this)}D(ln,St),ln.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},ln.prototype.close=function(){pl(this.g)},ln.prototype.o=function(h){var y=this.g;if(typeof h=="string"){var _={};_.__data__=h,h=_}else this.u&&(_={},_.__data__=nl(h),h=_);y.i.push(new Yf(y.Ya++,h)),y.G==3&&ja(y)},ln.prototype.N=function(){this.g.l=null,delete this.j,pl(this.g),delete this.g,ln.aa.N.call(this)};function Sc(h){ws.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var y=h.__sm__;if(y){e:{for(const _ in y){h=_;break e}h=void 0}(this.i=h)&&(h=this.i,y=y!==null&&h in y?y[h]:void 0),this.data=y}else this.data=h}D(Sc,ws);function Ac(){Qn.call(this),this.status=1}D(Ac,Qn);function di(h){this.g=h}D(di,wc),di.prototype.ua=function(){Mt(this.g,"a")},di.prototype.ta=function(h){Mt(this.g,new Sc(h))},di.prototype.sa=function(h){Mt(this.g,new Ac)},di.prototype.ra=function(){Mt(this.g,"b")},Fa.prototype.createWebChannel=Fa.prototype.g,ln.prototype.send=ln.prototype.o,ln.prototype.open=ln.prototype.m,ln.prototype.close=ln.prototype.close,YS=function(){return new Fa},$S=function(){return Ra()},KS=In,Qp={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},At.NO_ERROR=0,At.TIMEOUT=8,At.HTTP_ERROR=6,Uh=At,Pi.COMPLETE="complete",GS=Pi,rc.EventType=ri,ri.OPEN="a",ri.CLOSE="b",ri.ERROR="c",ri.MESSAGE="d",St.prototype.listen=St.prototype.K,hu=rc,Ge.prototype.listenOnce=Ge.prototype.L,Ge.prototype.getLastError=Ge.prototype.Ka,Ge.prototype.getLastErrorCode=Ge.prototype.Ba,Ge.prototype.getStatus=Ge.prototype.Z,Ge.prototype.getResponseJson=Ge.prototype.Oa,Ge.prototype.getResponseText=Ge.prototype.oa,Ge.prototype.send=Ge.prototype.ea,Ge.prototype.setWithCredentials=Ge.prototype.Ha,qS=Ge}).apply(typeof Rh<"u"?Rh:typeof self<"u"?self:typeof window<"u"?window:{});const MT="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class en{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}en.UNAUTHENTICATED=new en(null),en.GOOGLE_CREDENTIALS=new en("google-credentials-uid"),en.FIRST_PARTY=new en("first-party-uid"),en.MOCK_USER=new en("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let $o="11.2.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ya=new Zg("@firebase/firestore");function po(){return ya.logLevel}function ce(n,...e){if(ya.logLevel<=Ve.DEBUG){const t=e.map(ty);ya.debug(`Firestore (${$o}): ${n}`,...t)}}function ms(n,...e){if(ya.logLevel<=Ve.ERROR){const t=e.map(ty);ya.error(`Firestore (${$o}): ${n}`,...t)}}function Oo(n,...e){if(ya.logLevel<=Ve.WARN){const t=e.map(ty);ya.warn(`Firestore (${$o}): ${n}`,...t)}}function ty(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Te(n="Unexpected state"){const e=`FIRESTORE (${$o}) INTERNAL ASSERTION FAILED: `+n;throw ms(e),new Error(e)}function Ke(n,e){n||Te()}function Ae(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ne={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ge extends _s{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hs{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QS{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class fO{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(en.UNAUTHENTICATED))}shutdown(){}}class dO{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class mO{constructor(e){this.t=e,this.currentUser=en.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Ke(this.o===void 0);let s=this.i;const a=m=>this.i!==s?(s=this.i,t(m)):Promise.resolve();let l=new hs;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new hs,e.enqueueRetryable(()=>a(this.currentUser))};const c=()=>{const m=l;e.enqueueRetryable(async()=>{await m.promise,await a(this.currentUser)})},d=m=>{ce("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=m,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit(m=>d(m)),setTimeout(()=>{if(!this.auth){const m=this.t.getImmediate({optional:!0});m?d(m):(ce("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new hs)}},0),c()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(s=>this.i!==e?(ce("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Ke(typeof s.accessToken=="string"),new QS(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ke(e===null||typeof e=="string"),new en(e)}}class pO{constructor(e,t,s){this.l=e,this.h=t,this.P=s,this.type="FirstParty",this.user=en.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class gO{constructor(e,t,s){this.l=e,this.h=t,this.P=s}getToken(){return Promise.resolve(new pO(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(en.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class yO{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class vO{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){Ke(this.o===void 0);const s=l=>{l.error!=null&&ce("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const c=l.token!==this.R;return this.R=l.token,ce("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?t(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable(()=>s(l))};const a=l=>{ce("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(l=>a(l)),setTimeout(()=>{if(!this.appCheck){const l=this.A.getImmediate({optional:!0});l?a(l):ce("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Ke(typeof t.token=="string"),this.R=t.token,new yO(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _O(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let s=0;s<n;s++)t[s]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XS{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let s="";for(;s.length<20;){const a=_O(40);for(let l=0;l<a.length;++l)s.length<20&&a[l]<t&&(s+=e.charAt(a[l]%e.length))}return s}}function Pe(n,e){return n<e?-1:n>e?1:0}function Po(n,e,t){return n.length===e.length&&n.every((s,a)=>t(s,e[a]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nt{static now(){return Nt.fromMillis(Date.now())}static fromDate(e){return Nt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),s=Math.floor(1e6*(e-1e3*t));return new Nt(t,s)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new ge(ne.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new ge(ne.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new ge(ne.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ge(ne.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Pe(this.nanoseconds,e.nanoseconds):Pe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class we{static fromTimestamp(e){return new we(e)}static min(){return new we(new Nt(0,0))}static max(){return new we(new Nt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ei{constructor(e,t,s){t===void 0?t=0:t>e.length&&Te(),s===void 0?s=e.length-t:s>e.length-t&&Te(),this.segments=e,this.offset=t,this.len=s}get length(){return this.len}isEqual(e){return Ei.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Ei?e.forEach(s=>{t.push(s)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,s=this.limit();t<s;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const s=Math.min(e.length,t.length);for(let a=0;a<s;a++){const l=Ei.compareSegments(e.get(a),t.get(a));if(l!==0)return l}return Math.sign(e.length-t.length)}static compareSegments(e,t){const s=Ei.isNumericId(e),a=Ei.isNumericId(t);return s&&!a?-1:!s&&a?1:s&&a?Ei.extractNumericId(e).compare(Ei.extractNumericId(t)):e<t?-1:e>t?1:0}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return pr.fromString(e.substring(4,e.length-2))}}class et extends Ei{construct(e,t,s){return new et(e,t,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const s of e){if(s.indexOf("//")>=0)throw new ge(ne.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);t.push(...s.split("/").filter(a=>a.length>0))}return new et(t)}static emptyPath(){return new et([])}}const EO=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class $t extends Ei{construct(e,t,s){return new $t(e,t,s)}static isValidIdentifier(e){return EO.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),$t.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new $t(["__name__"])}static fromServerFormat(e){const t=[];let s="",a=0;const l=()=>{if(s.length===0)throw new ge(ne.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(s),s=""};let c=!1;for(;a<e.length;){const d=e[a];if(d==="\\"){if(a+1===e.length)throw new ge(ne.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const m=e[a+1];if(m!=="\\"&&m!=="."&&m!=="`")throw new ge(ne.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=m,a+=2}else d==="`"?(c=!c,a++):d!=="."||c?(s+=d,a++):(l(),a++)}if(l(),c)throw new ge(ne.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new $t(t)}static emptyPath(){return new $t([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ve{constructor(e){this.path=e}static fromPath(e){return new ve(et.fromString(e))}static fromName(e){return new ve(et.fromString(e).popFirst(5))}static empty(){return new ve(et.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&et.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return et.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ve(new et(e.slice()))}}function TO(n,e){const t=n.toTimestamp().seconds,s=n.toTimestamp().nanoseconds+1,a=we.fromTimestamp(s===1e9?new Nt(t+1,0):new Nt(t,s));return new Er(a,ve.empty(),e)}function bO(n){return new Er(n.readTime,n.key,-1)}class Er{constructor(e,t,s){this.readTime=e,this.documentKey=t,this.largestBatchId=s}static min(){return new Er(we.min(),ve.empty(),-1)}static max(){return new Er(we.max(),ve.empty(),-1)}}function wO(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=ve.comparator(n.documentKey,e.documentKey),t!==0?t:Pe(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SO="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class AO{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Yo(n){if(n.code!==ne.FAILED_PRECONDITION||n.message!==SO)throw n;ce("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ee{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Te(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new ee((s,a)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(s,a)},this.catchCallback=l=>{this.wrapFailure(t,l).next(s,a)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof ee?t:ee.resolve(t)}catch(t){return ee.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):ee.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):ee.reject(t)}static resolve(e){return new ee((t,s)=>{t(e)})}static reject(e){return new ee((t,s)=>{s(e)})}static waitFor(e){return new ee((t,s)=>{let a=0,l=0,c=!1;e.forEach(d=>{++a,d.next(()=>{++l,c&&l===a&&t()},m=>s(m))}),c=!0,l===a&&t()})}static or(e){let t=ee.resolve(!1);for(const s of e)t=t.next(a=>a?ee.resolve(a):s());return t}static forEach(e,t){const s=[];return e.forEach((a,l)=>{s.push(t.call(this,a,l))}),this.waitFor(s)}static mapArray(e,t){return new ee((s,a)=>{const l=e.length,c=new Array(l);let d=0;for(let m=0;m<l;m++){const p=m;t(e[p]).next(v=>{c[p]=v,++d,d===l&&s(c)},v=>a(v))}})}static doWhile(e,t){return new ee((s,a)=>{const l=()=>{e()===!0?t().next(()=>{l()},a):s()};l()})}}function xO(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Qo(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rf{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=s=>this.ie(s),this.se=s=>t.writeSequenceNumber(s))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}Rf.oe=-1;function Cf(n){return n==null}function rf(n){return n===0&&1/n==-1/0}function RO(n){return typeof n=="number"&&Number.isInteger(n)&&!rf(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CO(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=OT(e)),e=DO(n.get(t),e);return OT(e)}function DO(n,e){let t=e;const s=n.length;for(let a=0;a<s;a++){const l=n.charAt(a);switch(l){case"\0":t+="";break;case"":t+="";break;default:t+=l}}return t}function OT(n){return n+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PT(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function xr(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function WS(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class at{constructor(e,t){this.comparator=e,this.root=t||Kt.EMPTY}insert(e,t){return new at(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Kt.BLACK,null,null))}remove(e){return new at(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Kt.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const s=this.comparator(e,t.key);if(s===0)return t.value;s<0?t=t.left:s>0&&(t=t.right)}return null}indexOf(e){let t=0,s=this.root;for(;!s.isEmpty();){const a=this.comparator(e,s.key);if(a===0)return t+s.left.size;a<0?s=s.left:(t+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,s)=>(e(t,s),!1))}toString(){const e=[];return this.inorderTraversal((t,s)=>(e.push(`${t}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ch(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ch(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ch(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ch(this.root,e,this.comparator,!0)}}class Ch{constructor(e,t,s,a){this.isReverse=a,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=t?s(e.key,t):1,t&&a&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Kt{constructor(e,t,s,a,l){this.key=e,this.value=t,this.color=s??Kt.RED,this.left=a??Kt.EMPTY,this.right=l??Kt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,s,a,l){return new Kt(e??this.key,t??this.value,s??this.color,a??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,s){let a=this;const l=s(e,a.key);return a=l<0?a.copy(null,null,null,a.left.insert(e,t,s),null):l===0?a.copy(null,t,null,null,null):a.copy(null,null,null,null,a.right.insert(e,t,s)),a.fixUp()}removeMin(){if(this.left.isEmpty())return Kt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let s,a=this;if(t(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,t),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),t(e,a.key)===0){if(a.right.isEmpty())return Kt.EMPTY;s=a.right.min(),a=a.copy(s.key,s.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,t))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Kt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Kt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Te();const e=this.left.check();if(e!==this.right.check())throw Te();return e+(this.isRed()?0:1)}}Kt.EMPTY=null,Kt.RED=!0,Kt.BLACK=!1;Kt.EMPTY=new class{constructor(){this.size=0}get key(){throw Te()}get value(){throw Te()}get color(){throw Te()}get left(){throw Te()}get right(){throw Te()}copy(e,t,s,a,l){return this}insert(e,t,s){return new Kt(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vt{constructor(e){this.comparator=e,this.data=new at(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,s)=>(e(t),!1))}forEachInRange(e,t){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const a=s.getNext();if(this.comparator(a.key,e[1])>=0)return;t(a.key)}}forEachWhile(e,t){let s;for(s=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new kT(this.data.getIterator())}getIteratorFrom(e){return new kT(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(s=>{t=t.add(s)}),t}isEqual(e){if(!(e instanceof Vt)||this.size!==e.size)return!1;const t=this.data.getIterator(),s=e.data.getIterator();for(;t.hasNext();){const a=t.getNext().key,l=s.getNext().key;if(this.comparator(a,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Vt(this.comparator);return t.data=e,t}}class kT{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xn{constructor(e){this.fields=e,e.sort($t.comparator)}static empty(){return new xn([])}unionWith(e){let t=new Vt($t.comparator);for(const s of this.fields)t=t.add(s);for(const s of e)t=t.add(s);return new xn(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Po(this.fields,e.fields,(t,s)=>t.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZS extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yt{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(a){try{return atob(a)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new ZS("Invalid base64 string: "+l):l}}(e);return new Yt(t)}static fromUint8Array(e){const t=function(a){let l="";for(let c=0;c<a.length;++c)l+=String.fromCharCode(a[c]);return l}(e);return new Yt(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const s=new Uint8Array(t.length);for(let a=0;a<t.length;a++)s[a]=t.charCodeAt(a);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Pe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Yt.EMPTY_BYTE_STRING=new Yt("");const IO=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Tr(n){if(Ke(!!n),typeof n=="string"){let e=0;const t=IO.exec(n);if(Ke(!!t),t[1]){let a=t[1];a=(a+"000000000").substr(0,9),e=Number(a)}const s=new Date(n);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:vt(n.seconds),nanos:vt(n.nanos)}}function vt(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function br(n){return typeof n=="string"?Yt.fromBase64String(n):Yt.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ny(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="server_timestamp"}function Df(n){const e=n.mapValue.fields.__previous_value__;return ny(e)?Df(e):e}function Mu(n){const e=Tr(n.mapValue.fields.__local_write_time__.timestampValue);return new Nt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NO{constructor(e,t,s,a,l,c,d,m,p){this.databaseId=e,this.appId=t,this.persistenceKey=s,this.host=a,this.ssl=l,this.forceLongPolling=c,this.autoDetectLongPolling=d,this.longPollingOptions=m,this.useFetchStreams=p}}class Ou{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Ou("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Ou&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dh={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function wr(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?ny(n)?4:MO(n)?9007199254740991:VO(n)?10:11:Te()}function Ci(n,e){if(n===e)return!0;const t=wr(n);if(t!==wr(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Mu(n).isEqual(Mu(e));case 3:return function(a,l){if(typeof a.timestampValue=="string"&&typeof l.timestampValue=="string"&&a.timestampValue.length===l.timestampValue.length)return a.timestampValue===l.timestampValue;const c=Tr(a.timestampValue),d=Tr(l.timestampValue);return c.seconds===d.seconds&&c.nanos===d.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(a,l){return br(a.bytesValue).isEqual(br(l.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(a,l){return vt(a.geoPointValue.latitude)===vt(l.geoPointValue.latitude)&&vt(a.geoPointValue.longitude)===vt(l.geoPointValue.longitude)}(n,e);case 2:return function(a,l){if("integerValue"in a&&"integerValue"in l)return vt(a.integerValue)===vt(l.integerValue);if("doubleValue"in a&&"doubleValue"in l){const c=vt(a.doubleValue),d=vt(l.doubleValue);return c===d?rf(c)===rf(d):isNaN(c)&&isNaN(d)}return!1}(n,e);case 9:return Po(n.arrayValue.values||[],e.arrayValue.values||[],Ci);case 10:case 11:return function(a,l){const c=a.mapValue.fields||{},d=l.mapValue.fields||{};if(PT(c)!==PT(d))return!1;for(const m in c)if(c.hasOwnProperty(m)&&(d[m]===void 0||!Ci(c[m],d[m])))return!1;return!0}(n,e);default:return Te()}}function Pu(n,e){return(n.values||[]).find(t=>Ci(t,e))!==void 0}function ko(n,e){if(n===e)return 0;const t=wr(n),s=wr(e);if(t!==s)return Pe(t,s);switch(t){case 0:case 9007199254740991:return 0;case 1:return Pe(n.booleanValue,e.booleanValue);case 2:return function(l,c){const d=vt(l.integerValue||l.doubleValue),m=vt(c.integerValue||c.doubleValue);return d<m?-1:d>m?1:d===m?0:isNaN(d)?isNaN(m)?0:-1:1}(n,e);case 3:return LT(n.timestampValue,e.timestampValue);case 4:return LT(Mu(n),Mu(e));case 5:return Pe(n.stringValue,e.stringValue);case 6:return function(l,c){const d=br(l),m=br(c);return d.compareTo(m)}(n.bytesValue,e.bytesValue);case 7:return function(l,c){const d=l.split("/"),m=c.split("/");for(let p=0;p<d.length&&p<m.length;p++){const v=Pe(d[p],m[p]);if(v!==0)return v}return Pe(d.length,m.length)}(n.referenceValue,e.referenceValue);case 8:return function(l,c){const d=Pe(vt(l.latitude),vt(c.latitude));return d!==0?d:Pe(vt(l.longitude),vt(c.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return UT(n.arrayValue,e.arrayValue);case 10:return function(l,c){var d,m,p,v;const T=l.fields||{},b=c.fields||{},x=(d=T.value)===null||d===void 0?void 0:d.arrayValue,D=(m=b.value)===null||m===void 0?void 0:m.arrayValue,L=Pe(((p=x==null?void 0:x.values)===null||p===void 0?void 0:p.length)||0,((v=D==null?void 0:D.values)===null||v===void 0?void 0:v.length)||0);return L!==0?L:UT(x,D)}(n.mapValue,e.mapValue);case 11:return function(l,c){if(l===Dh.mapValue&&c===Dh.mapValue)return 0;if(l===Dh.mapValue)return 1;if(c===Dh.mapValue)return-1;const d=l.fields||{},m=Object.keys(d),p=c.fields||{},v=Object.keys(p);m.sort(),v.sort();for(let T=0;T<m.length&&T<v.length;++T){const b=Pe(m[T],v[T]);if(b!==0)return b;const x=ko(d[m[T]],p[v[T]]);if(x!==0)return x}return Pe(m.length,v.length)}(n.mapValue,e.mapValue);default:throw Te()}}function LT(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return Pe(n,e);const t=Tr(n),s=Tr(e),a=Pe(t.seconds,s.seconds);return a!==0?a:Pe(t.nanos,s.nanos)}function UT(n,e){const t=n.values||[],s=e.values||[];for(let a=0;a<t.length&&a<s.length;++a){const l=ko(t[a],s[a]);if(l)return l}return Pe(t.length,s.length)}function Lo(n){return Xp(n)}function Xp(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const s=Tr(t);return`time(${s.seconds},${s.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return br(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return ve.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let s="[",a=!0;for(const l of t.values||[])a?a=!1:s+=",",s+=Xp(l);return s+"]"}(n.arrayValue):"mapValue"in n?function(t){const s=Object.keys(t.fields||{}).sort();let a="{",l=!0;for(const c of s)l?l=!1:a+=",",a+=`${c}:${Xp(t.fields[c])}`;return a+"}"}(n.mapValue):Te()}function jh(n){switch(wr(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Df(n);return e?16+jh(e):16;case 5:return 2*n.stringValue.length;case 6:return br(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((a,l)=>a+jh(l),0)}(n.arrayValue);case 10:case 11:return function(s){let a=0;return xr(s.fields,(l,c)=>{a+=l.length+jh(c)}),a}(n.mapValue);default:throw Te()}}function Wp(n){return!!n&&"integerValue"in n}function iy(n){return!!n&&"arrayValue"in n}function jT(n){return!!n&&"nullValue"in n}function BT(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Bh(n){return!!n&&"mapValue"in n}function VO(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="__vector__"}function _u(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return xr(n.mapValue.fields,(t,s)=>e.mapValue.fields[t]=_u(s)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=_u(n.arrayValue.values[t]);return e}return Object.assign({},n)}function MO(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yn{constructor(e){this.value=e}static empty(){return new yn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let s=0;s<e.length-1;++s)if(t=(t.mapValue.fields||{})[e.get(s)],!Bh(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=_u(t)}setAll(e){let t=$t.emptyPath(),s={},a=[];e.forEach((c,d)=>{if(!t.isImmediateParentOf(d)){const m=this.getFieldsMap(t);this.applyChanges(m,s,a),s={},a=[],t=d.popLast()}c?s[d.lastSegment()]=_u(c):a.push(d.lastSegment())});const l=this.getFieldsMap(t);this.applyChanges(l,s,a)}delete(e){const t=this.field(e.popLast());Bh(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Ci(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let s=0;s<e.length;++s){let a=t.mapValue.fields[e.get(s)];Bh(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},t.mapValue.fields[e.get(s)]=a),t=a}return t.mapValue.fields}applyChanges(e,t,s){xr(t,(a,l)=>e[a]=l);for(const a of s)delete e[a]}clone(){return new yn(_u(this.value))}}function JS(n){const e=[];return xr(n.fields,(t,s)=>{const a=new $t([t]);if(Bh(s)){const l=JS(s.mapValue).fields;if(l.length===0)e.push(a);else for(const c of l)e.push(a.child(c))}else e.push(a)}),new xn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tn{constructor(e,t,s,a,l,c,d){this.key=e,this.documentType=t,this.version=s,this.readTime=a,this.createTime=l,this.data=c,this.documentState=d}static newInvalidDocument(e){return new tn(e,0,we.min(),we.min(),we.min(),yn.empty(),0)}static newFoundDocument(e,t,s,a){return new tn(e,1,t,we.min(),s,a,0)}static newNoDocument(e,t){return new tn(e,2,t,we.min(),we.min(),yn.empty(),0)}static newUnknownDocument(e,t){return new tn(e,3,t,we.min(),we.min(),yn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(we.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=yn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=yn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=we.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof tn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new tn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class af{constructor(e,t){this.position=e,this.inclusive=t}}function FT(n,e,t){let s=0;for(let a=0;a<n.position.length;a++){const l=e[a],c=n.position[a];if(l.field.isKeyField()?s=ve.comparator(ve.fromName(c.referenceValue),t.key):s=ko(c,t.data.field(l.field)),l.dir==="desc"&&(s*=-1),s!==0)break}return s}function zT(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Ci(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class of{constructor(e,t="asc"){this.field=e,this.dir=t}}function OO(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eA{}class It extends eA{constructor(e,t,s){super(),this.field=e,this.op=t,this.value=s}static create(e,t,s){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,s):new kO(e,t,s):t==="array-contains"?new jO(e,s):t==="in"?new BO(e,s):t==="not-in"?new FO(e,s):t==="array-contains-any"?new zO(e,s):new It(e,t,s)}static createKeyFieldInFilter(e,t,s){return t==="in"?new LO(e,s):new UO(e,s)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(ko(t,this.value)):t!==null&&wr(this.value)===wr(t)&&this.matchesComparison(ko(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Te()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Di extends eA{constructor(e,t){super(),this.filters=e,this.op=t,this.ae=null}static create(e,t){return new Di(e,t)}matches(e){return tA(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function tA(n){return n.op==="and"}function nA(n){return PO(n)&&tA(n)}function PO(n){for(const e of n.filters)if(e instanceof Di)return!1;return!0}function Zp(n){if(n instanceof It)return n.field.canonicalString()+n.op.toString()+Lo(n.value);if(nA(n))return n.filters.map(e=>Zp(e)).join(",");{const e=n.filters.map(t=>Zp(t)).join(",");return`${n.op}(${e})`}}function iA(n,e){return n instanceof It?function(s,a){return a instanceof It&&s.op===a.op&&s.field.isEqual(a.field)&&Ci(s.value,a.value)}(n,e):n instanceof Di?function(s,a){return a instanceof Di&&s.op===a.op&&s.filters.length===a.filters.length?s.filters.reduce((l,c,d)=>l&&iA(c,a.filters[d]),!0):!1}(n,e):void Te()}function sA(n){return n instanceof It?function(t){return`${t.field.canonicalString()} ${t.op} ${Lo(t.value)}`}(n):n instanceof Di?function(t){return t.op.toString()+" {"+t.getFilters().map(sA).join(" ,")+"}"}(n):"Filter"}class kO extends It{constructor(e,t,s){super(e,t,s),this.key=ve.fromName(s.referenceValue)}matches(e){const t=ve.comparator(e.key,this.key);return this.matchesComparison(t)}}class LO extends It{constructor(e,t){super(e,"in",t),this.keys=rA("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class UO extends It{constructor(e,t){super(e,"not-in",t),this.keys=rA("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function rA(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(s=>ve.fromName(s.referenceValue))}class jO extends It{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return iy(t)&&Pu(t.arrayValue,this.value)}}class BO extends It{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Pu(this.value.arrayValue,t)}}class FO extends It{constructor(e,t){super(e,"not-in",t)}matches(e){if(Pu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&!Pu(this.value.arrayValue,t)}}class zO extends It{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!iy(t)||!t.arrayValue.values)&&t.arrayValue.values.some(s=>Pu(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HO{constructor(e,t=null,s=[],a=[],l=null,c=null,d=null){this.path=e,this.collectionGroup=t,this.orderBy=s,this.filters=a,this.limit=l,this.startAt=c,this.endAt=d,this.ue=null}}function HT(n,e=null,t=[],s=[],a=null,l=null,c=null){return new HO(n,e,t,s,a,l,c)}function sy(n){const e=Ae(n);if(e.ue===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(s=>Zp(s)).join(","),t+="|ob:",t+=e.orderBy.map(s=>function(l){return l.field.canonicalString()+l.dir}(s)).join(","),Cf(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(s=>Lo(s)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(s=>Lo(s)).join(",")),e.ue=t}return e.ue}function ry(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!OO(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!iA(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!zT(n.startAt,e.startAt)&&zT(n.endAt,e.endAt)}function Jp(n){return ve.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class If{constructor(e,t=null,s=[],a=[],l=null,c="F",d=null,m=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=s,this.filters=a,this.limit=l,this.limitType=c,this.startAt=d,this.endAt=m,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function qO(n,e,t,s,a,l,c,d){return new If(n,e,t,s,a,l,c,d)}function ay(n){return new If(n)}function qT(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function GO(n){return n.collectionGroup!==null}function Eu(n){const e=Ae(n);if(e.ce===null){e.ce=[];const t=new Set;for(const l of e.explicitOrderBy)e.ce.push(l),t.add(l.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let d=new Vt($t.comparator);return c.filters.forEach(m=>{m.getFlattenedFilters().forEach(p=>{p.isInequality()&&(d=d.add(p.field))})}),d})(e).forEach(l=>{t.has(l.canonicalString())||l.isKeyField()||e.ce.push(new of(l,s))}),t.has($t.keyField().canonicalString())||e.ce.push(new of($t.keyField(),s))}return e.ce}function wi(n){const e=Ae(n);return e.le||(e.le=KO(e,Eu(n))),e.le}function KO(n,e){if(n.limitType==="F")return HT(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(a=>{const l=a.dir==="desc"?"asc":"desc";return new of(a.field,l)});const t=n.endAt?new af(n.endAt.position,n.endAt.inclusive):null,s=n.startAt?new af(n.startAt.position,n.startAt.inclusive):null;return HT(n.path,n.collectionGroup,e,n.filters,n.limit,t,s)}}function eg(n,e,t){return new If(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Nf(n,e){return ry(wi(n),wi(e))&&n.limitType===e.limitType}function aA(n){return`${sy(wi(n))}|lt:${n.limitType}`}function go(n){return`Query(target=${function(t){let s=t.path.canonicalString();return t.collectionGroup!==null&&(s+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(s+=`, filters: [${t.filters.map(a=>sA(a)).join(", ")}]`),Cf(t.limit)||(s+=", limit: "+t.limit),t.orderBy.length>0&&(s+=`, orderBy: [${t.orderBy.map(a=>function(c){return`${c.field.canonicalString()} (${c.dir})`}(a)).join(", ")}]`),t.startAt&&(s+=", startAt: ",s+=t.startAt.inclusive?"b:":"a:",s+=t.startAt.position.map(a=>Lo(a)).join(",")),t.endAt&&(s+=", endAt: ",s+=t.endAt.inclusive?"a:":"b:",s+=t.endAt.position.map(a=>Lo(a)).join(",")),`Target(${s})`}(wi(n))}; limitType=${n.limitType})`}function Vf(n,e){return e.isFoundDocument()&&function(s,a){const l=a.key.path;return s.collectionGroup!==null?a.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(l):ve.isDocumentKey(s.path)?s.path.isEqual(l):s.path.isImmediateParentOf(l)}(n,e)&&function(s,a){for(const l of Eu(s))if(!l.field.isKeyField()&&a.data.field(l.field)===null)return!1;return!0}(n,e)&&function(s,a){for(const l of s.filters)if(!l.matches(a))return!1;return!0}(n,e)&&function(s,a){return!(s.startAt&&!function(c,d,m){const p=FT(c,d,m);return c.inclusive?p<=0:p<0}(s.startAt,Eu(s),a)||s.endAt&&!function(c,d,m){const p=FT(c,d,m);return c.inclusive?p>=0:p>0}(s.endAt,Eu(s),a))}(n,e)}function $O(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function oA(n){return(e,t)=>{let s=!1;for(const a of Eu(n)){const l=YO(a,e,t);if(l!==0)return l;s=s||a.field.isKeyField()}return 0}}function YO(n,e,t){const s=n.field.isKeyField()?ve.comparator(e.key,t.key):function(l,c,d){const m=c.data.field(l),p=d.data.field(l);return m!==null&&p!==null?ko(m,p):Te()}(n.field,e,t);switch(n.dir){case"asc":return s;case"desc":return-1*s;default:return Te()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ba{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),s=this.inner[t];if(s!==void 0){for(const[a,l]of s)if(this.equalsFn(a,e))return l}}has(e){return this.get(e)!==void 0}set(e,t){const s=this.mapKeyFn(e),a=this.inner[s];if(a===void 0)return this.inner[s]=[[e,t]],void this.innerSize++;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],e))return void(a[l]=[e,t]);a.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),s=this.inner[t];if(s===void 0)return!1;for(let a=0;a<s.length;a++)if(this.equalsFn(s[a][0],e))return s.length===1?delete this.inner[t]:s.splice(a,1),this.innerSize--,!0;return!1}forEach(e){xr(this.inner,(t,s)=>{for(const[a,l]of s)e(a,l)})}isEmpty(){return WS(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QO=new at(ve.comparator);function ps(){return QO}const lA=new at(ve.comparator);function fu(...n){let e=lA;for(const t of n)e=e.insert(t.key,t);return e}function uA(n){let e=lA;return n.forEach((t,s)=>e=e.insert(t,s.overlayedDocument)),e}function da(){return Tu()}function cA(){return Tu()}function Tu(){return new ba(n=>n.toString(),(n,e)=>n.isEqual(e))}const XO=new at(ve.comparator),WO=new Vt(ve.comparator);function Me(...n){let e=WO;for(const t of n)e=e.add(t);return e}const ZO=new Vt(Pe);function JO(){return ZO}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oy(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:rf(e)?"-0":e}}function hA(n){return{integerValue:""+n}}function eP(n,e){return RO(e)?hA(e):oy(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mf{constructor(){this._=void 0}}function tP(n,e,t){return n instanceof lf?function(a,l){const c={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return l&&ny(l)&&(l=Df(l)),l&&(c.fields.__previous_value__=l),{mapValue:c}}(t,e):n instanceof ku?dA(n,e):n instanceof Lu?mA(n,e):function(a,l){const c=fA(a,l),d=GT(c)+GT(a.Pe);return Wp(c)&&Wp(a.Pe)?hA(d):oy(a.serializer,d)}(n,e)}function nP(n,e,t){return n instanceof ku?dA(n,e):n instanceof Lu?mA(n,e):t}function fA(n,e){return n instanceof uf?function(s){return Wp(s)||function(l){return!!l&&"doubleValue"in l}(s)}(e)?e:{integerValue:0}:null}class lf extends Mf{}class ku extends Mf{constructor(e){super(),this.elements=e}}function dA(n,e){const t=pA(e);for(const s of n.elements)t.some(a=>Ci(a,s))||t.push(s);return{arrayValue:{values:t}}}class Lu extends Mf{constructor(e){super(),this.elements=e}}function mA(n,e){let t=pA(e);for(const s of n.elements)t=t.filter(a=>!Ci(a,s));return{arrayValue:{values:t}}}class uf extends Mf{constructor(e,t){super(),this.serializer=e,this.Pe=t}}function GT(n){return vt(n.integerValue||n.doubleValue)}function pA(n){return iy(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function iP(n,e){return n.field.isEqual(e.field)&&function(s,a){return s instanceof ku&&a instanceof ku||s instanceof Lu&&a instanceof Lu?Po(s.elements,a.elements,Ci):s instanceof uf&&a instanceof uf?Ci(s.Pe,a.Pe):s instanceof lf&&a instanceof lf}(n.transform,e.transform)}class sP{constructor(e,t){this.version=e,this.transformResults=t}}class ii{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new ii}static exists(e){return new ii(void 0,e)}static updateTime(e){return new ii(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Fh(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class Of{}function gA(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new ly(n.key,ii.none()):new Qu(n.key,n.data,ii.none());{const t=n.data,s=yn.empty();let a=new Vt($t.comparator);for(let l of e.fields)if(!a.has(l)){let c=t.field(l);c===null&&l.length>1&&(l=l.popLast(),c=t.field(l)),c===null?s.delete(l):s.set(l,c),a=a.add(l)}return new Rr(n.key,s,new xn(a.toArray()),ii.none())}}function rP(n,e,t){n instanceof Qu?function(a,l,c){const d=a.value.clone(),m=$T(a.fieldTransforms,l,c.transformResults);d.setAll(m),l.convertToFoundDocument(c.version,d).setHasCommittedMutations()}(n,e,t):n instanceof Rr?function(a,l,c){if(!Fh(a.precondition,l))return void l.convertToUnknownDocument(c.version);const d=$T(a.fieldTransforms,l,c.transformResults),m=l.data;m.setAll(yA(a)),m.setAll(d),l.convertToFoundDocument(c.version,m).setHasCommittedMutations()}(n,e,t):function(a,l,c){l.convertToNoDocument(c.version).setHasCommittedMutations()}(0,e,t)}function bu(n,e,t,s){return n instanceof Qu?function(l,c,d,m){if(!Fh(l.precondition,c))return d;const p=l.value.clone(),v=YT(l.fieldTransforms,m,c);return p.setAll(v),c.convertToFoundDocument(c.version,p).setHasLocalMutations(),null}(n,e,t,s):n instanceof Rr?function(l,c,d,m){if(!Fh(l.precondition,c))return d;const p=YT(l.fieldTransforms,m,c),v=c.data;return v.setAll(yA(l)),v.setAll(p),c.convertToFoundDocument(c.version,v).setHasLocalMutations(),d===null?null:d.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map(T=>T.field))}(n,e,t,s):function(l,c,d){return Fh(l.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):d}(n,e,t)}function aP(n,e){let t=null;for(const s of n.fieldTransforms){const a=e.data.field(s.field),l=fA(s.transform,a||null);l!=null&&(t===null&&(t=yn.empty()),t.set(s.field,l))}return t||null}function KT(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(s,a){return s===void 0&&a===void 0||!(!s||!a)&&Po(s,a,(l,c)=>iP(l,c))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class Qu extends Of{constructor(e,t,s,a=[]){super(),this.key=e,this.value=t,this.precondition=s,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class Rr extends Of{constructor(e,t,s,a,l=[]){super(),this.key=e,this.data=t,this.fieldMask=s,this.precondition=a,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function yA(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const s=n.data.field(t);e.set(t,s)}}),e}function $T(n,e,t){const s=new Map;Ke(n.length===t.length);for(let a=0;a<t.length;a++){const l=n[a],c=l.transform,d=e.data.field(l.field);s.set(l.field,nP(c,d,t[a]))}return s}function YT(n,e,t){const s=new Map;for(const a of n){const l=a.transform,c=t.data.field(a.field);s.set(a.field,tP(l,c,e))}return s}class ly extends Of{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class oP extends Of{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lP{constructor(e,t,s,a){this.batchId=e,this.localWriteTime=t,this.baseMutations=s,this.mutations=a}applyToRemoteDocument(e,t){const s=t.mutationResults;for(let a=0;a<this.mutations.length;a++){const l=this.mutations[a];l.key.isEqual(e.key)&&rP(l,e,s[a])}}applyToLocalView(e,t){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(t=bu(s,e,t,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(t=bu(s,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const s=cA();return this.mutations.forEach(a=>{const l=e.get(a.key),c=l.overlayedDocument;let d=this.applyToLocalView(c,l.mutatedFields);d=t.has(a.key)?null:d;const m=gA(c,d);m!==null&&s.set(a.key,m),c.isValidDocument()||c.convertToNoDocument(we.min())}),s}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Me())}isEqual(e){return this.batchId===e.batchId&&Po(this.mutations,e.mutations,(t,s)=>KT(t,s))&&Po(this.baseMutations,e.baseMutations,(t,s)=>KT(t,s))}}class uy{constructor(e,t,s,a){this.batch=e,this.commitVersion=t,this.mutationResults=s,this.docVersions=a}static from(e,t,s){Ke(e.mutations.length===s.length);let a=function(){return XO}();const l=e.mutations;for(let c=0;c<l.length;c++)a=a.insert(l[c].key,s[c].version);return new uy(e,t,s,a)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uP{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cP{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var wt,Be;function hP(n){switch(n){default:return Te();case ne.CANCELLED:case ne.UNKNOWN:case ne.DEADLINE_EXCEEDED:case ne.RESOURCE_EXHAUSTED:case ne.INTERNAL:case ne.UNAVAILABLE:case ne.UNAUTHENTICATED:return!1;case ne.INVALID_ARGUMENT:case ne.NOT_FOUND:case ne.ALREADY_EXISTS:case ne.PERMISSION_DENIED:case ne.FAILED_PRECONDITION:case ne.ABORTED:case ne.OUT_OF_RANGE:case ne.UNIMPLEMENTED:case ne.DATA_LOSS:return!0}}function vA(n){if(n===void 0)return ms("GRPC error has no .code"),ne.UNKNOWN;switch(n){case wt.OK:return ne.OK;case wt.CANCELLED:return ne.CANCELLED;case wt.UNKNOWN:return ne.UNKNOWN;case wt.DEADLINE_EXCEEDED:return ne.DEADLINE_EXCEEDED;case wt.RESOURCE_EXHAUSTED:return ne.RESOURCE_EXHAUSTED;case wt.INTERNAL:return ne.INTERNAL;case wt.UNAVAILABLE:return ne.UNAVAILABLE;case wt.UNAUTHENTICATED:return ne.UNAUTHENTICATED;case wt.INVALID_ARGUMENT:return ne.INVALID_ARGUMENT;case wt.NOT_FOUND:return ne.NOT_FOUND;case wt.ALREADY_EXISTS:return ne.ALREADY_EXISTS;case wt.PERMISSION_DENIED:return ne.PERMISSION_DENIED;case wt.FAILED_PRECONDITION:return ne.FAILED_PRECONDITION;case wt.ABORTED:return ne.ABORTED;case wt.OUT_OF_RANGE:return ne.OUT_OF_RANGE;case wt.UNIMPLEMENTED:return ne.UNIMPLEMENTED;case wt.DATA_LOSS:return ne.DATA_LOSS;default:return Te()}}(Be=wt||(wt={}))[Be.OK=0]="OK",Be[Be.CANCELLED=1]="CANCELLED",Be[Be.UNKNOWN=2]="UNKNOWN",Be[Be.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Be[Be.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Be[Be.NOT_FOUND=5]="NOT_FOUND",Be[Be.ALREADY_EXISTS=6]="ALREADY_EXISTS",Be[Be.PERMISSION_DENIED=7]="PERMISSION_DENIED",Be[Be.UNAUTHENTICATED=16]="UNAUTHENTICATED",Be[Be.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Be[Be.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Be[Be.ABORTED=10]="ABORTED",Be[Be.OUT_OF_RANGE=11]="OUT_OF_RANGE",Be[Be.UNIMPLEMENTED=12]="UNIMPLEMENTED",Be[Be.INTERNAL=13]="INTERNAL",Be[Be.UNAVAILABLE=14]="UNAVAILABLE",Be[Be.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fP(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dP=new pr([4294967295,4294967295],0);function QT(n){const e=fP().encode(n),t=new HS;return t.update(e),new Uint8Array(t.digest())}function XT(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),s=e.getUint32(4,!0),a=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new pr([t,s],0),new pr([a,l],0)]}class cy{constructor(e,t,s){if(this.bitmap=e,this.padding=t,this.hashCount=s,t<0||t>=8)throw new du(`Invalid padding: ${t}`);if(s<0)throw new du(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new du(`Invalid hash count: ${s}`);if(e.length===0&&t!==0)throw new du(`Invalid padding when bitmap length is 0: ${t}`);this.Te=8*e.length-t,this.Ie=pr.fromNumber(this.Te)}de(e,t,s){let a=e.add(t.multiply(pr.fromNumber(s)));return a.compare(dP)===1&&(a=new pr([a.getBits(0),a.getBits(1)],0)),a.modulo(this.Ie).toNumber()}Ee(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Te===0)return!1;const t=QT(e),[s,a]=XT(t);for(let l=0;l<this.hashCount;l++){const c=this.de(s,a,l);if(!this.Ee(c))return!1}return!0}static create(e,t,s){const a=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),c=new cy(l,a,t);return s.forEach(d=>c.insert(d)),c}insert(e){if(this.Te===0)return;const t=QT(e),[s,a]=XT(t);for(let l=0;l<this.hashCount;l++){const c=this.de(s,a,l);this.Ae(c)}}Ae(e){const t=Math.floor(e/8),s=e%8;this.bitmap[t]|=1<<s}}class du extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pf{constructor(e,t,s,a,l){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=s,this.documentUpdates=a,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,t,s){const a=new Map;return a.set(e,Xu.createSynthesizedTargetChangeForCurrentChange(e,t,s)),new Pf(we.min(),a,new at(Pe),ps(),Me())}}class Xu{constructor(e,t,s,a,l){this.resumeToken=e,this.current=t,this.addedDocuments=s,this.modifiedDocuments=a,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,t,s){return new Xu(s,t,Me(),Me(),Me())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zh{constructor(e,t,s,a){this.Re=e,this.removedTargetIds=t,this.key=s,this.Ve=a}}class _A{constructor(e,t){this.targetId=e,this.me=t}}class EA{constructor(e,t,s=Yt.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=t,this.resumeToken=s,this.cause=a}}class WT{constructor(){this.fe=0,this.ge=ZT(),this.pe=Yt.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=Me(),t=Me(),s=Me();return this.ge.forEach((a,l)=>{switch(l){case 0:e=e.add(a);break;case 2:t=t.add(a);break;case 1:s=s.add(a);break;default:Te()}}),new Xu(this.pe,this.ye,e,t,s)}Ce(){this.we=!1,this.ge=ZT()}Fe(e,t){this.we=!0,this.ge=this.ge.insert(e,t)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Ke(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class mP{constructor(e){this.Be=e,this.Le=new Map,this.ke=ps(),this.qe=Ih(),this.Qe=Ih(),this.Ke=new at(Pe)}$e(e){for(const t of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.Ue(t,e.Ve):this.We(t,e.key,e.Ve);for(const t of e.removedTargetIds)this.We(t,e.key,e.Ve)}Ge(e){this.forEachTarget(e,t=>{const s=this.ze(t);switch(e.state){case 0:this.je(t)&&s.De(e.resumeToken);break;case 1:s.Oe(),s.Se||s.Ce(),s.De(e.resumeToken);break;case 2:s.Oe(),s.Se||this.removeTarget(t);break;case 3:this.je(t)&&(s.Ne(),s.De(e.resumeToken));break;case 4:this.je(t)&&(this.He(t),s.De(e.resumeToken));break;default:Te()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Le.forEach((s,a)=>{this.je(a)&&t(a)})}Je(e){const t=e.targetId,s=e.me.count,a=this.Ye(t);if(a){const l=a.target;if(Jp(l))if(s===0){const c=new ve(l.path);this.We(t,c,tn.newNoDocument(c,we.min()))}else Ke(s===1);else{const c=this.Ze(t);if(c!==s){const d=this.Xe(e),m=d?this.et(d,e,c):1;if(m!==0){this.He(t);const p=m===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(t,p)}}}}}Xe(e){const t=e.me.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:s="",padding:a=0},hashCount:l=0}=t;let c,d;try{c=br(s).toUint8Array()}catch(m){if(m instanceof ZS)return Oo("Decoding the base64 bloom filter in existence filter failed ("+m.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw m}try{d=new cy(c,a,l)}catch(m){return Oo(m instanceof du?"BloomFilter error: ":"Applying bloom filter failed: ",m),null}return d.Te===0?null:d}et(e,t,s){return t.me.count===s-this.rt(e,t.targetId)?0:2}rt(e,t){const s=this.Be.getRemoteKeysForTarget(t);let a=0;return s.forEach(l=>{const c=this.Be.nt(),d=`projects/${c.projectId}/databases/${c.database}/documents/${l.path.canonicalString()}`;e.mightContain(d)||(this.We(t,l,null),a++)}),a}it(e){const t=new Map;this.Le.forEach((l,c)=>{const d=this.Ye(c);if(d){if(l.current&&Jp(d.target)){const m=new ve(d.target.path);this.st(m).has(c)||this.ot(c,m)||this.We(c,m,tn.newNoDocument(m,e))}l.be&&(t.set(c,l.ve()),l.Ce())}});let s=Me();this.Qe.forEach((l,c)=>{let d=!0;c.forEachWhile(m=>{const p=this.Ye(m);return!p||p.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)}),d&&(s=s.add(l))}),this.ke.forEach((l,c)=>c.setReadTime(e));const a=new Pf(e,t,this.Ke,this.ke,s);return this.ke=ps(),this.qe=Ih(),this.Qe=Ih(),this.Ke=new at(Pe),a}Ue(e,t){if(!this.je(e))return;const s=this.ot(e,t.key)?2:0;this.ze(e).Fe(t.key,s),this.ke=this.ke.insert(t.key,t),this.qe=this.qe.insert(t.key,this.st(t.key).add(e)),this.Qe=this.Qe.insert(t.key,this._t(t.key).add(e))}We(e,t,s){if(!this.je(e))return;const a=this.ze(e);this.ot(e,t)?a.Fe(t,1):a.Me(t),this.Qe=this.Qe.insert(t,this._t(t).delete(e)),this.Qe=this.Qe.insert(t,this._t(t).add(e)),s&&(this.ke=this.ke.insert(t,s))}removeTarget(e){this.Le.delete(e)}Ze(e){const t=this.ze(e).ve();return this.Be.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}xe(e){this.ze(e).xe()}ze(e){let t=this.Le.get(e);return t||(t=new WT,this.Le.set(e,t)),t}_t(e){let t=this.Qe.get(e);return t||(t=new Vt(Pe),this.Qe=this.Qe.insert(e,t)),t}st(e){let t=this.qe.get(e);return t||(t=new Vt(Pe),this.qe=this.qe.insert(e,t)),t}je(e){const t=this.Ye(e)!==null;return t||ce("WatchChangeAggregator","Detected inactive target",e),t}Ye(e){const t=this.Le.get(e);return t&&t.Se?null:this.Be.ut(e)}He(e){this.Le.set(e,new WT),this.Be.getRemoteKeysForTarget(e).forEach(t=>{this.We(e,t,null)})}ot(e,t){return this.Be.getRemoteKeysForTarget(e).has(t)}}function Ih(){return new at(ve.comparator)}function ZT(){return new at(ve.comparator)}const pP={asc:"ASCENDING",desc:"DESCENDING"},gP={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},yP={and:"AND",or:"OR"};class vP{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function tg(n,e){return n.useProto3Json||Cf(e)?e:{value:e}}function cf(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function TA(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function _P(n,e){return cf(n,e.toTimestamp())}function Si(n){return Ke(!!n),we.fromTimestamp(function(t){const s=Tr(t);return new Nt(s.seconds,s.nanos)}(n))}function hy(n,e){return ng(n,e).canonicalString()}function ng(n,e){const t=function(a){return new et(["projects",a.projectId,"databases",a.database])}(n).child("documents");return e===void 0?t:t.child(e)}function bA(n){const e=et.fromString(n);return Ke(RA(e)),e}function ig(n,e){return hy(n.databaseId,e.path)}function pp(n,e){const t=bA(e);if(t.get(1)!==n.databaseId.projectId)throw new ge(ne.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new ge(ne.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new ve(SA(t))}function wA(n,e){return hy(n.databaseId,e)}function EP(n){const e=bA(n);return e.length===4?et.emptyPath():SA(e)}function sg(n){return new et(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function SA(n){return Ke(n.length>4&&n.get(4)==="documents"),n.popFirst(5)}function JT(n,e,t){return{name:ig(n,e),fields:t.value.mapValue.fields}}function TP(n,e){let t;if("targetChange"in e){e.targetChange;const s=function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:Te()}(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],l=function(p,v){return p.useProto3Json?(Ke(v===void 0||typeof v=="string"),Yt.fromBase64String(v||"")):(Ke(v===void 0||v instanceof Buffer||v instanceof Uint8Array),Yt.fromUint8Array(v||new Uint8Array))}(n,e.targetChange.resumeToken),c=e.targetChange.cause,d=c&&function(p){const v=p.code===void 0?ne.UNKNOWN:vA(p.code);return new ge(v,p.message||"")}(c);t=new EA(s,a,l,d||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const a=pp(n,s.document.name),l=Si(s.document.updateTime),c=s.document.createTime?Si(s.document.createTime):we.min(),d=new yn({mapValue:{fields:s.document.fields}}),m=tn.newFoundDocument(a,l,c,d),p=s.targetIds||[],v=s.removedTargetIds||[];t=new zh(p,v,m.key,m)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const a=pp(n,s.document),l=s.readTime?Si(s.readTime):we.min(),c=tn.newNoDocument(a,l),d=s.removedTargetIds||[];t=new zh([],d,c.key,c)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const a=pp(n,s.document),l=s.removedTargetIds||[];t=new zh([],l,a,null)}else{if(!("filter"in e))return Te();{e.filter;const s=e.filter;s.targetId;const{count:a=0,unchangedNames:l}=s,c=new cP(a,l),d=s.targetId;t=new _A(d,c)}}return t}function bP(n,e){let t;if(e instanceof Qu)t={update:JT(n,e.key,e.value)};else if(e instanceof ly)t={delete:ig(n,e.key)};else if(e instanceof Rr)t={update:JT(n,e.key,e.data),updateMask:NP(e.fieldMask)};else{if(!(e instanceof oP))return Te();t={verify:ig(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(s=>function(l,c){const d=c.transform;if(d instanceof lf)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof ku)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof Lu)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof uf)return{fieldPath:c.field.canonicalString(),increment:d.Pe};throw Te()}(0,s))),e.precondition.isNone||(t.currentDocument=function(a,l){return l.updateTime!==void 0?{updateTime:_P(a,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:Te()}(n,e.precondition)),t}function wP(n,e){return n&&n.length>0?(Ke(e!==void 0),n.map(t=>function(a,l){let c=a.updateTime?Si(a.updateTime):Si(l);return c.isEqual(we.min())&&(c=Si(l)),new sP(c,a.transformResults||[])}(t,e))):[]}function SP(n,e){return{documents:[wA(n,e.path)]}}function AP(n,e){const t={structuredQuery:{}},s=e.path;let a;e.collectionGroup!==null?(a=s,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=s.popLast(),t.structuredQuery.from=[{collectionId:s.lastSegment()}]),t.parent=wA(n,a);const l=function(p){if(p.length!==0)return xA(Di.create(p,"and"))}(e.filters);l&&(t.structuredQuery.where=l);const c=function(p){if(p.length!==0)return p.map(v=>function(b){return{field:yo(b.field),direction:CP(b.dir)}}(v))}(e.orderBy);c&&(t.structuredQuery.orderBy=c);const d=tg(n,e.limit);return d!==null&&(t.structuredQuery.limit=d),e.startAt&&(t.structuredQuery.startAt=function(p){return{before:p.inclusive,values:p.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(p){return{before:!p.inclusive,values:p.position}}(e.endAt)),{ct:t,parent:a}}function xP(n){let e=EP(n.parent);const t=n.structuredQuery,s=t.from?t.from.length:0;let a=null;if(s>0){Ke(s===1);const v=t.from[0];v.allDescendants?a=v.collectionId:e=e.child(v.collectionId)}let l=[];t.where&&(l=function(T){const b=AA(T);return b instanceof Di&&nA(b)?b.getFilters():[b]}(t.where));let c=[];t.orderBy&&(c=function(T){return T.map(b=>function(D){return new of(vo(D.field),function(P){switch(P){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(D.direction))}(b))}(t.orderBy));let d=null;t.limit&&(d=function(T){let b;return b=typeof T=="object"?T.value:T,Cf(b)?null:b}(t.limit));let m=null;t.startAt&&(m=function(T){const b=!!T.before,x=T.values||[];return new af(x,b)}(t.startAt));let p=null;return t.endAt&&(p=function(T){const b=!T.before,x=T.values||[];return new af(x,b)}(t.endAt)),qO(e,a,c,l,d,"F",m,p)}function RP(n,e){const t=function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Te()}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function AA(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const s=vo(t.unaryFilter.field);return It.create(s,"==",{doubleValue:NaN});case"IS_NULL":const a=vo(t.unaryFilter.field);return It.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=vo(t.unaryFilter.field);return It.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=vo(t.unaryFilter.field);return It.create(c,"!=",{nullValue:"NULL_VALUE"});default:return Te()}}(n):n.fieldFilter!==void 0?function(t){return It.create(vo(t.fieldFilter.field),function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Te()}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return Di.create(t.compositeFilter.filters.map(s=>AA(s)),function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return Te()}}(t.compositeFilter.op))}(n):Te()}function CP(n){return pP[n]}function DP(n){return gP[n]}function IP(n){return yP[n]}function yo(n){return{fieldPath:n.canonicalString()}}function vo(n){return $t.fromServerFormat(n.fieldPath)}function xA(n){return n instanceof It?function(t){if(t.op==="=="){if(BT(t.value))return{unaryFilter:{field:yo(t.field),op:"IS_NAN"}};if(jT(t.value))return{unaryFilter:{field:yo(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(BT(t.value))return{unaryFilter:{field:yo(t.field),op:"IS_NOT_NAN"}};if(jT(t.value))return{unaryFilter:{field:yo(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:yo(t.field),op:DP(t.op),value:t.value}}}(n):n instanceof Di?function(t){const s=t.getFilters().map(a=>xA(a));return s.length===1?s[0]:{compositeFilter:{op:IP(t.op),filters:s}}}(n):Te()}function NP(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function RA(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hr{constructor(e,t,s,a,l=we.min(),c=we.min(),d=Yt.EMPTY_BYTE_STRING,m=null){this.target=e,this.targetId=t,this.purpose=s,this.sequenceNumber=a,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=d,this.expectedCount=m}withSequenceNumber(e){return new hr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new hr(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new hr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new hr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VP{constructor(e){this.ht=e}}function MP(n){const e=xP({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?eg(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OP{constructor(){this.ln=new PP}addToCollectionParentIndex(e,t){return this.ln.add(t),ee.resolve()}getCollectionParents(e,t){return ee.resolve(this.ln.getEntries(t))}addFieldIndex(e,t){return ee.resolve()}deleteFieldIndex(e,t){return ee.resolve()}deleteAllFieldIndexes(e){return ee.resolve()}createTargetIndexes(e,t){return ee.resolve()}getDocumentsMatchingTarget(e,t){return ee.resolve(null)}getIndexType(e,t){return ee.resolve(0)}getFieldIndexes(e,t){return ee.resolve([])}getNextCollectionGroupToUpdate(e){return ee.resolve(null)}getMinOffset(e,t){return ee.resolve(Er.min())}getMinOffsetFromCollectionGroup(e,t){return ee.resolve(Er.min())}updateCollectionGroup(e,t,s){return ee.resolve()}updateIndexEntries(e,t){return ee.resolve()}}class PP{constructor(){this.index={}}add(e){const t=e.lastSegment(),s=e.popLast(),a=this.index[t]||new Vt(et.comparator),l=!a.has(s);return this.index[t]=a.add(s),l}has(e){const t=e.lastSegment(),s=e.popLast(),a=this.index[t];return a&&a.has(s)}getEntries(e){return(this.index[e]||new Vt(et.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eb={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class pn{static withCacheSize(e){return new pn(e,pn.DEFAULT_COLLECTION_PERCENTILE,pn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */pn.DEFAULT_COLLECTION_PERCENTILE=10,pn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,pn.DEFAULT=new pn(41943040,pn.DEFAULT_COLLECTION_PERCENTILE,pn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),pn.DISABLED=new pn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uo{constructor(e){this.kn=e}next(){return this.kn+=2,this.kn}static qn(){return new Uo(0)}static Qn(){return new Uo(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tb([n,e],[t,s]){const a=Pe(n,t);return a===0?Pe(e,s):a}class kP{constructor(e){this.Gn=e,this.buffer=new Vt(tb),this.zn=0}jn(){return++this.zn}Hn(e){const t=[e,this.jn()];if(this.buffer.size<this.Gn)this.buffer=this.buffer.add(t);else{const s=this.buffer.last();tb(t,s)<0&&(this.buffer=this.buffer.delete(s).add(t))}}get maxValue(){return this.buffer.last()[0]}}class LP{constructor(e,t,s){this.garbageCollector=e,this.asyncQueue=t,this.localStore=s,this.Jn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Yn(6e4)}stop(){this.Jn&&(this.Jn.cancel(),this.Jn=null)}get started(){return this.Jn!==null}Yn(e){ce("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Jn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Jn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){Qo(t)?ce("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",t):await Yo(t)}await this.Yn(3e5)})}}class UP{constructor(e,t){this.Zn=e,this.params=t}calculateTargetCount(e,t){return this.Zn.Xn(e).next(s=>Math.floor(t/100*s))}nthSequenceNumber(e,t){if(t===0)return ee.resolve(Rf.oe);const s=new kP(t);return this.Zn.forEachTarget(e,a=>s.Hn(a.sequenceNumber)).next(()=>this.Zn.er(e,a=>s.Hn(a))).next(()=>s.maxValue)}removeTargets(e,t,s){return this.Zn.removeTargets(e,t,s)}removeOrphanedDocuments(e,t){return this.Zn.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(ce("LruGarbageCollector","Garbage collection skipped; disabled"),ee.resolve(eb)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(ce("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),eb):this.tr(e,t))}getCacheSize(e){return this.Zn.getCacheSize(e)}tr(e,t){let s,a,l,c,d,m,p;const v=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(T=>(T>this.params.maximumSequenceNumbersToCollect?(ce("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${T}`),a=this.params.maximumSequenceNumbersToCollect):a=T,c=Date.now(),this.nthSequenceNumber(e,a))).next(T=>(s=T,d=Date.now(),this.removeTargets(e,s,t))).next(T=>(l=T,m=Date.now(),this.removeOrphanedDocuments(e,s))).next(T=>(p=Date.now(),po()<=Ve.DEBUG&&ce("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-v}ms
	Determined least recently used ${a} in `+(d-c)+`ms
	Removed ${l} targets in `+(m-d)+`ms
	Removed ${T} documents in `+(p-m)+`ms
Total Duration: ${p-v}ms`),ee.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:l,documentsRemoved:T})))}}function jP(n,e){return new UP(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BP{constructor(){this.changes=new ba(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,tn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const s=this.changes.get(t);return s!==void 0?ee.resolve(s):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FP{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zP{constructor(e,t,s,a){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=s,this.indexManager=a}getDocument(e,t){let s=null;return this.documentOverlayCache.getOverlay(e,t).next(a=>(s=a,this.remoteDocumentCache.getEntry(e,t))).next(a=>(s!==null&&bu(s.mutation,a,xn.empty(),Nt.now()),a))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(s=>this.getLocalViewOfDocuments(e,s,Me()).next(()=>s))}getLocalViewOfDocuments(e,t,s=Me()){const a=da();return this.populateOverlays(e,a,t).next(()=>this.computeViews(e,t,a,s).next(l=>{let c=fu();return l.forEach((d,m)=>{c=c.insert(d,m.overlayedDocument)}),c}))}getOverlayedDocuments(e,t){const s=da();return this.populateOverlays(e,s,t).next(()=>this.computeViews(e,t,s,Me()))}populateOverlays(e,t,s){const a=[];return s.forEach(l=>{t.has(l)||a.push(l)}),this.documentOverlayCache.getOverlays(e,a).next(l=>{l.forEach((c,d)=>{t.set(c,d)})})}computeViews(e,t,s,a){let l=ps();const c=Tu(),d=function(){return Tu()}();return t.forEach((m,p)=>{const v=s.get(p.key);a.has(p.key)&&(v===void 0||v.mutation instanceof Rr)?l=l.insert(p.key,p):v!==void 0?(c.set(p.key,v.mutation.getFieldMask()),bu(v.mutation,p,v.mutation.getFieldMask(),Nt.now())):c.set(p.key,xn.empty())}),this.recalculateAndSaveOverlays(e,l).next(m=>(m.forEach((p,v)=>c.set(p,v)),t.forEach((p,v)=>{var T;return d.set(p,new FP(v,(T=c.get(p))!==null&&T!==void 0?T:null))}),d))}recalculateAndSaveOverlays(e,t){const s=Tu();let a=new at((c,d)=>c-d),l=Me();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(c=>{for(const d of c)d.keys().forEach(m=>{const p=t.get(m);if(p===null)return;let v=s.get(m)||xn.empty();v=d.applyToLocalView(p,v),s.set(m,v);const T=(a.get(d.batchId)||Me()).add(m);a=a.insert(d.batchId,T)})}).next(()=>{const c=[],d=a.getReverseIterator();for(;d.hasNext();){const m=d.getNext(),p=m.key,v=m.value,T=cA();v.forEach(b=>{if(!l.has(b)){const x=gA(t.get(b),s.get(b));x!==null&&T.set(b,x),l=l.add(b)}}),c.push(this.documentOverlayCache.saveOverlays(e,p,T))}return ee.waitFor(c)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,t,s,a){return function(c){return ve.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):GO(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,s,a):this.getDocumentsMatchingCollectionQuery(e,t,s,a)}getNextDocuments(e,t,s,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,s,a).next(l=>{const c=a-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,s.largestBatchId,a-l.size):ee.resolve(da());let d=-1,m=l;return c.next(p=>ee.forEach(p,(v,T)=>(d<T.largestBatchId&&(d=T.largestBatchId),l.get(v)?ee.resolve():this.remoteDocumentCache.getEntry(e,v).next(b=>{m=m.insert(v,b)}))).next(()=>this.populateOverlays(e,p,l)).next(()=>this.computeViews(e,m,p,Me())).next(v=>({batchId:d,changes:uA(v)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new ve(t)).next(s=>{let a=fu();return s.isFoundDocument()&&(a=a.insert(s.key,s)),a})}getDocumentsMatchingCollectionGroupQuery(e,t,s,a){const l=t.collectionGroup;let c=fu();return this.indexManager.getCollectionParents(e,l).next(d=>ee.forEach(d,m=>{const p=function(T,b){return new If(b,null,T.explicitOrderBy.slice(),T.filters.slice(),T.limit,T.limitType,T.startAt,T.endAt)}(t,m.child(l));return this.getDocumentsMatchingCollectionQuery(e,p,s,a).next(v=>{v.forEach((T,b)=>{c=c.insert(T,b)})})}).next(()=>c))}getDocumentsMatchingCollectionQuery(e,t,s,a){let l;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,s.largestBatchId).next(c=>(l=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,s,l,a))).next(c=>{l.forEach((m,p)=>{const v=p.getKey();c.get(v)===null&&(c=c.insert(v,tn.newInvalidDocument(v)))});let d=fu();return c.forEach((m,p)=>{const v=l.get(m);v!==void 0&&bu(v.mutation,p,xn.empty(),Nt.now()),Vf(t,p)&&(d=d.insert(m,p))}),d})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HP{constructor(e){this.serializer=e,this.Tr=new Map,this.Ir=new Map}getBundleMetadata(e,t){return ee.resolve(this.Tr.get(t))}saveBundleMetadata(e,t){return this.Tr.set(t.id,function(a){return{id:a.id,version:a.version,createTime:Si(a.createTime)}}(t)),ee.resolve()}getNamedQuery(e,t){return ee.resolve(this.Ir.get(t))}saveNamedQuery(e,t){return this.Ir.set(t.name,function(a){return{name:a.name,query:MP(a.bundledQuery),readTime:Si(a.readTime)}}(t)),ee.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qP{constructor(){this.overlays=new at(ve.comparator),this.dr=new Map}getOverlay(e,t){return ee.resolve(this.overlays.get(t))}getOverlays(e,t){const s=da();return ee.forEach(t,a=>this.getOverlay(e,a).next(l=>{l!==null&&s.set(a,l)})).next(()=>s)}saveOverlays(e,t,s){return s.forEach((a,l)=>{this.Tt(e,t,l)}),ee.resolve()}removeOverlaysForBatchId(e,t,s){const a=this.dr.get(s);return a!==void 0&&(a.forEach(l=>this.overlays=this.overlays.remove(l)),this.dr.delete(s)),ee.resolve()}getOverlaysForCollection(e,t,s){const a=da(),l=t.length+1,c=new ve(t.child("")),d=this.overlays.getIteratorFrom(c);for(;d.hasNext();){const m=d.getNext().value,p=m.getKey();if(!t.isPrefixOf(p.path))break;p.path.length===l&&m.largestBatchId>s&&a.set(m.getKey(),m)}return ee.resolve(a)}getOverlaysForCollectionGroup(e,t,s,a){let l=new at((p,v)=>p-v);const c=this.overlays.getIterator();for(;c.hasNext();){const p=c.getNext().value;if(p.getKey().getCollectionGroup()===t&&p.largestBatchId>s){let v=l.get(p.largestBatchId);v===null&&(v=da(),l=l.insert(p.largestBatchId,v)),v.set(p.getKey(),p)}}const d=da(),m=l.getIterator();for(;m.hasNext()&&(m.getNext().value.forEach((p,v)=>d.set(p,v)),!(d.size()>=a)););return ee.resolve(d)}Tt(e,t,s){const a=this.overlays.get(s.key);if(a!==null){const c=this.dr.get(a.largestBatchId).delete(s.key);this.dr.set(a.largestBatchId,c)}this.overlays=this.overlays.insert(s.key,new uP(t,s));let l=this.dr.get(t);l===void 0&&(l=Me(),this.dr.set(t,l)),this.dr.set(t,l.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GP{constructor(){this.sessionToken=Yt.EMPTY_BYTE_STRING}getSessionToken(e){return ee.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,ee.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fy{constructor(){this.Er=new Vt(Bt.Ar),this.Rr=new Vt(Bt.Vr)}isEmpty(){return this.Er.isEmpty()}addReference(e,t){const s=new Bt(e,t);this.Er=this.Er.add(s),this.Rr=this.Rr.add(s)}mr(e,t){e.forEach(s=>this.addReference(s,t))}removeReference(e,t){this.gr(new Bt(e,t))}pr(e,t){e.forEach(s=>this.removeReference(s,t))}yr(e){const t=new ve(new et([])),s=new Bt(t,e),a=new Bt(t,e+1),l=[];return this.Rr.forEachInRange([s,a],c=>{this.gr(c),l.push(c.key)}),l}wr(){this.Er.forEach(e=>this.gr(e))}gr(e){this.Er=this.Er.delete(e),this.Rr=this.Rr.delete(e)}Sr(e){const t=new ve(new et([])),s=new Bt(t,e),a=new Bt(t,e+1);let l=Me();return this.Rr.forEachInRange([s,a],c=>{l=l.add(c.key)}),l}containsKey(e){const t=new Bt(e,0),s=this.Er.firstAfterOrEqual(t);return s!==null&&e.isEqual(s.key)}}class Bt{constructor(e,t){this.key=e,this.br=t}static Ar(e,t){return ve.comparator(e.key,t.key)||Pe(e.br,t.br)}static Vr(e,t){return Pe(e.br,t.br)||ve.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KP{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Dr=1,this.vr=new Vt(Bt.Ar)}checkEmpty(e){return ee.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,s,a){const l=this.Dr;this.Dr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new lP(l,t,s,a);this.mutationQueue.push(c);for(const d of a)this.vr=this.vr.add(new Bt(d.key,l)),this.indexManager.addToCollectionParentIndex(e,d.key.path.popLast());return ee.resolve(c)}lookupMutationBatch(e,t){return ee.resolve(this.Cr(t))}getNextMutationBatchAfterBatchId(e,t){const s=t+1,a=this.Fr(s),l=a<0?0:a;return ee.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return ee.resolve(this.mutationQueue.length===0?-1:this.Dr-1)}getAllMutationBatches(e){return ee.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const s=new Bt(t,0),a=new Bt(t,Number.POSITIVE_INFINITY),l=[];return this.vr.forEachInRange([s,a],c=>{const d=this.Cr(c.br);l.push(d)}),ee.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let s=new Vt(Pe);return t.forEach(a=>{const l=new Bt(a,0),c=new Bt(a,Number.POSITIVE_INFINITY);this.vr.forEachInRange([l,c],d=>{s=s.add(d.br)})}),ee.resolve(this.Mr(s))}getAllMutationBatchesAffectingQuery(e,t){const s=t.path,a=s.length+1;let l=s;ve.isDocumentKey(l)||(l=l.child(""));const c=new Bt(new ve(l),0);let d=new Vt(Pe);return this.vr.forEachWhile(m=>{const p=m.key.path;return!!s.isPrefixOf(p)&&(p.length===a&&(d=d.add(m.br)),!0)},c),ee.resolve(this.Mr(d))}Mr(e){const t=[];return e.forEach(s=>{const a=this.Cr(s);a!==null&&t.push(a)}),t}removeMutationBatch(e,t){Ke(this.Or(t.batchId,"removed")===0),this.mutationQueue.shift();let s=this.vr;return ee.forEach(t.mutations,a=>{const l=new Bt(a.key,t.batchId);return s=s.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)}).next(()=>{this.vr=s})}Bn(e){}containsKey(e,t){const s=new Bt(t,0),a=this.vr.firstAfterOrEqual(s);return ee.resolve(t.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,ee.resolve()}Or(e,t){return this.Fr(e)}Fr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Cr(e){const t=this.Fr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $P{constructor(e){this.Nr=e,this.docs=function(){return new at(ve.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const s=t.key,a=this.docs.get(s),l=a?a.size:0,c=this.Nr(t);return this.docs=this.docs.insert(s,{document:t.mutableCopy(),size:c}),this.size+=c-l,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const s=this.docs.get(t);return ee.resolve(s?s.document.mutableCopy():tn.newInvalidDocument(t))}getEntries(e,t){let s=ps();return t.forEach(a=>{const l=this.docs.get(a);s=s.insert(a,l?l.document.mutableCopy():tn.newInvalidDocument(a))}),ee.resolve(s)}getDocumentsMatchingQuery(e,t,s,a){let l=ps();const c=t.path,d=new ve(c.child("__id-9223372036854775808__")),m=this.docs.getIteratorFrom(d);for(;m.hasNext();){const{key:p,value:{document:v}}=m.getNext();if(!c.isPrefixOf(p.path))break;p.path.length>c.length+1||wO(bO(v),s)<=0||(a.has(v.key)||Vf(t,v))&&(l=l.insert(v.key,v.mutableCopy()))}return ee.resolve(l)}getAllFromCollectionGroup(e,t,s,a){Te()}Br(e,t){return ee.forEach(this.docs,s=>t(s))}newChangeBuffer(e){return new YP(this)}getSize(e){return ee.resolve(this.size)}}class YP extends BP{constructor(e){super(),this.hr=e}applyChanges(e){const t=[];return this.changes.forEach((s,a)=>{a.isValidDocument()?t.push(this.hr.addEntry(e,a)):this.hr.removeEntry(s)}),ee.waitFor(t)}getFromCache(e,t){return this.hr.getEntry(e,t)}getAllFromCache(e,t){return this.hr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QP{constructor(e){this.persistence=e,this.Lr=new ba(t=>sy(t),ry),this.lastRemoteSnapshotVersion=we.min(),this.highestTargetId=0,this.kr=0,this.qr=new fy,this.targetCount=0,this.Qr=Uo.qn()}forEachTarget(e,t){return this.Lr.forEach((s,a)=>t(a)),ee.resolve()}getLastRemoteSnapshotVersion(e){return ee.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ee.resolve(this.kr)}allocateTargetId(e){return this.highestTargetId=this.Qr.next(),ee.resolve(this.highestTargetId)}setTargetsMetadata(e,t,s){return s&&(this.lastRemoteSnapshotVersion=s),t>this.kr&&(this.kr=t),ee.resolve()}Un(e){this.Lr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Qr=new Uo(t),this.highestTargetId=t),e.sequenceNumber>this.kr&&(this.kr=e.sequenceNumber)}addTargetData(e,t){return this.Un(t),this.targetCount+=1,ee.resolve()}updateTargetData(e,t){return this.Un(t),ee.resolve()}removeTargetData(e,t){return this.Lr.delete(t.target),this.qr.yr(t.targetId),this.targetCount-=1,ee.resolve()}removeTargets(e,t,s){let a=0;const l=[];return this.Lr.forEach((c,d)=>{d.sequenceNumber<=t&&s.get(d.targetId)===null&&(this.Lr.delete(c),l.push(this.removeMatchingKeysForTargetId(e,d.targetId)),a++)}),ee.waitFor(l).next(()=>a)}getTargetCount(e){return ee.resolve(this.targetCount)}getTargetData(e,t){const s=this.Lr.get(t)||null;return ee.resolve(s)}addMatchingKeys(e,t,s){return this.qr.mr(t,s),ee.resolve()}removeMatchingKeys(e,t,s){this.qr.pr(t,s);const a=this.persistence.referenceDelegate,l=[];return a&&t.forEach(c=>{l.push(a.markPotentiallyOrphaned(e,c))}),ee.waitFor(l)}removeMatchingKeysForTargetId(e,t){return this.qr.yr(t),ee.resolve()}getMatchingKeysForTargetId(e,t){const s=this.qr.Sr(t);return ee.resolve(s)}containsKey(e,t){return ee.resolve(this.qr.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CA{constructor(e,t){this.Kr={},this.overlays={},this.$r=new Rf(0),this.Ur=!1,this.Ur=!0,this.Wr=new GP,this.referenceDelegate=e(this),this.Gr=new QP(this),this.indexManager=new OP,this.remoteDocumentCache=function(a){return new $P(a)}(s=>this.referenceDelegate.zr(s)),this.serializer=new VP(t),this.jr=new HP(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Ur=!1,Promise.resolve()}get started(){return this.Ur}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new qP,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let s=this.Kr[e.toKey()];return s||(s=new KP(t,this.referenceDelegate),this.Kr[e.toKey()]=s),s}getGlobalsCache(){return this.Wr}getTargetCache(){return this.Gr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.jr}runTransaction(e,t,s){ce("MemoryPersistence","Starting transaction:",e);const a=new XP(this.$r.next());return this.referenceDelegate.Hr(),s(a).next(l=>this.referenceDelegate.Jr(a).next(()=>l)).toPromise().then(l=>(a.raiseOnCommittedEvent(),l))}Yr(e,t){return ee.or(Object.values(this.Kr).map(s=>()=>s.containsKey(e,t)))}}class XP extends AO{constructor(e){super(),this.currentSequenceNumber=e}}class dy{constructor(e){this.persistence=e,this.Zr=new fy,this.Xr=null}static ei(e){return new dy(e)}get ti(){if(this.Xr)return this.Xr;throw Te()}addReference(e,t,s){return this.Zr.addReference(s,t),this.ti.delete(s.toString()),ee.resolve()}removeReference(e,t,s){return this.Zr.removeReference(s,t),this.ti.add(s.toString()),ee.resolve()}markPotentiallyOrphaned(e,t){return this.ti.add(t.toString()),ee.resolve()}removeTarget(e,t){this.Zr.yr(t.targetId).forEach(a=>this.ti.add(a.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,t.targetId).next(a=>{a.forEach(l=>this.ti.add(l.toString()))}).next(()=>s.removeTargetData(e,t))}Hr(){this.Xr=new Set}Jr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ee.forEach(this.ti,s=>{const a=ve.fromPath(s);return this.ni(e,a).next(l=>{l||t.removeEntry(a,we.min())})}).next(()=>(this.Xr=null,t.apply(e)))}updateLimboDocument(e,t){return this.ni(e,t).next(s=>{s?this.ti.delete(t.toString()):this.ti.add(t.toString())})}zr(e){return 0}ni(e,t){return ee.or([()=>ee.resolve(this.Zr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Yr(e,t)])}}class hf{constructor(e,t){this.persistence=e,this.ri=new ba(s=>CO(s.path),(s,a)=>s.isEqual(a)),this.garbageCollector=jP(this,t)}static ei(e,t){return new hf(e,t)}Hr(){}Jr(e){return ee.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}Xn(e){const t=this.nr(e);return this.persistence.getTargetCache().getTargetCount(e).next(s=>t.next(a=>s+a))}nr(e){let t=0;return this.er(e,s=>{t++}).next(()=>t)}er(e,t){return ee.forEach(this.ri,(s,a)=>this.ir(e,s,a).next(l=>l?ee.resolve():t(a)))}removeTargets(e,t,s){return this.persistence.getTargetCache().removeTargets(e,t,s)}removeOrphanedDocuments(e,t){let s=0;const a=this.persistence.getRemoteDocumentCache(),l=a.newChangeBuffer();return a.Br(e,c=>this.ir(e,c,t).next(d=>{d||(s++,l.removeEntry(c,we.min()))})).next(()=>l.apply(e)).next(()=>s)}markPotentiallyOrphaned(e,t){return this.ri.set(t,e.currentSequenceNumber),ee.resolve()}removeTarget(e,t){const s=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,t,s){return this.ri.set(s,e.currentSequenceNumber),ee.resolve()}removeReference(e,t,s){return this.ri.set(s,e.currentSequenceNumber),ee.resolve()}updateLimboDocument(e,t){return this.ri.set(t,e.currentSequenceNumber),ee.resolve()}zr(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=jh(e.data.value)),t}ir(e,t,s){return ee.or([()=>this.persistence.Yr(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const a=this.ri.get(t);return ee.resolve(a!==void 0&&a>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class my{constructor(e,t,s,a){this.targetId=e,this.fromCache=t,this.Wi=s,this.Gi=a}static zi(e,t){let s=Me(),a=Me();for(const l of t.docChanges)switch(l.type){case 0:s=s.add(l.doc.key);break;case 1:a=a.add(l.doc.key)}return new my(e,t.fromCache,s,a)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WP{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZP{constructor(){this.ji=!1,this.Hi=!1,this.Ji=100,this.Yi=function(){return QV()?8:xO(sn())>0?6:4}()}initialize(e,t){this.Zi=e,this.indexManager=t,this.ji=!0}getDocumentsMatchingQuery(e,t,s,a){const l={result:null};return this.Xi(e,t).next(c=>{l.result=c}).next(()=>{if(!l.result)return this.es(e,t,a,s).next(c=>{l.result=c})}).next(()=>{if(l.result)return;const c=new WP;return this.ts(e,t,c).next(d=>{if(l.result=d,this.Hi)return this.ns(e,t,c,d.size)})}).next(()=>l.result)}ns(e,t,s,a){return s.documentReadCount<this.Ji?(po()<=Ve.DEBUG&&ce("QueryEngine","SDK will not create cache indexes for query:",go(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Ji,"documents"),ee.resolve()):(po()<=Ve.DEBUG&&ce("QueryEngine","Query:",go(t),"scans",s.documentReadCount,"local documents and returns",a,"documents as results."),s.documentReadCount>this.Yi*a?(po()<=Ve.DEBUG&&ce("QueryEngine","The SDK decides to create cache indexes for query:",go(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,wi(t))):ee.resolve())}Xi(e,t){if(qT(t))return ee.resolve(null);let s=wi(t);return this.indexManager.getIndexType(e,s).next(a=>a===0?null:(t.limit!==null&&a===1&&(t=eg(t,null,"F"),s=wi(t)),this.indexManager.getDocumentsMatchingTarget(e,s).next(l=>{const c=Me(...l);return this.Zi.getDocuments(e,c).next(d=>this.indexManager.getMinOffset(e,s).next(m=>{const p=this.rs(t,d);return this.ss(t,p,c,m.readTime)?this.Xi(e,eg(t,null,"F")):this.os(e,p,t,m)}))})))}es(e,t,s,a){return qT(t)||a.isEqual(we.min())?ee.resolve(null):this.Zi.getDocuments(e,s).next(l=>{const c=this.rs(t,l);return this.ss(t,c,s,a)?ee.resolve(null):(po()<=Ve.DEBUG&&ce("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),go(t)),this.os(e,c,t,TO(a,-1)).next(d=>d))})}rs(e,t){let s=new Vt(oA(e));return t.forEach((a,l)=>{Vf(e,l)&&(s=s.add(l))}),s}ss(e,t,s,a){if(e.limit===null)return!1;if(s.size!==t.size)return!0;const l=e.limitType==="F"?t.last():t.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(a)>0)}ts(e,t,s){return po()<=Ve.DEBUG&&ce("QueryEngine","Using full collection scan to execute query:",go(t)),this.Zi.getDocumentsMatchingQuery(e,t,Er.min(),s)}os(e,t,s,a){return this.Zi.getDocumentsMatchingQuery(e,s,a).next(l=>(t.forEach(c=>{l=l.insert(c.key,c)}),l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JP{constructor(e,t,s,a){this.persistence=e,this._s=t,this.serializer=a,this.us=new at(Pe),this.cs=new ba(l=>sy(l),ry),this.ls=new Map,this.hs=e.getRemoteDocumentCache(),this.Gr=e.getTargetCache(),this.jr=e.getBundleCache(),this.Ps(s)}Ps(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new zP(this.hs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.hs.setIndexManager(this.indexManager),this._s.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.us))}}function ek(n,e,t,s){return new JP(n,e,t,s)}async function DA(n,e){const t=Ae(n);return await t.persistence.runTransaction("Handle user change","readonly",s=>{let a;return t.mutationQueue.getAllMutationBatches(s).next(l=>(a=l,t.Ps(e),t.mutationQueue.getAllMutationBatches(s))).next(l=>{const c=[],d=[];let m=Me();for(const p of a){c.push(p.batchId);for(const v of p.mutations)m=m.add(v.key)}for(const p of l){d.push(p.batchId);for(const v of p.mutations)m=m.add(v.key)}return t.localDocuments.getDocuments(s,m).next(p=>({Ts:p,removedBatchIds:c,addedBatchIds:d}))})})}function tk(n,e){const t=Ae(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const a=e.batch.keys(),l=t.hs.newChangeBuffer({trackRemovals:!0});return function(d,m,p,v){const T=p.batch,b=T.keys();let x=ee.resolve();return b.forEach(D=>{x=x.next(()=>v.getEntry(m,D)).next(L=>{const P=p.docVersions.get(D);Ke(P!==null),L.version.compareTo(P)<0&&(T.applyToRemoteDocument(L,p),L.isValidDocument()&&(L.setReadTime(p.commitVersion),v.addEntry(L)))})}),x.next(()=>d.mutationQueue.removeMutationBatch(m,T))}(t,s,e,l).next(()=>l.apply(s)).next(()=>t.mutationQueue.performConsistencyCheck(s)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(s,a,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(d){let m=Me();for(let p=0;p<d.mutationResults.length;++p)d.mutationResults[p].transformResults.length>0&&(m=m.add(d.batch.mutations[p].key));return m}(e))).next(()=>t.localDocuments.getDocuments(s,a))})}function IA(n){const e=Ae(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Gr.getLastRemoteSnapshotVersion(t))}function nk(n,e){const t=Ae(n),s=e.snapshotVersion;let a=t.us;return t.persistence.runTransaction("Apply remote event","readwrite-primary",l=>{const c=t.hs.newChangeBuffer({trackRemovals:!0});a=t.us;const d=[];e.targetChanges.forEach((v,T)=>{const b=a.get(T);if(!b)return;d.push(t.Gr.removeMatchingKeys(l,v.removedDocuments,T).next(()=>t.Gr.addMatchingKeys(l,v.addedDocuments,T)));let x=b.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(T)!==null?x=x.withResumeToken(Yt.EMPTY_BYTE_STRING,we.min()).withLastLimboFreeSnapshotVersion(we.min()):v.resumeToken.approximateByteSize()>0&&(x=x.withResumeToken(v.resumeToken,s)),a=a.insert(T,x),function(L,P,B){return L.resumeToken.approximateByteSize()===0||P.snapshotVersion.toMicroseconds()-L.snapshotVersion.toMicroseconds()>=3e8?!0:B.addedDocuments.size+B.modifiedDocuments.size+B.removedDocuments.size>0}(b,x,v)&&d.push(t.Gr.updateTargetData(l,x))});let m=ps(),p=Me();if(e.documentUpdates.forEach(v=>{e.resolvedLimboDocuments.has(v)&&d.push(t.persistence.referenceDelegate.updateLimboDocument(l,v))}),d.push(ik(l,c,e.documentUpdates).next(v=>{m=v.Is,p=v.ds})),!s.isEqual(we.min())){const v=t.Gr.getLastRemoteSnapshotVersion(l).next(T=>t.Gr.setTargetsMetadata(l,l.currentSequenceNumber,s));d.push(v)}return ee.waitFor(d).next(()=>c.apply(l)).next(()=>t.localDocuments.getLocalViewOfDocuments(l,m,p)).next(()=>m)}).then(l=>(t.us=a,l))}function ik(n,e,t){let s=Me(),a=Me();return t.forEach(l=>s=s.add(l)),e.getEntries(n,s).next(l=>{let c=ps();return t.forEach((d,m)=>{const p=l.get(d);m.isFoundDocument()!==p.isFoundDocument()&&(a=a.add(d)),m.isNoDocument()&&m.version.isEqual(we.min())?(e.removeEntry(d,m.readTime),c=c.insert(d,m)):!p.isValidDocument()||m.version.compareTo(p.version)>0||m.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(m),c=c.insert(d,m)):ce("LocalStore","Ignoring outdated watch update for ",d,". Current version:",p.version," Watch version:",m.version)}),{Is:c,ds:a}})}function sk(n,e){const t=Ae(n);return t.persistence.runTransaction("Get next mutation batch","readonly",s=>(e===void 0&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function rk(n,e){const t=Ae(n);return t.persistence.runTransaction("Allocate target","readwrite",s=>{let a;return t.Gr.getTargetData(s,e).next(l=>l?(a=l,ee.resolve(a)):t.Gr.allocateTargetId(s).next(c=>(a=new hr(e,c,"TargetPurposeListen",s.currentSequenceNumber),t.Gr.addTargetData(s,a).next(()=>a))))}).then(s=>{const a=t.us.get(s.targetId);return(a===null||s.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(t.us=t.us.insert(s.targetId,s),t.cs.set(e,s.targetId)),s})}async function rg(n,e,t){const s=Ae(n),a=s.us.get(e),l=t?"readwrite":"readwrite-primary";try{t||await s.persistence.runTransaction("Release target",l,c=>s.persistence.referenceDelegate.removeTarget(c,a))}catch(c){if(!Qo(c))throw c;ce("LocalStore",`Failed to update sequence numbers for target ${e}: ${c}`)}s.us=s.us.remove(e),s.cs.delete(a.target)}function nb(n,e,t){const s=Ae(n);let a=we.min(),l=Me();return s.persistence.runTransaction("Execute query","readwrite",c=>function(m,p,v){const T=Ae(m),b=T.cs.get(v);return b!==void 0?ee.resolve(T.us.get(b)):T.Gr.getTargetData(p,v)}(s,c,wi(e)).next(d=>{if(d)return a=d.lastLimboFreeSnapshotVersion,s.Gr.getMatchingKeysForTargetId(c,d.targetId).next(m=>{l=m})}).next(()=>s._s.getDocumentsMatchingQuery(c,e,t?a:we.min(),t?l:Me())).next(d=>(ak(s,$O(e),d),{documents:d,Es:l})))}function ak(n,e,t){let s=n.ls.get(e)||we.min();t.forEach((a,l)=>{l.readTime.compareTo(s)>0&&(s=l.readTime)}),n.ls.set(e,s)}class ib{constructor(){this.activeTargetIds=JO()}ps(e){this.activeTargetIds=this.activeTargetIds.add(e)}ys(e){this.activeTargetIds=this.activeTargetIds.delete(e)}gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class ok{constructor(){this._o=new ib,this.ao={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,s){}addLocalQueryTarget(e,t=!0){return t&&this._o.ps(e),this.ao[e]||"not-current"}updateQueryState(e,t,s){this.ao[e]=t}removeLocalQueryTarget(e){this._o.ys(e)}isLocalQueryTarget(e){return this._o.activeTargetIds.has(e)}clearQueryState(e){delete this.ao[e]}getAllActiveQueryTargets(){return this._o.activeTargetIds}isActiveQueryTarget(e){return this._o.activeTargetIds.has(e)}start(){return this._o=new ib,Promise.resolve()}handleUserChange(e,t,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lk{uo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sb{constructor(){this.co=()=>this.lo(),this.ho=()=>this.Po(),this.To=[],this.Io()}uo(e){this.To.push(e)}shutdown(){window.removeEventListener("online",this.co),window.removeEventListener("offline",this.ho)}Io(){window.addEventListener("online",this.co),window.addEventListener("offline",this.ho)}lo(){ce("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.To)e(0)}Po(){ce("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.To)e(1)}static p(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Nh=null;function gp(){return Nh===null?Nh=function(){return 268435456+Math.round(2147483648*Math.random())}():Nh++,"0x"+Nh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uk={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ck{constructor(e){this.Eo=e.Eo,this.Ao=e.Ao}Ro(e){this.Vo=e}mo(e){this.fo=e}po(e){this.yo=e}onMessage(e){this.wo=e}close(){this.Ao()}send(e){this.Eo(e)}So(){this.Vo()}bo(){this.fo()}Do(e){this.yo(e)}vo(e){this.wo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zt="WebChannelConnection";class hk extends class{get Co(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const s=t.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.Fo=s+"://"+t.host,this.Mo=`projects/${a}/databases/${l}`,this.xo=this.databaseId.database==="(default)"?`project_id=${a}`:`project_id=${a}&database_id=${l}`}Oo(t,s,a,l,c){const d=gp(),m=this.No(t,s.toUriEncodedString());ce("RestConnection",`Sending RPC '${t}' ${d}:`,m,a);const p={"google-cloud-resource-prefix":this.Mo,"x-goog-request-params":this.xo};return this.Bo(p,l,c),this.Lo(t,m,p,a).then(v=>(ce("RestConnection",`Received RPC '${t}' ${d}: `,v),v),v=>{throw Oo("RestConnection",`RPC '${t}' ${d} failed with error: `,v,"url: ",m,"request:",a),v})}ko(t,s,a,l,c,d){return this.Oo(t,s,a,l,c)}Bo(t,s,a){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+$o}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),s&&s.headers.forEach((l,c)=>t[c]=l),a&&a.headers.forEach((l,c)=>t[c]=l)}No(t,s){const a=uk[t];return`${this.Fo}/v1/${s}:${a}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Lo(e,t,s,a){const l=gp();return new Promise((c,d)=>{const m=new qS;m.setWithCredentials(!0),m.listenOnce(GS.COMPLETE,()=>{try{switch(m.getLastErrorCode()){case Uh.NO_ERROR:const v=m.getResponseJson();ce(Zt,`XHR for RPC '${e}' ${l} received:`,JSON.stringify(v)),c(v);break;case Uh.TIMEOUT:ce(Zt,`RPC '${e}' ${l} timed out`),d(new ge(ne.DEADLINE_EXCEEDED,"Request time out"));break;case Uh.HTTP_ERROR:const T=m.getStatus();if(ce(Zt,`RPC '${e}' ${l} failed with status:`,T,"response text:",m.getResponseText()),T>0){let b=m.getResponseJson();Array.isArray(b)&&(b=b[0]);const x=b==null?void 0:b.error;if(x&&x.status&&x.message){const D=function(P){const B=P.toLowerCase().replace(/_/g,"-");return Object.values(ne).indexOf(B)>=0?B:ne.UNKNOWN}(x.status);d(new ge(D,x.message))}else d(new ge(ne.UNKNOWN,"Server responded with status "+m.getStatus()))}else d(new ge(ne.UNAVAILABLE,"Connection failed."));break;default:Te()}}finally{ce(Zt,`RPC '${e}' ${l} completed.`)}});const p=JSON.stringify(a);ce(Zt,`RPC '${e}' ${l} sending request:`,a),m.send(t,"POST",p,s,15)})}qo(e,t,s){const a=gp(),l=[this.Fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=YS(),d=$S(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(m.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(m.useFetchStreams=!0),this.Bo(m.initMessageHeaders,t,s),m.encodeInitMessageHeaders=!0;const v=l.join("");ce(Zt,`Creating RPC '${e}' stream ${a}: ${v}`,m);const T=c.createWebChannel(v,m);let b=!1,x=!1;const D=new ck({Eo:P=>{x?ce(Zt,`Not sending because RPC '${e}' stream ${a} is closed:`,P):(b||(ce(Zt,`Opening RPC '${e}' stream ${a} transport.`),T.open(),b=!0),ce(Zt,`RPC '${e}' stream ${a} sending:`,P),T.send(P))},Ao:()=>T.close()}),L=(P,B,Q)=>{P.listen(B,Y=>{try{Q(Y)}catch(ae){setTimeout(()=>{throw ae},0)}})};return L(T,hu.EventType.OPEN,()=>{x||(ce(Zt,`RPC '${e}' stream ${a} transport opened.`),D.So())}),L(T,hu.EventType.CLOSE,()=>{x||(x=!0,ce(Zt,`RPC '${e}' stream ${a} transport closed`),D.Do())}),L(T,hu.EventType.ERROR,P=>{x||(x=!0,Oo(Zt,`RPC '${e}' stream ${a} transport errored:`,P),D.Do(new ge(ne.UNAVAILABLE,"The operation could not be completed")))}),L(T,hu.EventType.MESSAGE,P=>{var B;if(!x){const Q=P.data[0];Ke(!!Q);const Y=Q,ae=(Y==null?void 0:Y.error)||((B=Y[0])===null||B===void 0?void 0:B.error);if(ae){ce(Zt,`RPC '${e}' stream ${a} received error:`,ae);const G=ae.status;let se=function(R){const N=wt[R];if(N!==void 0)return vA(N)}(G),O=ae.message;se===void 0&&(se=ne.INTERNAL,O="Unknown error status: "+G+" with message "+ae.message),x=!0,D.Do(new ge(se,O)),T.close()}else ce(Zt,`RPC '${e}' stream ${a} received:`,Q),D.vo(Q)}}),L(d,KS.STAT_EVENT,P=>{P.stat===Qp.PROXY?ce(Zt,`RPC '${e}' stream ${a} detected buffering proxy`):P.stat===Qp.NOPROXY&&ce(Zt,`RPC '${e}' stream ${a} detected no buffering proxy`)}),setTimeout(()=>{D.bo()},0),D}}function yp(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kf(n){return new vP(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NA{constructor(e,t,s=1e3,a=1.5,l=6e4){this.li=e,this.timerId=t,this.Qo=s,this.Ko=a,this.$o=l,this.Uo=0,this.Wo=null,this.Go=Date.now(),this.reset()}reset(){this.Uo=0}zo(){this.Uo=this.$o}jo(e){this.cancel();const t=Math.floor(this.Uo+this.Ho()),s=Math.max(0,Date.now()-this.Go),a=Math.max(0,t-s);a>0&&ce("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.Uo} ms, delay with jitter: ${t} ms, last attempt: ${s} ms ago)`),this.Wo=this.li.enqueueAfterDelay(this.timerId,a,()=>(this.Go=Date.now(),e())),this.Uo*=this.Ko,this.Uo<this.Qo&&(this.Uo=this.Qo),this.Uo>this.$o&&(this.Uo=this.$o)}Jo(){this.Wo!==null&&(this.Wo.skipDelay(),this.Wo=null)}cancel(){this.Wo!==null&&(this.Wo.cancel(),this.Wo=null)}Ho(){return(Math.random()-.5)*this.Uo}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VA{constructor(e,t,s,a,l,c,d,m){this.li=e,this.Yo=s,this.Zo=a,this.connection=l,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=d,this.listener=m,this.state=0,this.Xo=0,this.e_=null,this.t_=null,this.stream=null,this.n_=0,this.r_=new NA(e,t)}i_(){return this.state===1||this.state===5||this.s_()}s_(){return this.state===2||this.state===3}start(){this.n_=0,this.state!==4?this.auth():this.o_()}async stop(){this.i_()&&await this.close(0)}__(){this.state=0,this.r_.reset()}a_(){this.s_()&&this.e_===null&&(this.e_=this.li.enqueueAfterDelay(this.Yo,6e4,()=>this.u_()))}c_(e){this.l_(),this.stream.send(e)}async u_(){if(this.s_())return this.close(0)}l_(){this.e_&&(this.e_.cancel(),this.e_=null)}h_(){this.t_&&(this.t_.cancel(),this.t_=null)}async close(e,t){this.l_(),this.h_(),this.r_.cancel(),this.Xo++,e!==4?this.r_.reset():t&&t.code===ne.RESOURCE_EXHAUSTED?(ms(t.toString()),ms("Using maximum backoff delay to prevent overloading the backend."),this.r_.zo()):t&&t.code===ne.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.P_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.po(t)}P_(){}auth(){this.state=1;const e=this.T_(this.Xo),t=this.Xo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,a])=>{this.Xo===t&&this.I_(s,a)},s=>{e(()=>{const a=new ge(ne.UNKNOWN,"Fetching auth token failed: "+s.message);return this.d_(a)})})}I_(e,t){const s=this.T_(this.Xo);this.stream=this.E_(e,t),this.stream.Ro(()=>{s(()=>this.listener.Ro())}),this.stream.mo(()=>{s(()=>(this.state=2,this.t_=this.li.enqueueAfterDelay(this.Zo,1e4,()=>(this.s_()&&(this.state=3),Promise.resolve())),this.listener.mo()))}),this.stream.po(a=>{s(()=>this.d_(a))}),this.stream.onMessage(a=>{s(()=>++this.n_==1?this.A_(a):this.onNext(a))})}o_(){this.state=5,this.r_.jo(async()=>{this.state=0,this.start()})}d_(e){return ce("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}T_(e){return t=>{this.li.enqueueAndForget(()=>this.Xo===e?t():(ce("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class fk extends VA{constructor(e,t,s,a,l,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,s,a,c),this.serializer=l}E_(e,t){return this.connection.qo("Listen",e,t)}A_(e){return this.onNext(e)}onNext(e){this.r_.reset();const t=TP(this.serializer,e),s=function(l){if(!("targetChange"in l))return we.min();const c=l.targetChange;return c.targetIds&&c.targetIds.length?we.min():c.readTime?Si(c.readTime):we.min()}(e);return this.listener.R_(t,s)}V_(e){const t={};t.database=sg(this.serializer),t.addTarget=function(l,c){let d;const m=c.target;if(d=Jp(m)?{documents:SP(l,m)}:{query:AP(l,m).ct},d.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){d.resumeToken=TA(l,c.resumeToken);const p=tg(l,c.expectedCount);p!==null&&(d.expectedCount=p)}else if(c.snapshotVersion.compareTo(we.min())>0){d.readTime=cf(l,c.snapshotVersion.toTimestamp());const p=tg(l,c.expectedCount);p!==null&&(d.expectedCount=p)}return d}(this.serializer,e);const s=RP(this.serializer,e);s&&(t.labels=s),this.c_(t)}m_(e){const t={};t.database=sg(this.serializer),t.removeTarget=e,this.c_(t)}}class dk extends VA{constructor(e,t,s,a,l,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,s,a,c),this.serializer=l}get f_(){return this.n_>0}start(){this.lastStreamToken=void 0,super.start()}P_(){this.f_&&this.g_([])}E_(e,t){return this.connection.qo("Write",e,t)}A_(e){return Ke(!!e.streamToken),this.lastStreamToken=e.streamToken,Ke(!e.writeResults||e.writeResults.length===0),this.listener.p_()}onNext(e){Ke(!!e.streamToken),this.lastStreamToken=e.streamToken,this.r_.reset();const t=wP(e.writeResults,e.commitTime),s=Si(e.commitTime);return this.listener.y_(s,t)}w_(){const e={};e.database=sg(this.serializer),this.c_(e)}g_(e){const t={streamToken:this.lastStreamToken,writes:e.map(s=>bP(this.serializer,s))};this.c_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mk extends class{}{constructor(e,t,s,a){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=s,this.serializer=a,this.S_=!1}b_(){if(this.S_)throw new ge(ne.FAILED_PRECONDITION,"The client has already been terminated.")}Oo(e,t,s,a){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,c])=>this.connection.Oo(e,ng(t,s),a,l,c)).catch(l=>{throw l.name==="FirebaseError"?(l.code===ne.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new ge(ne.UNKNOWN,l.toString())})}ko(e,t,s,a,l){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,d])=>this.connection.ko(e,ng(t,s),a,c,d,l)).catch(c=>{throw c.name==="FirebaseError"?(c.code===ne.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new ge(ne.UNKNOWN,c.toString())})}terminate(){this.S_=!0,this.connection.terminate()}}class pk{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.D_=0,this.v_=null,this.C_=!0}F_(){this.D_===0&&(this.M_("Unknown"),this.v_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.v_=null,this.x_("Backend didn't respond within 10 seconds."),this.M_("Offline"),Promise.resolve())))}O_(e){this.state==="Online"?this.M_("Unknown"):(this.D_++,this.D_>=1&&(this.N_(),this.x_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.M_("Offline")))}set(e){this.N_(),this.D_=0,e==="Online"&&(this.C_=!1),this.M_(e)}M_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}x_(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.C_?(ms(t),this.C_=!1):ce("OnlineStateTracker",t)}N_(){this.v_!==null&&(this.v_.cancel(),this.v_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gk{constructor(e,t,s,a,l){this.localStore=e,this.datastore=t,this.asyncQueue=s,this.remoteSyncer={},this.B_=[],this.L_=new Map,this.k_=new Set,this.q_=[],this.Q_=l,this.Q_.uo(c=>{s.enqueueAndForget(async()=>{wa(this)&&(ce("RemoteStore","Restarting streams for network reachability change."),await async function(m){const p=Ae(m);p.k_.add(4),await Wu(p),p.K_.set("Unknown"),p.k_.delete(4),await Lf(p)}(this))})}),this.K_=new pk(s,a)}}async function Lf(n){if(wa(n))for(const e of n.q_)await e(!0)}async function Wu(n){for(const e of n.q_)await e(!1)}function MA(n,e){const t=Ae(n);t.L_.has(e.targetId)||(t.L_.set(e.targetId,e),vy(t)?yy(t):Xo(t).s_()&&gy(t,e))}function py(n,e){const t=Ae(n),s=Xo(t);t.L_.delete(e),s.s_()&&OA(t,e),t.L_.size===0&&(s.s_()?s.a_():wa(t)&&t.K_.set("Unknown"))}function gy(n,e){if(n.U_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(we.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Xo(n).V_(e)}function OA(n,e){n.U_.xe(e),Xo(n).m_(e)}function yy(n){n.U_=new mP({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),ut:e=>n.L_.get(e)||null,nt:()=>n.datastore.serializer.databaseId}),Xo(n).start(),n.K_.F_()}function vy(n){return wa(n)&&!Xo(n).i_()&&n.L_.size>0}function wa(n){return Ae(n).k_.size===0}function PA(n){n.U_=void 0}async function yk(n){n.K_.set("Online")}async function vk(n){n.L_.forEach((e,t)=>{gy(n,e)})}async function _k(n,e){PA(n),vy(n)?(n.K_.O_(e),yy(n)):n.K_.set("Unknown")}async function Ek(n,e,t){if(n.K_.set("Online"),e instanceof EA&&e.state===2&&e.cause)try{await async function(a,l){const c=l.cause;for(const d of l.targetIds)a.L_.has(d)&&(await a.remoteSyncer.rejectListen(d,c),a.L_.delete(d),a.U_.removeTarget(d))}(n,e)}catch(s){ce("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),s),await ff(n,s)}else if(e instanceof zh?n.U_.$e(e):e instanceof _A?n.U_.Je(e):n.U_.Ge(e),!t.isEqual(we.min()))try{const s=await IA(n.localStore);t.compareTo(s)>=0&&await function(l,c){const d=l.U_.it(c);return d.targetChanges.forEach((m,p)=>{if(m.resumeToken.approximateByteSize()>0){const v=l.L_.get(p);v&&l.L_.set(p,v.withResumeToken(m.resumeToken,c))}}),d.targetMismatches.forEach((m,p)=>{const v=l.L_.get(m);if(!v)return;l.L_.set(m,v.withResumeToken(Yt.EMPTY_BYTE_STRING,v.snapshotVersion)),OA(l,m);const T=new hr(v.target,m,p,v.sequenceNumber);gy(l,T)}),l.remoteSyncer.applyRemoteEvent(d)}(n,t)}catch(s){ce("RemoteStore","Failed to raise snapshot:",s),await ff(n,s)}}async function ff(n,e,t){if(!Qo(e))throw e;n.k_.add(1),await Wu(n),n.K_.set("Offline"),t||(t=()=>IA(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{ce("RemoteStore","Retrying IndexedDB access"),await t(),n.k_.delete(1),await Lf(n)})}function kA(n,e){return e().catch(t=>ff(n,t,e))}async function Uf(n){const e=Ae(n),t=Sr(e);let s=e.B_.length>0?e.B_[e.B_.length-1].batchId:-1;for(;Tk(e);)try{const a=await sk(e.localStore,s);if(a===null){e.B_.length===0&&t.a_();break}s=a.batchId,bk(e,a)}catch(a){await ff(e,a)}LA(e)&&UA(e)}function Tk(n){return wa(n)&&n.B_.length<10}function bk(n,e){n.B_.push(e);const t=Sr(n);t.s_()&&t.f_&&t.g_(e.mutations)}function LA(n){return wa(n)&&!Sr(n).i_()&&n.B_.length>0}function UA(n){Sr(n).start()}async function wk(n){Sr(n).w_()}async function Sk(n){const e=Sr(n);for(const t of n.B_)e.g_(t.mutations)}async function Ak(n,e,t){const s=n.B_.shift(),a=uy.from(s,e,t);await kA(n,()=>n.remoteSyncer.applySuccessfulWrite(a)),await Uf(n)}async function xk(n,e){e&&Sr(n).f_&&await async function(s,a){if(function(c){return hP(c)&&c!==ne.ABORTED}(a.code)){const l=s.B_.shift();Sr(s).__(),await kA(s,()=>s.remoteSyncer.rejectFailedWrite(l.batchId,a)),await Uf(s)}}(n,e),LA(n)&&UA(n)}async function rb(n,e){const t=Ae(n);t.asyncQueue.verifyOperationInProgress(),ce("RemoteStore","RemoteStore received new credentials");const s=wa(t);t.k_.add(3),await Wu(t),s&&t.K_.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.k_.delete(3),await Lf(t)}async function Rk(n,e){const t=Ae(n);e?(t.k_.delete(2),await Lf(t)):e||(t.k_.add(2),await Wu(t),t.K_.set("Unknown"))}function Xo(n){return n.W_||(n.W_=function(t,s,a){const l=Ae(t);return l.b_(),new fk(s,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)}(n.datastore,n.asyncQueue,{Ro:yk.bind(null,n),mo:vk.bind(null,n),po:_k.bind(null,n),R_:Ek.bind(null,n)}),n.q_.push(async e=>{e?(n.W_.__(),vy(n)?yy(n):n.K_.set("Unknown")):(await n.W_.stop(),PA(n))})),n.W_}function Sr(n){return n.G_||(n.G_=function(t,s,a){const l=Ae(t);return l.b_(),new dk(s,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)}(n.datastore,n.asyncQueue,{Ro:()=>Promise.resolve(),mo:wk.bind(null,n),po:xk.bind(null,n),p_:Sk.bind(null,n),y_:Ak.bind(null,n)}),n.q_.push(async e=>{e?(n.G_.__(),await Uf(n)):(await n.G_.stop(),n.B_.length>0&&(ce("RemoteStore",`Stopping write stream with ${n.B_.length} pending writes`),n.B_=[]))})),n.G_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _y{constructor(e,t,s,a,l){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=s,this.op=a,this.removalCallback=l,this.deferred=new hs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(c=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,s,a,l){const c=Date.now()+s,d=new _y(e,t,c,a,l);return d.start(s),d}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ge(ne.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Ey(n,e){if(ms("AsyncQueue",`${e}: ${n}`),Qo(n))return new ge(ne.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xo{static emptySet(e){return new xo(e.comparator)}constructor(e){this.comparator=e?(t,s)=>e(t,s)||ve.comparator(t.key,s.key):(t,s)=>ve.comparator(t.key,s.key),this.keyedMap=fu(),this.sortedSet=new at(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,s)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof xo)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;t.hasNext();){const a=t.getNext().key,l=s.getNext().key;if(!a.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const s=new xo;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=t,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ab{constructor(){this.z_=new at(ve.comparator)}track(e){const t=e.doc.key,s=this.z_.get(t);s?e.type!==0&&s.type===3?this.z_=this.z_.insert(t,e):e.type===3&&s.type!==1?this.z_=this.z_.insert(t,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.z_=this.z_.insert(t,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.z_=this.z_.insert(t,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.z_=this.z_.remove(t):e.type===1&&s.type===2?this.z_=this.z_.insert(t,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.z_=this.z_.insert(t,{type:2,doc:e.doc}):Te():this.z_=this.z_.insert(t,e)}j_(){const e=[];return this.z_.inorderTraversal((t,s)=>{e.push(s)}),e}}class jo{constructor(e,t,s,a,l,c,d,m,p){this.query=e,this.docs=t,this.oldDocs=s,this.docChanges=a,this.mutatedKeys=l,this.fromCache=c,this.syncStateChanged=d,this.excludesMetadataChanges=m,this.hasCachedResults=p}static fromInitialDocuments(e,t,s,a,l){const c=[];return t.forEach(d=>{c.push({type:0,doc:d})}),new jo(e,t,xo.emptySet(t),c,s,a,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Nf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,s=e.docChanges;if(t.length!==s.length)return!1;for(let a=0;a<t.length;a++)if(t[a].type!==s[a].type||!t[a].doc.isEqual(s[a].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ck{constructor(){this.H_=void 0,this.J_=[]}Y_(){return this.J_.some(e=>e.Z_())}}class Dk{constructor(){this.queries=ob(),this.onlineState="Unknown",this.X_=new Set}terminate(){(function(t,s){const a=Ae(t),l=a.queries;a.queries=ob(),l.forEach((c,d)=>{for(const m of d.J_)m.onError(s)})})(this,new ge(ne.ABORTED,"Firestore shutting down"))}}function ob(){return new ba(n=>aA(n),Nf)}async function jA(n,e){const t=Ae(n);let s=3;const a=e.query;let l=t.queries.get(a);l?!l.Y_()&&e.Z_()&&(s=2):(l=new Ck,s=e.Z_()?0:1);try{switch(s){case 0:l.H_=await t.onListen(a,!0);break;case 1:l.H_=await t.onListen(a,!1);break;case 2:await t.onFirstRemoteStoreListen(a)}}catch(c){const d=Ey(c,`Initialization of query '${go(e.query)}' failed`);return void e.onError(d)}t.queries.set(a,l),l.J_.push(e),e.ea(t.onlineState),l.H_&&e.ta(l.H_)&&Ty(t)}async function BA(n,e){const t=Ae(n),s=e.query;let a=3;const l=t.queries.get(s);if(l){const c=l.J_.indexOf(e);c>=0&&(l.J_.splice(c,1),l.J_.length===0?a=e.Z_()?0:1:!l.Y_()&&e.Z_()&&(a=2))}switch(a){case 0:return t.queries.delete(s),t.onUnlisten(s,!0);case 1:return t.queries.delete(s),t.onUnlisten(s,!1);case 2:return t.onLastRemoteStoreUnlisten(s);default:return}}function Ik(n,e){const t=Ae(n);let s=!1;for(const a of e){const l=a.query,c=t.queries.get(l);if(c){for(const d of c.J_)d.ta(a)&&(s=!0);c.H_=a}}s&&Ty(t)}function Nk(n,e,t){const s=Ae(n),a=s.queries.get(e);if(a)for(const l of a.J_)l.onError(t);s.queries.delete(e)}function Ty(n){n.X_.forEach(e=>{e.next()})}var ag,lb;(lb=ag||(ag={})).na="default",lb.Cache="cache";class FA{constructor(e,t,s){this.query=e,this.ra=t,this.ia=!1,this.sa=null,this.onlineState="Unknown",this.options=s||{}}ta(e){if(!this.options.includeMetadataChanges){const s=[];for(const a of e.docChanges)a.type!==3&&s.push(a);e=new jo(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.ia?this.oa(e)&&(this.ra.next(e),t=!0):this._a(e,this.onlineState)&&(this.aa(e),t=!0),this.sa=e,t}onError(e){this.ra.error(e)}ea(e){this.onlineState=e;let t=!1;return this.sa&&!this.ia&&this._a(this.sa,e)&&(this.aa(this.sa),t=!0),t}_a(e,t){if(!e.fromCache||!this.Z_())return!0;const s=t!=="Offline";return(!this.options.ua||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}oa(e){if(e.docChanges.length>0)return!0;const t=this.sa&&this.sa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}aa(e){e=jo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ia=!0,this.ra.next(e)}Z_(){return this.options.source!==ag.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zA{constructor(e){this.key=e}}class HA{constructor(e){this.key=e}}class Vk{constructor(e,t){this.query=e,this.Ea=t,this.Aa=null,this.hasCachedResults=!1,this.current=!1,this.Ra=Me(),this.mutatedKeys=Me(),this.Va=oA(e),this.ma=new xo(this.Va)}get fa(){return this.Ea}ga(e,t){const s=t?t.pa:new ab,a=t?t.ma:this.ma;let l=t?t.mutatedKeys:this.mutatedKeys,c=a,d=!1;const m=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,p=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal((v,T)=>{const b=a.get(v),x=Vf(this.query,T)?T:null,D=!!b&&this.mutatedKeys.has(b.key),L=!!x&&(x.hasLocalMutations||this.mutatedKeys.has(x.key)&&x.hasCommittedMutations);let P=!1;b&&x?b.data.isEqual(x.data)?D!==L&&(s.track({type:3,doc:x}),P=!0):this.ya(b,x)||(s.track({type:2,doc:x}),P=!0,(m&&this.Va(x,m)>0||p&&this.Va(x,p)<0)&&(d=!0)):!b&&x?(s.track({type:0,doc:x}),P=!0):b&&!x&&(s.track({type:1,doc:b}),P=!0,(m||p)&&(d=!0)),P&&(x?(c=c.add(x),l=L?l.add(v):l.delete(v)):(c=c.delete(v),l=l.delete(v)))}),this.query.limit!==null)for(;c.size>this.query.limit;){const v=this.query.limitType==="F"?c.last():c.first();c=c.delete(v.key),l=l.delete(v.key),s.track({type:1,doc:v})}return{ma:c,pa:s,ss:d,mutatedKeys:l}}ya(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,s,a){const l=this.ma;this.ma=e.ma,this.mutatedKeys=e.mutatedKeys;const c=e.pa.j_();c.sort((v,T)=>function(x,D){const L=P=>{switch(P){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Te()}};return L(x)-L(D)}(v.type,T.type)||this.Va(v.doc,T.doc)),this.wa(s),a=a!=null&&a;const d=t&&!a?this.Sa():[],m=this.Ra.size===0&&this.current&&!a?1:0,p=m!==this.Aa;return this.Aa=m,c.length!==0||p?{snapshot:new jo(this.query,e.ma,l,c,e.mutatedKeys,m===0,p,!1,!!s&&s.resumeToken.approximateByteSize()>0),ba:d}:{ba:d}}ea(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({ma:this.ma,pa:new ab,mutatedKeys:this.mutatedKeys,ss:!1},!1)):{ba:[]}}Da(e){return!this.Ea.has(e)&&!!this.ma.has(e)&&!this.ma.get(e).hasLocalMutations}wa(e){e&&(e.addedDocuments.forEach(t=>this.Ea=this.Ea.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ea=this.Ea.delete(t)),this.current=e.current)}Sa(){if(!this.current)return[];const e=this.Ra;this.Ra=Me(),this.ma.forEach(s=>{this.Da(s.key)&&(this.Ra=this.Ra.add(s.key))});const t=[];return e.forEach(s=>{this.Ra.has(s)||t.push(new HA(s))}),this.Ra.forEach(s=>{e.has(s)||t.push(new zA(s))}),t}va(e){this.Ea=e.Es,this.Ra=Me();const t=this.ga(e.documents);return this.applyChanges(t,!0)}Ca(){return jo.fromInitialDocuments(this.query,this.ma,this.mutatedKeys,this.Aa===0,this.hasCachedResults)}}class Mk{constructor(e,t,s){this.query=e,this.targetId=t,this.view=s}}class Ok{constructor(e){this.key=e,this.Fa=!1}}class Pk{constructor(e,t,s,a,l,c){this.localStore=e,this.remoteStore=t,this.eventManager=s,this.sharedClientState=a,this.currentUser=l,this.maxConcurrentLimboResolutions=c,this.Ma={},this.xa=new ba(d=>aA(d),Nf),this.Oa=new Map,this.Na=new Set,this.Ba=new at(ve.comparator),this.La=new Map,this.ka=new fy,this.qa={},this.Qa=new Map,this.Ka=Uo.Qn(),this.onlineState="Unknown",this.$a=void 0}get isPrimaryClient(){return this.$a===!0}}async function kk(n,e,t=!0){const s=QA(n);let a;const l=s.xa.get(e);return l?(s.sharedClientState.addLocalQueryTarget(l.targetId),a=l.view.Ca()):a=await qA(s,e,t,!0),a}async function Lk(n,e){const t=QA(n);await qA(t,e,!0,!1)}async function qA(n,e,t,s){const a=await rk(n.localStore,wi(e)),l=a.targetId,c=n.sharedClientState.addLocalQueryTarget(l,t);let d;return s&&(d=await Uk(n,e,l,c==="current",a.resumeToken)),n.isPrimaryClient&&t&&MA(n.remoteStore,a),d}async function Uk(n,e,t,s,a){n.Ua=(T,b,x)=>async function(L,P,B,Q){let Y=P.view.ga(B);Y.ss&&(Y=await nb(L.localStore,P.query,!1).then(({documents:O})=>P.view.ga(O,Y)));const ae=Q&&Q.targetChanges.get(P.targetId),G=Q&&Q.targetMismatches.get(P.targetId)!=null,se=P.view.applyChanges(Y,L.isPrimaryClient,ae,G);return cb(L,P.targetId,se.ba),se.snapshot}(n,T,b,x);const l=await nb(n.localStore,e,!0),c=new Vk(e,l.Es),d=c.ga(l.documents),m=Xu.createSynthesizedTargetChangeForCurrentChange(t,s&&n.onlineState!=="Offline",a),p=c.applyChanges(d,n.isPrimaryClient,m);cb(n,t,p.ba);const v=new Mk(e,t,c);return n.xa.set(e,v),n.Oa.has(t)?n.Oa.get(t).push(e):n.Oa.set(t,[e]),p.snapshot}async function jk(n,e,t){const s=Ae(n),a=s.xa.get(e),l=s.Oa.get(a.targetId);if(l.length>1)return s.Oa.set(a.targetId,l.filter(c=>!Nf(c,e))),void s.xa.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(a.targetId),s.sharedClientState.isActiveQueryTarget(a.targetId)||await rg(s.localStore,a.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(a.targetId),t&&py(s.remoteStore,a.targetId),og(s,a.targetId)}).catch(Yo)):(og(s,a.targetId),await rg(s.localStore,a.targetId,!0))}async function Bk(n,e){const t=Ae(n),s=t.xa.get(e),a=t.Oa.get(s.targetId);t.isPrimaryClient&&a.length===1&&(t.sharedClientState.removeLocalQueryTarget(s.targetId),py(t.remoteStore,s.targetId))}async function Fk(n,e,t){const s=Yk(n);try{const a=await function(c,d){const m=Ae(c),p=Nt.now(),v=d.reduce((x,D)=>x.add(D.key),Me());let T,b;return m.persistence.runTransaction("Locally write mutations","readwrite",x=>{let D=ps(),L=Me();return m.hs.getEntries(x,v).next(P=>{D=P,D.forEach((B,Q)=>{Q.isValidDocument()||(L=L.add(B))})}).next(()=>m.localDocuments.getOverlayedDocuments(x,D)).next(P=>{T=P;const B=[];for(const Q of d){const Y=aP(Q,T.get(Q.key).overlayedDocument);Y!=null&&B.push(new Rr(Q.key,Y,JS(Y.value.mapValue),ii.exists(!0)))}return m.mutationQueue.addMutationBatch(x,p,B,d)}).next(P=>{b=P;const B=P.applyToLocalDocumentSet(T,L);return m.documentOverlayCache.saveOverlays(x,P.batchId,B)})}).then(()=>({batchId:b.batchId,changes:uA(T)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(a.batchId),function(c,d,m){let p=c.qa[c.currentUser.toKey()];p||(p=new at(Pe)),p=p.insert(d,m),c.qa[c.currentUser.toKey()]=p}(s,a.batchId,t),await Zu(s,a.changes),await Uf(s.remoteStore)}catch(a){const l=Ey(a,"Failed to persist write");t.reject(l)}}async function GA(n,e){const t=Ae(n);try{const s=await nk(t.localStore,e);e.targetChanges.forEach((a,l)=>{const c=t.La.get(l);c&&(Ke(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1),a.addedDocuments.size>0?c.Fa=!0:a.modifiedDocuments.size>0?Ke(c.Fa):a.removedDocuments.size>0&&(Ke(c.Fa),c.Fa=!1))}),await Zu(t,s,e)}catch(s){await Yo(s)}}function ub(n,e,t){const s=Ae(n);if(s.isPrimaryClient&&t===0||!s.isPrimaryClient&&t===1){const a=[];s.xa.forEach((l,c)=>{const d=c.view.ea(e);d.snapshot&&a.push(d.snapshot)}),function(c,d){const m=Ae(c);m.onlineState=d;let p=!1;m.queries.forEach((v,T)=>{for(const b of T.J_)b.ea(d)&&(p=!0)}),p&&Ty(m)}(s.eventManager,e),a.length&&s.Ma.R_(a),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function zk(n,e,t){const s=Ae(n);s.sharedClientState.updateQueryState(e,"rejected",t);const a=s.La.get(e),l=a&&a.key;if(l){let c=new at(ve.comparator);c=c.insert(l,tn.newNoDocument(l,we.min()));const d=Me().add(l),m=new Pf(we.min(),new Map,new at(Pe),c,d);await GA(s,m),s.Ba=s.Ba.remove(l),s.La.delete(e),by(s)}else await rg(s.localStore,e,!1).then(()=>og(s,e,t)).catch(Yo)}async function Hk(n,e){const t=Ae(n),s=e.batch.batchId;try{const a=await tk(t.localStore,e);$A(t,s,null),KA(t,s),t.sharedClientState.updateMutationState(s,"acknowledged"),await Zu(t,a)}catch(a){await Yo(a)}}async function qk(n,e,t){const s=Ae(n);try{const a=await function(c,d){const m=Ae(c);return m.persistence.runTransaction("Reject batch","readwrite-primary",p=>{let v;return m.mutationQueue.lookupMutationBatch(p,d).next(T=>(Ke(T!==null),v=T.keys(),m.mutationQueue.removeMutationBatch(p,T))).next(()=>m.mutationQueue.performConsistencyCheck(p)).next(()=>m.documentOverlayCache.removeOverlaysForBatchId(p,v,d)).next(()=>m.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,v)).next(()=>m.localDocuments.getDocuments(p,v))})}(s.localStore,e);$A(s,e,t),KA(s,e),s.sharedClientState.updateMutationState(e,"rejected",t),await Zu(s,a)}catch(a){await Yo(a)}}function KA(n,e){(n.Qa.get(e)||[]).forEach(t=>{t.resolve()}),n.Qa.delete(e)}function $A(n,e,t){const s=Ae(n);let a=s.qa[s.currentUser.toKey()];if(a){const l=a.get(e);l&&(t?l.reject(t):l.resolve(),a=a.remove(e)),s.qa[s.currentUser.toKey()]=a}}function og(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const s of n.Oa.get(e))n.xa.delete(s),t&&n.Ma.Wa(s,t);n.Oa.delete(e),n.isPrimaryClient&&n.ka.yr(e).forEach(s=>{n.ka.containsKey(s)||YA(n,s)})}function YA(n,e){n.Na.delete(e.path.canonicalString());const t=n.Ba.get(e);t!==null&&(py(n.remoteStore,t),n.Ba=n.Ba.remove(e),n.La.delete(t),by(n))}function cb(n,e,t){for(const s of t)s instanceof zA?(n.ka.addReference(s.key,e),Gk(n,s)):s instanceof HA?(ce("SyncEngine","Document no longer in limbo: "+s.key),n.ka.removeReference(s.key,e),n.ka.containsKey(s.key)||YA(n,s.key)):Te()}function Gk(n,e){const t=e.key,s=t.path.canonicalString();n.Ba.get(t)||n.Na.has(s)||(ce("SyncEngine","New document in limbo: "+t),n.Na.add(s),by(n))}function by(n){for(;n.Na.size>0&&n.Ba.size<n.maxConcurrentLimboResolutions;){const e=n.Na.values().next().value;n.Na.delete(e);const t=new ve(et.fromString(e)),s=n.Ka.next();n.La.set(s,new Ok(t)),n.Ba=n.Ba.insert(t,s),MA(n.remoteStore,new hr(wi(ay(t.path)),s,"TargetPurposeLimboResolution",Rf.oe))}}async function Zu(n,e,t){const s=Ae(n),a=[],l=[],c=[];s.xa.isEmpty()||(s.xa.forEach((d,m)=>{c.push(s.Ua(m,e,t).then(p=>{var v;if((p||t)&&s.isPrimaryClient){const T=p?!p.fromCache:(v=t==null?void 0:t.targetChanges.get(m.targetId))===null||v===void 0?void 0:v.current;s.sharedClientState.updateQueryState(m.targetId,T?"current":"not-current")}if(p){a.push(p);const T=my.zi(m.targetId,p);l.push(T)}}))}),await Promise.all(c),s.Ma.R_(a),await async function(m,p){const v=Ae(m);try{await v.persistence.runTransaction("notifyLocalViewChanges","readwrite",T=>ee.forEach(p,b=>ee.forEach(b.Wi,x=>v.persistence.referenceDelegate.addReference(T,b.targetId,x)).next(()=>ee.forEach(b.Gi,x=>v.persistence.referenceDelegate.removeReference(T,b.targetId,x)))))}catch(T){if(!Qo(T))throw T;ce("LocalStore","Failed to update sequence numbers: "+T)}for(const T of p){const b=T.targetId;if(!T.fromCache){const x=v.us.get(b),D=x.snapshotVersion,L=x.withLastLimboFreeSnapshotVersion(D);v.us=v.us.insert(b,L)}}}(s.localStore,l))}async function Kk(n,e){const t=Ae(n);if(!t.currentUser.isEqual(e)){ce("SyncEngine","User change. New user:",e.toKey());const s=await DA(t.localStore,e);t.currentUser=e,function(l,c){l.Qa.forEach(d=>{d.forEach(m=>{m.reject(new ge(ne.CANCELLED,c))})}),l.Qa.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await Zu(t,s.Ts)}}function $k(n,e){const t=Ae(n),s=t.La.get(e);if(s&&s.Fa)return Me().add(s.key);{let a=Me();const l=t.Oa.get(e);if(!l)return a;for(const c of l){const d=t.xa.get(c);a=a.unionWith(d.view.fa)}return a}}function QA(n){const e=Ae(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=GA.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=$k.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=zk.bind(null,e),e.Ma.R_=Ik.bind(null,e.eventManager),e.Ma.Wa=Nk.bind(null,e.eventManager),e}function Yk(n){const e=Ae(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Hk.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=qk.bind(null,e),e}class df{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=kf(e.databaseInfo.databaseId),this.sharedClientState=this.za(e),this.persistence=this.ja(e),await this.persistence.start(),this.localStore=this.Ha(e),this.gcScheduler=this.Ja(e,this.localStore),this.indexBackfillerScheduler=this.Ya(e,this.localStore)}Ja(e,t){return null}Ya(e,t){return null}Ha(e){return ek(this.persistence,new ZP,e.initialUser,this.serializer)}ja(e){return new CA(dy.ei,this.serializer)}za(e){return new ok}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}df.provider={build:()=>new df};class Qk extends df{constructor(e){super(),this.cacheSizeBytes=e}Ja(e,t){Ke(this.persistence.referenceDelegate instanceof hf);const s=this.persistence.referenceDelegate.garbageCollector;return new LP(s,e.asyncQueue,t)}ja(e){const t=this.cacheSizeBytes!==void 0?pn.withCacheSize(this.cacheSizeBytes):pn.DEFAULT;return new CA(s=>hf.ei(s,t),this.serializer)}}class lg{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>ub(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=Kk.bind(null,this.syncEngine),await Rk(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new Dk}()}createDatastore(e){const t=kf(e.databaseInfo.databaseId),s=function(l){return new hk(l)}(e.databaseInfo);return function(l,c,d,m){return new mk(l,c,d,m)}(e.authCredentials,e.appCheckCredentials,s,t)}createRemoteStore(e){return function(s,a,l,c,d){return new gk(s,a,l,c,d)}(this.localStore,this.datastore,e.asyncQueue,t=>ub(this.syncEngine,t,0),function(){return sb.p()?new sb:new lk}())}createSyncEngine(e,t){return function(a,l,c,d,m,p,v){const T=new Pk(a,l,c,d,m,p);return v&&(T.$a=!0),T}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(a){const l=Ae(a);ce("RemoteStore","RemoteStore shutting down."),l.k_.add(5),await Wu(l),l.Q_.shutdown(),l.K_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}lg.provider={build:()=>new lg};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XA{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Xa(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Xa(this.observer.error,e):ms("Uncaught Error in snapshot listener:",e.toString()))}eu(){this.muted=!0}Xa(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xk{constructor(e,t,s,a,l){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=s,this.databaseInfo=a,this.user=en.UNAUTHENTICATED,this.clientId=XS.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(s,async c=>{ce("FirestoreClient","Received user=",c.uid),await this.authCredentialListener(c),this.user=c}),this.appCheckCredentials.start(s,c=>(ce("FirestoreClient","Received new app check token=",c),this.appCheckCredentialListener(c,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new hs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const s=Ey(t,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function vp(n,e){n.asyncQueue.verifyOperationInProgress(),ce("FirestoreClient","Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let s=t.initialUser;n.setCredentialChangeListener(async a=>{s.isEqual(a)||(await DA(e.localStore,a),s=a)}),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}async function hb(n,e){n.asyncQueue.verifyOperationInProgress();const t=await Wk(n);ce("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(s=>rb(e.remoteStore,s)),n.setAppCheckTokenChangeListener((s,a)=>rb(e.remoteStore,a)),n._onlineComponents=e}async function Wk(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){ce("FirestoreClient","Using user provided OfflineComponentProvider");try{await vp(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(a){return a.name==="FirebaseError"?a.code===ne.FAILED_PRECONDITION||a.code===ne.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11}(t))throw t;Oo("Error using user provided cache. Falling back to memory cache: "+t),await vp(n,new df)}}else ce("FirestoreClient","Using default OfflineComponentProvider"),await vp(n,new Qk(void 0));return n._offlineComponents}async function WA(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(ce("FirestoreClient","Using user provided OnlineComponentProvider"),await hb(n,n._uninitializedComponentsProvider._online)):(ce("FirestoreClient","Using default OnlineComponentProvider"),await hb(n,new lg))),n._onlineComponents}function Zk(n){return WA(n).then(e=>e.syncEngine)}async function ZA(n){const e=await WA(n),t=e.eventManager;return t.onListen=kk.bind(null,e.syncEngine),t.onUnlisten=jk.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=Lk.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=Bk.bind(null,e.syncEngine),t}function Jk(n,e,t={}){const s=new hs;return n.asyncQueue.enqueueAndForget(async()=>function(l,c,d,m,p){const v=new XA({next:b=>{v.eu(),c.enqueueAndForget(()=>BA(l,T));const x=b.docs.has(d);!x&&b.fromCache?p.reject(new ge(ne.UNAVAILABLE,"Failed to get document because the client is offline.")):x&&b.fromCache&&m&&m.source==="server"?p.reject(new ge(ne.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(b)},error:b=>p.reject(b)}),T=new FA(ay(d.path),v,{includeMetadataChanges:!0,ua:!0});return jA(l,T)}(await ZA(n),n.asyncQueue,e,t,s)),s.promise}function eL(n,e,t={}){const s=new hs;return n.asyncQueue.enqueueAndForget(async()=>function(l,c,d,m,p){const v=new XA({next:b=>{v.eu(),c.enqueueAndForget(()=>BA(l,T)),b.fromCache&&m.source==="server"?p.reject(new ge(ne.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(b)},error:b=>p.reject(b)}),T=new FA(d,v,{includeMetadataChanges:!0,ua:!0});return jA(l,T)}(await ZA(n),n.asyncQueue,e,t,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JA(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fb=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ex(n,e,t){if(!t)throw new ge(ne.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function tL(n,e,t,s){if(e===!0&&s===!0)throw new ge(ne.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function db(n){if(!ve.isDocumentKey(n))throw new ge(ne.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function mb(n){if(ve.isDocumentKey(n))throw new ge(ne.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function wy(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=function(s){return s.constructor?s.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Te()}function gs(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new ge(ne.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=wy(n);throw new ge(ne.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pb{constructor(e){var t,s;if(e.host===void 0){if(e.ssl!==void 0)throw new ge(ne.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(t=e.ssl)===null||t===void 0||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new ge(ne.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}tL("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=JA((s=e.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(l){if(l.timeoutSeconds!==void 0){if(isNaN(l.timeoutSeconds))throw new ge(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (must not be NaN)`);if(l.timeoutSeconds<5)throw new ge(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (minimum allowed value is 5)`);if(l.timeoutSeconds>30)throw new ge(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(s,a){return s.timeoutSeconds===a.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class jf{constructor(e,t,s,a){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=s,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new pb({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ge(ne.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ge(ne.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new pb(e),e.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new fO;switch(s.type){case"firstParty":return new gO(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new ge(ne.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const s=fb.get(t);s&&(ce("ComponentProvider","Removing Datastore"),fb.delete(t),s.terminate())}(this),Promise.resolve()}}function nL(n,e,t,s={}){var a;const l=(n=gs(n,jf))._getSettings(),c=`${e}:${t}`;if(l.host!=="firestore.googleapis.com"&&l.host!==c&&Oo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},l),{host:c,ssl:!1})),s.mockUserToken){let d,m;if(typeof s.mockUserToken=="string")d=s.mockUserToken,m=en.MOCK_USER;else{d=zV(s.mockUserToken,(a=n._app)===null||a===void 0?void 0:a.options.projectId);const p=s.mockUserToken.sub||s.mockUserToken.user_id;if(!p)throw new ge(ne.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");m=new en(p)}n._authCredentials=new dO(new QS(d,m))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bf{constructor(e,t,s){this.converter=t,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Bf(this.firestore,e,this._query)}}class Cn{constructor(e,t,s){this.converter=t,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new gr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Cn(this.firestore,e,this._key)}}class gr extends Bf{constructor(e,t,s){super(e,t,ay(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Cn(this.firestore,null,new ve(e))}withConverter(e){return new gr(this.firestore,e,this._path)}}function gb(n,e,...t){if(n=vn(n),ex("collection","path",e),n instanceof jf){const s=et.fromString(e,...t);return mb(s),new gr(n,null,s)}{if(!(n instanceof Cn||n instanceof gr))throw new ge(ne.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=n._path.child(et.fromString(e,...t));return mb(s),new gr(n.firestore,null,s)}}function _o(n,e,...t){if(n=vn(n),arguments.length===1&&(e=XS.newId()),ex("doc","path",e),n instanceof jf){const s=et.fromString(e,...t);return db(s),new Cn(n,null,new ve(s))}{if(!(n instanceof Cn||n instanceof gr))throw new ge(ne.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=n._path.child(et.fromString(e,...t));return db(s),new Cn(n.firestore,n instanceof gr?n.converter:null,new ve(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yb{constructor(e=Promise.resolve()){this.Iu=[],this.du=!1,this.Eu=[],this.Au=null,this.Ru=!1,this.Vu=!1,this.mu=[],this.r_=new NA(this,"async_queue_retry"),this.fu=()=>{const s=yp();s&&ce("AsyncQueue","Visibility state changed to "+s.visibilityState),this.r_.Jo()},this.gu=e;const t=yp();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.fu)}get isShuttingDown(){return this.du}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.pu(),this.yu(e)}enterRestrictedMode(e){if(!this.du){this.du=!0,this.Vu=e||!1;const t=yp();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.fu)}}enqueue(e){if(this.pu(),this.du)return new Promise(()=>{});const t=new hs;return this.yu(()=>this.du&&this.Vu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Iu.push(e),this.wu()))}async wu(){if(this.Iu.length!==0){try{await this.Iu[0](),this.Iu.shift(),this.r_.reset()}catch(e){if(!Qo(e))throw e;ce("AsyncQueue","Operation failed with retryable error: "+e)}this.Iu.length>0&&this.r_.jo(()=>this.wu())}}yu(e){const t=this.gu.then(()=>(this.Ru=!0,e().catch(s=>{this.Au=s,this.Ru=!1;const a=function(c){let d=c.message||"";return c.stack&&(d=c.stack.includes(c.message)?c.stack:c.message+`
`+c.stack),d}(s);throw ms("INTERNAL UNHANDLED ERROR: ",a),s}).then(s=>(this.Ru=!1,s))));return this.gu=t,t}enqueueAfterDelay(e,t,s){this.pu(),this.mu.indexOf(e)>-1&&(t=0);const a=_y.createAndSchedule(this,e,t,s,l=>this.Su(l));return this.Eu.push(a),a}pu(){this.Au&&Te()}verifyOperationInProgress(){}async bu(){let e;do e=this.gu,await e;while(e!==this.gu)}Du(e){for(const t of this.Eu)if(t.timerId===e)return!0;return!1}vu(e){return this.bu().then(()=>{this.Eu.sort((t,s)=>t.targetTimeMs-s.targetTimeMs);for(const t of this.Eu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.bu()})}Cu(e){this.mu.push(e)}Su(e){const t=this.Eu.indexOf(e);this.Eu.splice(t,1)}}class Wo extends jf{constructor(e,t,s,a){super(e,t,s,a),this.type="firestore",this._queue=new yb,this._persistenceKey=(a==null?void 0:a.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new yb(e),this._firestoreClient=void 0,await e}}}function iL(n,e){const t=typeof n=="object"?n:BS(),s=typeof n=="string"?n:"(default)",a=ey(t,"firestore").getImmediate({identifier:s});if(!a._initialized){const l=BV("firestore");l&&nL(a,...l)}return a}function Sy(n){if(n._terminated)throw new ge(ne.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||sL(n),n._firestoreClient}function sL(n){var e,t,s;const a=n._freezeSettings(),l=function(d,m,p,v){return new NO(d,m,p,v.host,v.ssl,v.experimentalForceLongPolling,v.experimentalAutoDetectLongPolling,JA(v.experimentalLongPollingOptions),v.useFetchStreams)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,a);n._componentsProvider||!((t=a.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((s=a.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(n._componentsProvider={_offline:a.localCache._offlineComponentProvider,_online:a.localCache._onlineComponentProvider}),n._firestoreClient=new Xk(n._authCredentials,n._appCheckCredentials,n._queue,l,n._componentsProvider&&function(d){const m=d==null?void 0:d._online.build();return{_offline:d==null?void 0:d._offline.build(m),_online:m}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bo{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Bo(Yt.fromBase64String(e))}catch(t){throw new ge(ne.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Bo(Yt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ff{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new ge(ne.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new $t(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ay{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xy{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new ge(ne.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new ge(ne.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Pe(this._lat,e._lat)||Pe(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ry{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(s,a){if(s.length!==a.length)return!1;for(let l=0;l<s.length;++l)if(s[l]!==a[l])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rL=/^__.*__$/;class aL{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return this.fieldMask!==null?new Rr(e,this.data,this.fieldMask,t,this.fieldTransforms):new Qu(e,this.data,t,this.fieldTransforms)}}class tx{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return new Rr(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function nx(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Te()}}class Cy{constructor(e,t,s,a,l,c){this.settings=e,this.databaseId=t,this.serializer=s,this.ignoreUndefinedProperties=a,l===void 0&&this.Fu(),this.fieldTransforms=l||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Mu(){return this.settings.Mu}xu(e){return new Cy(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ou(e){var t;const s=(t=this.path)===null||t===void 0?void 0:t.child(e),a=this.xu({path:s,Nu:!1});return a.Bu(e),a}Lu(e){var t;const s=(t=this.path)===null||t===void 0?void 0:t.child(e),a=this.xu({path:s,Nu:!1});return a.Fu(),a}ku(e){return this.xu({path:void 0,Nu:!0})}qu(e){return mf(e,this.settings.methodName,this.settings.Qu||!1,this.path,this.settings.Ku)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Fu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Bu(this.path.get(e))}Bu(e){if(e.length===0)throw this.qu("Document fields must not be empty");if(nx(this.Mu)&&rL.test(e))throw this.qu('Document fields cannot begin and end with "__"')}}class oL{constructor(e,t,s){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=s||kf(e)}$u(e,t,s,a=!1){return new Cy({Mu:e,methodName:t,Ku:s,path:$t.emptyPath(),Nu:!1,Qu:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function ix(n){const e=n._freezeSettings(),t=kf(n._databaseId);return new oL(n._databaseId,!!e.ignoreUndefinedProperties,t)}function lL(n,e,t,s,a,l={}){const c=n.$u(l.merge||l.mergeFields?2:0,e,t,a);Dy("Data must be an object, but it was:",c,s);const d=sx(s,c);let m,p;if(l.merge)m=new xn(c.fieldMask),p=c.fieldTransforms;else if(l.mergeFields){const v=[];for(const T of l.mergeFields){const b=ug(e,T,t);if(!c.contains(b))throw new ge(ne.INVALID_ARGUMENT,`Field '${b}' is specified in your field mask but missing from your input data.`);ax(v,b)||v.push(b)}m=new xn(v),p=c.fieldTransforms.filter(T=>m.covers(T.field))}else m=null,p=c.fieldTransforms;return new aL(new yn(d),m,p)}class zf extends Ay{_toFieldTransform(e){if(e.Mu!==2)throw e.Mu===1?e.qu(`${this._methodName}() can only appear at the top level of your update data`):e.qu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof zf}}function uL(n,e,t,s){const a=n.$u(1,e,t);Dy("Data must be an object, but it was:",a,s);const l=[],c=yn.empty();xr(s,(m,p)=>{const v=Iy(e,m,t);p=vn(p);const T=a.Lu(v);if(p instanceof zf)l.push(v);else{const b=Hf(p,T);b!=null&&(l.push(v),c.set(v,b))}});const d=new xn(l);return new tx(c,d,a.fieldTransforms)}function cL(n,e,t,s,a,l){const c=n.$u(1,e,t),d=[ug(e,s,t)],m=[a];if(l.length%2!=0)throw new ge(ne.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let b=0;b<l.length;b+=2)d.push(ug(e,l[b])),m.push(l[b+1]);const p=[],v=yn.empty();for(let b=d.length-1;b>=0;--b)if(!ax(p,d[b])){const x=d[b];let D=m[b];D=vn(D);const L=c.Lu(x);if(D instanceof zf)p.push(x);else{const P=Hf(D,L);P!=null&&(p.push(x),v.set(x,P))}}const T=new xn(p);return new tx(v,T,c.fieldTransforms)}function Hf(n,e){if(rx(n=vn(n)))return Dy("Unsupported field value:",e,n),sx(n,e);if(n instanceof Ay)return function(s,a){if(!nx(a.Mu))throw a.qu(`${s._methodName}() can only be used with update() and set()`);if(!a.path)throw a.qu(`${s._methodName}() is not currently supported inside arrays`);const l=s._toFieldTransform(a);l&&a.fieldTransforms.push(l)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.Nu&&e.Mu!==4)throw e.qu("Nested arrays are not supported");return function(s,a){const l=[];let c=0;for(const d of s){let m=Hf(d,a.ku(c));m==null&&(m={nullValue:"NULL_VALUE"}),l.push(m),c++}return{arrayValue:{values:l}}}(n,e)}return function(s,a){if((s=vn(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return eP(a.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const l=Nt.fromDate(s);return{timestampValue:cf(a.serializer,l)}}if(s instanceof Nt){const l=new Nt(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:cf(a.serializer,l)}}if(s instanceof xy)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Bo)return{bytesValue:TA(a.serializer,s._byteString)};if(s instanceof Cn){const l=a.databaseId,c=s.firestore._databaseId;if(!c.isEqual(l))throw a.qu(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:hy(s.firestore._databaseId||a.databaseId,s._key.path)}}if(s instanceof Ry)return function(c,d){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:c.toArray().map(m=>{if(typeof m!="number")throw d.qu("VectorValues must only contain numeric values.");return oy(d.serializer,m)})}}}}}}(s,a);throw a.qu(`Unsupported field value: ${wy(s)}`)}(n,e)}function sx(n,e){const t={};return WS(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):xr(n,(s,a)=>{const l=Hf(a,e.Ou(s));l!=null&&(t[s]=l)}),{mapValue:{fields:t}}}function rx(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof Nt||n instanceof xy||n instanceof Bo||n instanceof Cn||n instanceof Ay||n instanceof Ry)}function Dy(n,e,t){if(!rx(t)||!function(a){return typeof a=="object"&&a!==null&&(Object.getPrototypeOf(a)===Object.prototype||Object.getPrototypeOf(a)===null)}(t)){const s=wy(t);throw s==="an object"?e.qu(n+" a custom object"):e.qu(n+" "+s)}}function ug(n,e,t){if((e=vn(e))instanceof Ff)return e._internalPath;if(typeof e=="string")return Iy(n,e);throw mf("Field path arguments must be of type string or ",n,!1,void 0,t)}const hL=new RegExp("[~\\*/\\[\\]]");function Iy(n,e,t){if(e.search(hL)>=0)throw mf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Ff(...e.split("."))._internalPath}catch{throw mf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function mf(n,e,t,s,a){const l=s&&!s.isEmpty(),c=a!==void 0;let d=`Function ${e}() called with invalid data`;t&&(d+=" (via `toFirestore()`)"),d+=". ";let m="";return(l||c)&&(m+=" (found",l&&(m+=` in field ${s}`),c&&(m+=` in document ${a}`),m+=")"),new ge(ne.INVALID_ARGUMENT,d+n+m)}function ax(n,e){return n.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ox{constructor(e,t,s,a,l){this._firestore=e,this._userDataWriter=t,this._key=s,this._document=a,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new Cn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new fL(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(lx("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class fL extends ox{data(){return super.data()}}function lx(n,e){return typeof e=="string"?Iy(n,e):e instanceof Ff?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dL(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new ge(ne.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class mL{convertValue(e,t="none"){switch(wr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return vt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(br(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Te()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const s={};return xr(e,(a,l)=>{s[a]=this.convertValue(l,t)}),s}convertVectorValue(e){var t,s,a;const l=(a=(s=(t=e.fields)===null||t===void 0?void 0:t.value.arrayValue)===null||s===void 0?void 0:s.values)===null||a===void 0?void 0:a.map(c=>vt(c.doubleValue));return new Ry(l)}convertGeoPoint(e){return new xy(vt(e.latitude),vt(e.longitude))}convertArray(e,t){return(e.values||[]).map(s=>this.convertValue(s,t))}convertServerTimestamp(e,t){switch(t){case"previous":const s=Df(e);return s==null?null:this.convertValue(s,t);case"estimate":return this.convertTimestamp(Mu(e));default:return null}}convertTimestamp(e){const t=Tr(e);return new Nt(t.seconds,t.nanos)}convertDocumentKey(e,t){const s=et.fromString(e);Ke(RA(s));const a=new Ou(s.get(1),s.get(3)),l=new ve(s.popFirst(5));return a.isEqual(t)||ms(`Document ${l} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pL(n,e,t){let s;return s=n?n.toFirestore(e):e,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mu{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ux extends ox{constructor(e,t,s,a,l,c){super(e,t,s,a,c),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Hh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const s=this._document.data.field(lx("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,t.serverTimestamps)}}}class Hh extends ux{data(e={}){return super.data(e)}}class gL{constructor(e,t,s,a){this._firestore=e,this._userDataWriter=t,this._snapshot=a,this.metadata=new mu(a.hasPendingWrites,a.fromCache),this.query=s}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(s=>{e.call(t,new Hh(this._firestore,this._userDataWriter,s.key,s,new mu(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new ge(ne.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(a,l){if(a._snapshot.oldDocs.isEmpty()){let c=0;return a._snapshot.docChanges.map(d=>{const m=new Hh(a._firestore,a._userDataWriter,d.doc.key,d.doc,new mu(a._snapshot.mutatedKeys.has(d.doc.key),a._snapshot.fromCache),a.query.converter);return d.doc,{type:"added",doc:m,oldIndex:-1,newIndex:c++}})}{let c=a._snapshot.oldDocs;return a._snapshot.docChanges.filter(d=>l||d.type!==3).map(d=>{const m=new Hh(a._firestore,a._userDataWriter,d.doc.key,d.doc,new mu(a._snapshot.mutatedKeys.has(d.doc.key),a._snapshot.fromCache),a.query.converter);let p=-1,v=-1;return d.type!==0&&(p=c.indexOf(d.doc.key),c=c.delete(d.doc.key)),d.type!==1&&(c=c.add(d.doc),v=c.indexOf(d.doc.key)),{type:yL(d.type),doc:m,oldIndex:p,newIndex:v}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function yL(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Te()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vb(n){n=gs(n,Cn);const e=gs(n.firestore,Wo);return Jk(Sy(e),n._key).then(t=>TL(e,n,t))}class cx extends mL{constructor(e){super(),this.firestore=e}convertBytes(e){return new Bo(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Cn(this.firestore,null,t)}}function vL(n){n=gs(n,Bf);const e=gs(n.firestore,Wo),t=Sy(e),s=new cx(e);return dL(n._query),eL(t,n._query).then(a=>new gL(e,s,n,a))}function _p(n,e,t,...s){n=gs(n,Cn);const a=gs(n.firestore,Wo),l=ix(a);let c;return c=typeof(e=vn(e))=="string"||e instanceof Ff?cL(l,"updateDoc",n._key,e,t,s):uL(l,"updateDoc",n._key,e),Ny(a,[c.toMutation(n._key,ii.exists(!0))])}function _L(n){return Ny(gs(n.firestore,Wo),[new ly(n._key,ii.none())])}function EL(n,e){const t=gs(n.firestore,Wo),s=_o(n),a=pL(n.converter,e);return Ny(t,[lL(ix(n.firestore),"addDoc",s._key,a,n.converter!==null,{}).toMutation(s._key,ii.exists(!1))]).then(()=>s)}function Ny(n,e){return function(s,a){const l=new hs;return s.asyncQueue.enqueueAndForget(async()=>Fk(await Zk(s),a,l)),l.promise}(Sy(n),e)}function TL(n,e,t){const s=t.docs.get(e._key),a=new cx(n);return new ux(n,a,e._key,s,new mu(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){(function(a){$o=a})(Ko),Mo(new ga("firestore",(s,{instanceIdentifier:a,options:l})=>{const c=s.getProvider("app").getImmediate(),d=new Wo(new mO(s.getProvider("auth-internal")),new vO(s.getProvider("app-check-internal")),function(p,v){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new ge(ne.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ou(p.options.projectId,v)}(c,a),c);return l=Object.assign({useFetchStreams:t},l),d._setSettings(l),d},"PUBLIC").setMultipleInstances(!0)),mr(MT,"4.7.6",e),mr(MT,"4.7.6","esm2017")})();var bL="firebase",wL="11.2.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */mr(bL,wL,"app");function Vy(n,e){var t={};for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&e.indexOf(s)<0&&(t[s]=n[s]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,s=Object.getOwnPropertySymbols(n);a<s.length;a++)e.indexOf(s[a])<0&&Object.prototype.propertyIsEnumerable.call(n,s[a])&&(t[s[a]]=n[s[a]]);return t}function hx(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const SL=hx,fx=new $u("auth","Firebase",hx());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pf=new Zg("@firebase/auth");function AL(n,...e){pf.logLevel<=Ve.WARN&&pf.warn(`Auth (${Ko}): ${n}`,...e)}function qh(n,...e){pf.logLevel<=Ve.ERROR&&pf.error(`Auth (${Ko}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ys(n,...e){throw My(n,...e)}function Ai(n,...e){return My(n,...e)}function dx(n,e,t){const s=Object.assign(Object.assign({},SL()),{[e]:t});return new $u("auth","Firebase",s).create(e,{appName:n.name})}function pa(n){return dx(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function My(n,...e){if(typeof n!="string"){const t=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=n.name),n._errorFactory.create(t,...s)}return fx.create(n,...e)}function be(n,e,...t){if(!n)throw My(e,...t)}function rs(n){const e="INTERNAL ASSERTION FAILED: "+n;throw qh(e),new Error(e)}function vs(n,e){n||rs(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cg(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function xL(){return _b()==="http:"||_b()==="https:"}function _b(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RL(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(xL()||KV()||"connection"in navigator)?navigator.onLine:!0}function CL(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ju{constructor(e,t){this.shortDelay=e,this.longDelay=t,vs(t>e,"Short delay should be less than long delay!"),this.isMobile=HV()||$V()}get(){return RL()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oy(n,e){vs(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mx{static initialize(e,t,s){this.fetchImpl=e,t&&(this.headersImpl=t),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;rs("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;rs("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;rs("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DL={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IL=new Ju(3e4,6e4);function Py(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function Zo(n,e,t,s,a={}){return px(n,a,async()=>{let l={},c={};s&&(e==="GET"?c=s:l={body:JSON.stringify(s)});const d=Yu(Object.assign({key:n.config.apiKey},c)).slice(1),m=await n._getAdditionalHeaders();m["Content-Type"]="application/json",n.languageCode&&(m["X-Firebase-Locale"]=n.languageCode);const p=Object.assign({method:e,headers:m},l);return GV()||(p.referrerPolicy="no-referrer"),mx.fetch()(gx(n,n.config.apiHost,t,d),p)})}async function px(n,e,t){n._canInitEmulator=!1;const s=Object.assign(Object.assign({},DL),e);try{const a=new VL(n),l=await Promise.race([t(),a.promise]);a.clearNetworkTimeout();const c=await l.json();if("needConfirmation"in c)throw Vh(n,"account-exists-with-different-credential",c);if(l.ok&&!("errorMessage"in c))return c;{const d=l.ok?c.errorMessage:c.error.message,[m,p]=d.split(" : ");if(m==="FEDERATED_USER_ID_ALREADY_LINKED")throw Vh(n,"credential-already-in-use",c);if(m==="EMAIL_EXISTS")throw Vh(n,"email-already-in-use",c);if(m==="USER_DISABLED")throw Vh(n,"user-disabled",c);const v=s[m]||m.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw dx(n,v,p);ys(n,v)}}catch(a){if(a instanceof _s)throw a;ys(n,"network-request-failed",{message:String(a)})}}async function NL(n,e,t,s,a={}){const l=await Zo(n,e,t,s,a);return"mfaPendingCredential"in l&&ys(n,"multi-factor-auth-required",{_serverResponse:l}),l}function gx(n,e,t,s){const a=`${e}${t}?${s}`;return n.config.emulator?Oy(n.config,a):`${n.config.apiScheme}://${a}`}class VL{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,s)=>{this.timer=setTimeout(()=>s(Ai(this.auth,"network-request-failed")),IL.get())})}}function Vh(n,e,t){const s={appName:n.name};t.email&&(s.email=t.email),t.phoneNumber&&(s.phoneNumber=t.phoneNumber);const a=Ai(n,e,s);return a.customData._tokenResponse=t,a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ML(n,e){return Zo(n,"POST","/v1/accounts:delete",e)}async function yx(n,e){return Zo(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wu(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function OL(n,e=!1){const t=vn(n),s=await t.getIdToken(e),a=ky(s);be(a&&a.exp&&a.auth_time&&a.iat,t.auth,"internal-error");const l=typeof a.firebase=="object"?a.firebase:void 0,c=l==null?void 0:l.sign_in_provider;return{claims:a,token:s,authTime:wu(Ep(a.auth_time)),issuedAtTime:wu(Ep(a.iat)),expirationTime:wu(Ep(a.exp)),signInProvider:c||null,signInSecondFactor:(l==null?void 0:l.sign_in_second_factor)||null}}function Ep(n){return Number(n)*1e3}function ky(n){const[e,t,s]=n.split(".");if(e===void 0||t===void 0||s===void 0)return qh("JWT malformed, contained fewer than 3 sections"),null;try{const a=MS(t);return a?JSON.parse(a):(qh("Failed to decode base64 JWT payload"),null)}catch(a){return qh("Caught error parsing JWT payload as JSON",a==null?void 0:a.toString()),null}}function Eb(n){const e=ky(n);return be(e,"internal-error"),be(typeof e.exp<"u","internal-error"),be(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Uu(n,e,t=!1){if(t)return e;try{return await e}catch(s){throw s instanceof _s&&PL(s)&&n.auth.currentUser===n&&await n.auth.signOut(),s}}function PL({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kL{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const s=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),s}else{this.errorBackoff=3e4;const a=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,a)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hg{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=wu(this.lastLoginAt),this.creationTime=wu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gf(n){var e;const t=n.auth,s=await n.getIdToken(),a=await Uu(n,yx(t,{idToken:s}));be(a==null?void 0:a.users.length,t,"internal-error");const l=a.users[0];n._notifyReloadListener(l);const c=!((e=l.providerUserInfo)===null||e===void 0)&&e.length?vx(l.providerUserInfo):[],d=UL(n.providerData,c),m=n.isAnonymous,p=!(n.email&&l.passwordHash)&&!(d!=null&&d.length),v=m?p:!1,T={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:d,metadata:new hg(l.createdAt,l.lastLoginAt),isAnonymous:v};Object.assign(n,T)}async function LL(n){const e=vn(n);await gf(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function UL(n,e){return[...n.filter(s=>!e.some(a=>a.providerId===s.providerId)),...e]}function vx(n){return n.map(e=>{var{providerId:t}=e,s=Vy(e,["providerId"]);return{providerId:t,uid:s.rawId||"",displayName:s.displayName||null,email:s.email||null,phoneNumber:s.phoneNumber||null,photoURL:s.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jL(n,e){const t=await px(n,{},async()=>{const s=Yu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:a,apiKey:l}=n.config,c=gx(n,a,"/v1/token",`key=${l}`),d=await n._getAdditionalHeaders();return d["Content-Type"]="application/x-www-form-urlencoded",mx.fetch()(c,{method:"POST",headers:d,body:s})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function BL(n,e){return Zo(n,"POST","/v2/accounts:revokeToken",Py(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ro{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){be(e.idToken,"internal-error"),be(typeof e.idToken<"u","internal-error"),be(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Eb(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){be(e.length!==0,"internal-error");const t=Eb(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(be(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:s,refreshToken:a,expiresIn:l}=await jL(e,t);this.updateTokensAndExpiration(s,a,Number(l))}updateTokensAndExpiration(e,t,s){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,t){const{refreshToken:s,accessToken:a,expirationTime:l}=t,c=new Ro;return s&&(be(typeof s=="string","internal-error",{appName:e}),c.refreshToken=s),a&&(be(typeof a=="string","internal-error",{appName:e}),c.accessToken=a),l&&(be(typeof l=="number","internal-error",{appName:e}),c.expirationTime=l),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ro,this.toJSON())}_performRefresh(){return rs("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ir(n,e){be(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class as{constructor(e){var{uid:t,auth:s,stsTokenManager:a}=e,l=Vy(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new kL(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=s,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new hg(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(e){const t=await Uu(this,this.stsTokenManager.getToken(this.auth,e));return be(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return OL(this,e)}reload(){return LL(this)}_assign(e){this!==e&&(be(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new as(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){be(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),t&&await gf(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(cr(this.auth.app))return Promise.reject(pa(this.auth));const e=await this.getIdToken();return await Uu(this,ML(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var s,a,l,c,d,m,p,v;const T=(s=t.displayName)!==null&&s!==void 0?s:void 0,b=(a=t.email)!==null&&a!==void 0?a:void 0,x=(l=t.phoneNumber)!==null&&l!==void 0?l:void 0,D=(c=t.photoURL)!==null&&c!==void 0?c:void 0,L=(d=t.tenantId)!==null&&d!==void 0?d:void 0,P=(m=t._redirectEventId)!==null&&m!==void 0?m:void 0,B=(p=t.createdAt)!==null&&p!==void 0?p:void 0,Q=(v=t.lastLoginAt)!==null&&v!==void 0?v:void 0,{uid:Y,emailVerified:ae,isAnonymous:G,providerData:se,stsTokenManager:O}=t;be(Y&&O,e,"internal-error");const C=Ro.fromJSON(this.name,O);be(typeof Y=="string",e,"internal-error"),ir(T,e.name),ir(b,e.name),be(typeof ae=="boolean",e,"internal-error"),be(typeof G=="boolean",e,"internal-error"),ir(x,e.name),ir(D,e.name),ir(L,e.name),ir(P,e.name),ir(B,e.name),ir(Q,e.name);const R=new as({uid:Y,auth:e,email:b,emailVerified:ae,displayName:T,isAnonymous:G,photoURL:D,phoneNumber:x,tenantId:L,stsTokenManager:C,createdAt:B,lastLoginAt:Q});return se&&Array.isArray(se)&&(R.providerData=se.map(N=>Object.assign({},N))),P&&(R._redirectEventId=P),R}static async _fromIdTokenResponse(e,t,s=!1){const a=new Ro;a.updateFromServerResponse(t);const l=new as({uid:t.localId,auth:e,stsTokenManager:a,isAnonymous:s});return await gf(l),l}static async _fromGetAccountInfoResponse(e,t,s){const a=t.users[0];be(a.localId!==void 0,"internal-error");const l=a.providerUserInfo!==void 0?vx(a.providerUserInfo):[],c=!(a.email&&a.passwordHash)&&!(l!=null&&l.length),d=new Ro;d.updateFromIdToken(s);const m=new as({uid:a.localId,auth:e,stsTokenManager:d,isAnonymous:c}),p={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:l,metadata:new hg(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!(l!=null&&l.length)};return Object.assign(m,p),m}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tb=new Map;function os(n){vs(n instanceof Function,"Expected a class definition");let e=Tb.get(n);return e?(vs(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,Tb.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _x{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}_x.type="NONE";const bb=_x;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gh(n,e,t){return`firebase:${n}:${e}:${t}`}class Co{constructor(e,t,s){this.persistence=e,this.auth=t,this.userKey=s;const{config:a,name:l}=this.auth;this.fullUserKey=Gh(this.userKey,a.apiKey,l),this.fullPersistenceKey=Gh("persistence",a.apiKey,l),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?as._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,s="authUser"){if(!t.length)return new Co(os(bb),e,s);const a=(await Promise.all(t.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let l=a[0]||os(bb);const c=Gh(s,e.config.apiKey,e.name);let d=null;for(const p of t)try{const v=await p._get(c);if(v){const T=as._fromJSON(e,v);p!==l&&(d=T),l=p;break}}catch{}const m=a.filter(p=>p._shouldAllowMigration);return!l._shouldAllowMigration||!m.length?new Co(l,e,s):(l=m[0],d&&await l._set(c,d.toJSON()),await Promise.all(t.map(async p=>{if(p!==l)try{await p._remove(c)}catch{}})),new Co(l,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wb(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(wx(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Ex(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Ax(e))return"Blackberry";if(xx(e))return"Webos";if(Tx(e))return"Safari";if((e.includes("chrome/")||bx(e))&&!e.includes("edge/"))return"Chrome";if(Sx(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=n.match(t);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function Ex(n=sn()){return/firefox\//i.test(n)}function Tx(n=sn()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function bx(n=sn()){return/crios\//i.test(n)}function wx(n=sn()){return/iemobile/i.test(n)}function Sx(n=sn()){return/android/i.test(n)}function Ax(n=sn()){return/blackberry/i.test(n)}function xx(n=sn()){return/webos/i.test(n)}function Ly(n=sn()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function FL(n=sn()){var e;return Ly(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function zL(){return YV()&&document.documentMode===10}function Rx(n=sn()){return Ly(n)||Sx(n)||xx(n)||Ax(n)||/windows phone/i.test(n)||wx(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cx(n,e=[]){let t;switch(n){case"Browser":t=wb(sn());break;case"Worker":t=`${wb(sn())}-${n}`;break;default:t=n}const s=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Ko}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HL{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const s=l=>new Promise((c,d)=>{try{const m=e(l);c(m)}catch(m){d(m)}});s.onAbort=t,this.queue.push(s);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const s of this.queue)await s(e),s.onAbort&&t.push(s.onAbort)}catch(s){t.reverse();for(const a of t)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qL(n,e={}){return Zo(n,"GET","/v2/passwordPolicy",Py(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GL=6;class KL{constructor(e){var t,s,a,l;const c=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=c.minPasswordLength)!==null&&t!==void 0?t:GL,c.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=c.maxPasswordLength),c.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=c.containsLowercaseCharacter),c.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=c.containsUppercaseCharacter),c.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=c.containsNumericCharacter),c.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=c.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(a=(s=e.allowedNonAlphanumericCharacters)===null||s===void 0?void 0:s.join(""))!==null&&a!==void 0?a:"",this.forceUpgradeOnSignin=(l=e.forceUpgradeOnSignin)!==null&&l!==void 0?l:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,s,a,l,c,d;const m={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,m),this.validatePasswordCharacterOptions(e,m),m.isValid&&(m.isValid=(t=m.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),m.isValid&&(m.isValid=(s=m.meetsMaxPasswordLength)!==null&&s!==void 0?s:!0),m.isValid&&(m.isValid=(a=m.containsLowercaseLetter)!==null&&a!==void 0?a:!0),m.isValid&&(m.isValid=(l=m.containsUppercaseLetter)!==null&&l!==void 0?l:!0),m.isValid&&(m.isValid=(c=m.containsNumericCharacter)!==null&&c!==void 0?c:!0),m.isValid&&(m.isValid=(d=m.containsNonAlphanumericCharacter)!==null&&d!==void 0?d:!0),m}validatePasswordLengthOptions(e,t){const s=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;s&&(t.meetsMinPasswordLength=e.length>=s),a&&(t.meetsMaxPasswordLength=e.length<=a)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let s;for(let a=0;a<e.length;a++)s=e.charAt(a),this.updatePasswordCharacterOptionsStatuses(t,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,t,s,a,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $L{constructor(e,t,s,a){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=s,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Sb(this),this.idTokenSubscription=new Sb(this),this.beforeStateQueue=new HL(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=fx,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=a.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=os(t)),this._initializationPromise=this.queue(async()=>{var s,a;if(!this._deleted&&(this.persistenceManager=await Co.create(this,e),!this._deleted)){if(!((s=this._popupRedirectResolver)===null||s===void 0)&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((a=this.currentUser)===null||a===void 0?void 0:a.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await yx(this,{idToken:e}),s=await as._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(s)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(cr(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const s=await this.assertedPersistence.getCurrentUser();let a=s,l=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,d=a==null?void 0:a._redirectEventId,m=await this.tryRedirectSignIn(e);(!c||c===d)&&(m!=null&&m.user)&&(a=m.user,l=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(a)}catch(c){a=s,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return be(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await gf(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=CL()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(cr(this.app))return Promise.reject(pa(this));const t=e?vn(e):null;return t&&be(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&be(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return cr(this.app)?Promise.reject(pa(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return cr(this.app)?Promise.reject(pa(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(os(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await qL(this),t=new KL(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new $u("auth","Firebase",e())}onAuthStateChanged(e,t,s){return this.registerStateListener(this.authStateSubscription,e,t,s)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,s){return this.registerStateListener(this.idTokenSubscription,e,t,s)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(s.tenantId=this.tenantId),await BL(this,s)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const s=await this.getOrInitRedirectPersistenceManager(t);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&os(e)||this._popupRedirectResolver;be(t,this,"argument-error"),this.redirectPersistenceManager=await Co.create(this,[os(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,s;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((s=this.redirectUser)===null||s===void 0?void 0:s._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const s=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==s&&(this.lastNotifiedUid=s,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,s,a){if(this._deleted)return()=>{};const l=typeof t=="function"?t:t.next.bind(t);let c=!1;const d=this._isInitialized?Promise.resolve():this._initializationPromise;if(be(d,this,"internal-error"),d.then(()=>{c||l(this.currentUser)}),typeof t=="function"){const m=e.addObserver(t,s,a);return()=>{c=!0,m()}}else{const m=e.addObserver(t);return()=>{c=!0,m()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return be(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Cx(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const s=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());s&&(t["X-Firebase-Client"]=s);const a=await this._getAppCheckToken();return a&&(t["X-Firebase-AppCheck"]=a),t}async _getAppCheckToken(){var e;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&AL(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function Uy(n){return vn(n)}class Sb{constructor(e){this.auth=e,this.observer=null,this.addObserver=nM(t=>this.observer=t)}get next(){return be(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let jy={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function YL(n){jy=n}function QL(n){return jy.loadJS(n)}function XL(){return jy.gapiScript}function WL(n){return`__${n}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZL(n,e){const t=ey(n,"auth");if(t.isInitialized()){const a=t.getImmediate(),l=t.getOptions();if(nf(l,e??{}))return a;ys(a,"already-initialized")}return t.initialize({options:e})}function JL(n,e){const t=(e==null?void 0:e.persistence)||[],s=(Array.isArray(t)?t:[t]).map(os);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(s,e==null?void 0:e.popupRedirectResolver)}function e5(n,e,t){const s=Uy(n);be(s._canInitEmulator,s,"emulator-config-failed"),be(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const a=!1,l=Dx(e),{host:c,port:d}=t5(e),m=d===null?"":`:${d}`;s.config.emulator={url:`${l}//${c}${m}/`},s.settings.appVerificationDisabledForTesting=!0,s.emulatorConfig=Object.freeze({host:c,port:d,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:a})}),n5()}function Dx(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function t5(n){const e=Dx(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const s=t[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(s);if(a){const l=a[1];return{host:l,port:Ab(s.substr(l.length+1))}}else{const[l,c]=s.split(":");return{host:l,port:Ab(c)}}}function Ab(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function n5(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ix{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return rs("not implemented")}_getIdTokenResponse(e){return rs("not implemented")}_linkToIdToken(e,t){return rs("not implemented")}_getReauthenticationResolver(e){return rs("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Do(n,e){return NL(n,"POST","/v1/accounts:signInWithIdp",Py(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i5="http://localhost";class va extends Ix{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new va(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):ys("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:a}=t,l=Vy(t,["providerId","signInMethod"]);if(!s||!a)return null;const c=new va(s,a);return c.idToken=l.idToken||void 0,c.accessToken=l.accessToken||void 0,c.secret=l.secret,c.nonce=l.nonce,c.pendingToken=l.pendingToken||null,c}_getIdTokenResponse(e){const t=this.buildRequest();return Do(e,t)}_linkToIdToken(e,t){const s=this.buildRequest();return s.idToken=t,Do(e,s)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Do(e,t)}buildRequest(){const e={requestUri:i5,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Yu(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nx{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ec extends Nx{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ar extends ec{constructor(){super("facebook.com")}static credential(e){return va._fromParams({providerId:ar.PROVIDER_ID,signInMethod:ar.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ar.credentialFromTaggedObject(e)}static credentialFromError(e){return ar.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ar.credential(e.oauthAccessToken)}catch{return null}}}ar.FACEBOOK_SIGN_IN_METHOD="facebook.com";ar.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class or extends ec{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return va._fromParams({providerId:or.PROVIDER_ID,signInMethod:or.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return or.credentialFromTaggedObject(e)}static credentialFromError(e){return or.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:s}=e;if(!t&&!s)return null;try{return or.credential(t,s)}catch{return null}}}or.GOOGLE_SIGN_IN_METHOD="google.com";or.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lr extends ec{constructor(){super("github.com")}static credential(e){return va._fromParams({providerId:lr.PROVIDER_ID,signInMethod:lr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return lr.credentialFromTaggedObject(e)}static credentialFromError(e){return lr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return lr.credential(e.oauthAccessToken)}catch{return null}}}lr.GITHUB_SIGN_IN_METHOD="github.com";lr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ur extends ec{constructor(){super("twitter.com")}static credential(e,t){return va._fromParams({providerId:ur.PROVIDER_ID,signInMethod:ur.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return ur.credentialFromTaggedObject(e)}static credentialFromError(e){return ur.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:s}=e;if(!t||!s)return null;try{return ur.credential(t,s)}catch{return null}}}ur.TWITTER_SIGN_IN_METHOD="twitter.com";ur.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fo{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,s,a=!1){const l=await as._fromIdTokenResponse(e,s,a),c=xb(s);return new Fo({user:l,providerId:c,_tokenResponse:s,operationType:t})}static async _forOperation(e,t,s){await e._updateTokensIfNecessary(s,!0);const a=xb(s);return new Fo({user:e,providerId:a,_tokenResponse:s,operationType:t})}}function xb(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yf extends _s{constructor(e,t,s,a){var l;super(t.code,t.message),this.operationType=s,this.user=a,Object.setPrototypeOf(this,yf.prototype),this.customData={appName:e.name,tenantId:(l=e.tenantId)!==null&&l!==void 0?l:void 0,_serverResponse:t.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,t,s,a){return new yf(e,t,s,a)}}function Vx(n,e,t,s){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?yf._fromErrorAndOperation(n,l,e,s):l})}async function s5(n,e,t=!1){const s=await Uu(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return Fo._forOperation(n,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function r5(n,e,t=!1){const{auth:s}=n;if(cr(s.app))return Promise.reject(pa(s));const a="reauthenticate";try{const l=await Uu(n,Vx(s,a,e,n),t);be(l.idToken,s,"internal-error");const c=ky(l.idToken);be(c,s,"internal-error");const{sub:d}=c;return be(n.uid===d,s,"user-mismatch"),Fo._forOperation(n,a,l)}catch(l){throw(l==null?void 0:l.code)==="auth/user-not-found"&&ys(s,"user-mismatch"),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function a5(n,e,t=!1){if(cr(n.app))return Promise.reject(pa(n));const s="signIn",a=await Vx(n,s,e),l=await Fo._fromIdTokenResponse(n,s,a);return t||await n._updateCurrentUser(l.user),l}function o5(n,e,t,s){return vn(n).onIdTokenChanged(e,t,s)}function l5(n,e,t){return vn(n).beforeAuthStateChanged(e,t)}const vf="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mx{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(vf,"1"),this.storage.removeItem(vf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u5=1e3,c5=10;class Ox extends Mx{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Rx(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const s=this.storage.getItem(t),a=this.localCache[t];s!==a&&e(t,a,s)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((c,d,m)=>{this.notifyListeners(c,m)});return}const s=e.key;t?this.detachListener():this.stopPolling();const a=()=>{const c=this.storage.getItem(s);!t&&this.localCache[s]===c||this.notifyListeners(s,c)},l=this.storage.getItem(s);zL()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,c5):a()}notifyListeners(e,t){this.localCache[e]=t;const s=this.listeners[e];if(s)for(const a of Array.from(s))a(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:s}),!0)})},u5)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}Ox.type="LOCAL";const h5=Ox;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Px extends Mx{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}Px.type="SESSION";const kx=Px;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f5(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qf{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(a=>a.isListeningto(e));if(t)return t;const s=new qf(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:s,eventType:a,data:l}=t.data,c=this.handlersMap[a];if(!(c!=null&&c.size))return;t.ports[0].postMessage({status:"ack",eventId:s,eventType:a});const d=Array.from(c).map(async p=>p(t.origin,l)),m=await f5(d);t.ports[0].postMessage({status:"done",eventId:s,eventType:a,response:m})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}qf.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function By(n="",e=10){let t="";for(let s=0;s<e;s++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d5{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,s=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let l,c;return new Promise((d,m)=>{const p=By("",20);a.port1.start();const v=setTimeout(()=>{m(new Error("unsupported_event"))},s);c={messageChannel:a,onMessage(T){const b=T;if(b.data.eventId===p)switch(b.data.status){case"ack":clearTimeout(v),l=setTimeout(()=>{m(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),d(b.data.response);break;default:clearTimeout(v),clearTimeout(l),m(new Error("invalid_response"));break}}},this.handlers.add(c),a.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:p,data:t},[a.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xi(){return window}function m5(n){xi().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lx(){return typeof xi().WorkerGlobalScope<"u"&&typeof xi().importScripts=="function"}async function p5(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function g5(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function y5(){return Lx()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ux="firebaseLocalStorageDb",v5=1,_f="firebaseLocalStorage",jx="fbase_key";class tc{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Gf(n,e){return n.transaction([_f],e?"readwrite":"readonly").objectStore(_f)}function _5(){const n=indexedDB.deleteDatabase(Ux);return new tc(n).toPromise()}function fg(){const n=indexedDB.open(Ux,v5);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const s=n.result;try{s.createObjectStore(_f,{keyPath:jx})}catch(a){t(a)}}),n.addEventListener("success",async()=>{const s=n.result;s.objectStoreNames.contains(_f)?e(s):(s.close(),await _5(),e(await fg()))})})}async function Rb(n,e,t){const s=Gf(n,!0).put({[jx]:e,value:t});return new tc(s).toPromise()}async function E5(n,e){const t=Gf(n,!1).get(e),s=await new tc(t).toPromise();return s===void 0?null:s.value}function Cb(n,e){const t=Gf(n,!0).delete(e);return new tc(t).toPromise()}const T5=800,b5=3;class Bx{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await fg(),this.db)}async _withRetries(e){let t=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(t++>b5)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Lx()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=qf._getInstance(y5()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await p5(),!this.activeServiceWorker)return;this.sender=new d5(this.activeServiceWorker);const s=await this.sender._send("ping",{},800);s&&!((e=s[0])===null||e===void 0)&&e.fulfilled&&!((t=s[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||g5()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await fg();return await Rb(e,vf,"1"),await Cb(e,vf),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(s=>Rb(s,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(s=>E5(s,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>Cb(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(a=>{const l=Gf(a,!1).getAll();return new tc(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],s=new Set;if(e.length!==0)for(const{fbase_key:a,value:l}of e)s.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(l)&&(this.notifyListeners(a,l),t.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!s.has(a)&&(this.notifyListeners(a,null),t.push(a));return t}notifyListeners(e,t){this.localCache[e]=t;const s=this.listeners[e];if(s)for(const a of Array.from(s))a(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),T5)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Bx.type="LOCAL";const w5=Bx;new Ju(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S5(n,e){return e?os(e):(be(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fy extends Ix{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Do(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Do(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Do(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function A5(n){return a5(n.auth,new Fy(n),n.bypassAuthState)}function x5(n){const{auth:e,user:t}=n;return be(t,e,"internal-error"),r5(t,new Fy(n),n.bypassAuthState)}async function R5(n){const{auth:e,user:t}=n;return be(t,e,"internal-error"),s5(t,new Fy(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fx{constructor(e,t,s,a,l=!1){this.auth=e,this.resolver=s,this.user=a,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:s,postBody:a,tenantId:l,error:c,type:d}=e;if(c){this.reject(c);return}const m={auth:this.auth,requestUri:t,sessionId:s,tenantId:l||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(d)(m))}catch(p){this.reject(p)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return A5;case"linkViaPopup":case"linkViaRedirect":return R5;case"reauthViaPopup":case"reauthViaRedirect":return x5;default:ys(this.auth,"internal-error")}}resolve(e){vs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){vs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C5=new Ju(2e3,1e4);class Ao extends Fx{constructor(e,t,s,a,l){super(e,t,a,l),this.provider=s,this.authWindow=null,this.pollId=null,Ao.currentPopupAction&&Ao.currentPopupAction.cancel(),Ao.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return be(e,this.auth,"internal-error"),e}async onExecution(){vs(this.filter.length===1,"Popup operations only handle one event");const e=By();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(Ai(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Ai(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ao.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,s;if(!((s=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||s===void 0)&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ai(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,C5.get())};e()}}Ao.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D5="pendingRedirect",Kh=new Map;class I5 extends Fx{constructor(e,t,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,s),this.eventId=null}async execute(){let e=Kh.get(this.auth._key());if(!e){try{const s=await N5(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(t){e=()=>Promise.reject(t)}Kh.set(this.auth._key(),e)}return this.bypassAuthState||Kh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function N5(n,e){const t=O5(e),s=M5(n);if(!await s._isAvailable())return!1;const a=await s._get(t)==="true";return await s._remove(t),a}function V5(n,e){Kh.set(n._key(),e)}function M5(n){return os(n._redirectPersistence)}function O5(n){return Gh(D5,n.config.apiKey,n.name)}async function P5(n,e,t=!1){if(cr(n.app))return Promise.reject(pa(n));const s=Uy(n),a=S5(s,e),c=await new I5(s,a,t).execute();return c&&!t&&(delete c.user._redirectEventId,await s._persistUserIfCurrent(c.user),await s._setRedirectUser(null,e)),c}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k5=10*60*1e3;class L5{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(t=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!U5(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var s;if(e.error&&!zx(e)){const a=((s=e.error.code)===null||s===void 0?void 0:s.split("auth/")[1])||"internal-error";t.onError(Ai(this.auth,a))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const s=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=k5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Db(e))}saveEventToCache(e){this.cachedEventUids.add(Db(e)),this.lastProcessedEventTime=Date.now()}}function Db(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function zx({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function U5(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return zx(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function j5(n,e={}){return Zo(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B5=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,F5=/^https?/;async function z5(n){if(n.config.emulator)return;const{authorizedDomains:e}=await j5(n);for(const t of e)try{if(H5(t))return}catch{}ys(n,"unauthorized-domain")}function H5(n){const e=cg(),{protocol:t,hostname:s}=new URL(e);if(n.startsWith("chrome-extension://")){const c=new URL(n);return c.hostname===""&&s===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&c.hostname===s}if(!F5.test(t))return!1;if(B5.test(n))return s===n;const a=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q5=new Ju(3e4,6e4);function Ib(){const n=xi().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function G5(n){return new Promise((e,t)=>{var s,a,l;function c(){Ib(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Ib(),t(Ai(n,"network-request-failed"))},timeout:q5.get()})}if(!((a=(s=xi().gapi)===null||s===void 0?void 0:s.iframes)===null||a===void 0)&&a.Iframe)e(gapi.iframes.getContext());else if(!((l=xi().gapi)===null||l===void 0)&&l.load)c();else{const d=WL("iframefcb");return xi()[d]=()=>{gapi.load?c():t(Ai(n,"network-request-failed"))},QL(`${XL()}?onload=${d}`).catch(m=>t(m))}}).catch(e=>{throw $h=null,e})}let $h=null;function K5(n){return $h=$h||G5(n),$h}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $5=new Ju(5e3,15e3),Y5="__/auth/iframe",Q5="emulator/auth/iframe",X5={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},W5=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Z5(n){const e=n.config;be(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?Oy(e,Q5):`https://${n.config.authDomain}/${Y5}`,s={apiKey:e.apiKey,appName:n.name,v:Ko},a=W5.get(n.config.apiHost);a&&(s.eid=a);const l=n._getFrameworks();return l.length&&(s.fw=l.join(",")),`${t}?${Yu(s).slice(1)}`}async function J5(n){const e=await K5(n),t=xi().gapi;return be(t,n,"internal-error"),e.open({where:document.body,url:Z5(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:X5,dontclear:!0},s=>new Promise(async(a,l)=>{await s.restyle({setHideOnLeave:!1});const c=Ai(n,"network-request-failed"),d=xi().setTimeout(()=>{l(c)},$5.get());function m(){xi().clearTimeout(d),a(s)}s.ping(m).then(m,()=>{l(c)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e4={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},t4=500,n4=600,i4="_blank",s4="http://localhost";class Nb{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function r4(n,e,t,s=t4,a=n4){const l=Math.max((window.screen.availHeight-a)/2,0).toString(),c=Math.max((window.screen.availWidth-s)/2,0).toString();let d="";const m=Object.assign(Object.assign({},e4),{width:s.toString(),height:a.toString(),top:l,left:c}),p=sn().toLowerCase();t&&(d=bx(p)?i4:t),Ex(p)&&(e=e||s4,m.scrollbars="yes");const v=Object.entries(m).reduce((b,[x,D])=>`${b}${x}=${D},`,"");if(FL(p)&&d!=="_self")return a4(e||"",d),new Nb(null);const T=window.open(e||"",d,v);be(T,n,"popup-blocked");try{T.focus()}catch{}return new Nb(T)}function a4(n,e){const t=document.createElement("a");t.href=n,t.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o4="__/auth/handler",l4="emulator/auth/handler",u4=encodeURIComponent("fac");async function Vb(n,e,t,s,a,l){be(n.config.authDomain,n,"auth-domain-config-required"),be(n.config.apiKey,n,"invalid-api-key");const c={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:s,v:Ko,eventId:a};if(e instanceof Nx){e.setDefaultLanguage(n.languageCode),c.providerId=e.providerId||"",tM(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[v,T]of Object.entries({}))c[v]=T}if(e instanceof ec){const v=e.getScopes().filter(T=>T!=="");v.length>0&&(c.scopes=v.join(","))}n.tenantId&&(c.tid=n.tenantId);const d=c;for(const v of Object.keys(d))d[v]===void 0&&delete d[v];const m=await n._getAppCheckToken(),p=m?`#${u4}=${encodeURIComponent(m)}`:"";return`${c4(n)}?${Yu(d).slice(1)}${p}`}function c4({config:n}){return n.emulator?Oy(n,l4):`https://${n.authDomain}/${o4}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tp="webStorageSupport";class h4{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=kx,this._completeRedirectFn=P5,this._overrideRedirectResult=V5}async _openPopup(e,t,s,a){var l;vs((l=this.eventManagers[e._key()])===null||l===void 0?void 0:l.manager,"_initialize() not called before _openPopup()");const c=await Vb(e,t,s,cg(),a);return r4(e,c,By())}async _openRedirect(e,t,s,a){await this._originValidation(e);const l=await Vb(e,t,s,cg(),a);return m5(l),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:a,promise:l}=this.eventManagers[t];return a?Promise.resolve(a):(vs(l,"If manager is not set, promise should be"),l)}const s=this.initAndGetManager(e);return this.eventManagers[t]={promise:s},s.catch(()=>{delete this.eventManagers[t]}),s}async initAndGetManager(e){const t=await J5(e),s=new L5(e);return t.register("authEvent",a=>(be(a==null?void 0:a.authEvent,e,"invalid-auth-event"),{status:s.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=t,s}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Tp,{type:Tp},a=>{var l;const c=(l=a==null?void 0:a[0])===null||l===void 0?void 0:l[Tp];c!==void 0&&t(!!c),ys(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=z5(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return Rx()||Tx()||Ly()}}const f4=h4;var Mb="@firebase/auth",Ob="1.8.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d4{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(s=>{e((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){be(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m4(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function p4(n){Mo(new ga("auth",(e,{options:t})=>{const s=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:c,authDomain:d}=s.options;be(c&&!c.includes(":"),"invalid-api-key",{appName:s.name});const m={apiKey:c,authDomain:d,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Cx(n)},p=new $L(s,a,l,m);return JL(p,t),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,s)=>{e.getProvider("auth-internal").initialize()})),Mo(new ga("auth-internal",e=>{const t=Uy(e.getProvider("auth").getImmediate());return(s=>new d4(s))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),mr(Mb,Ob,m4(n)),mr(Mb,Ob,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g4=5*60,y4=kS("authIdTokenMaxAge")||g4;let Pb=null;const v4=n=>async e=>{const t=e&&await e.getIdTokenResult(),s=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(s&&s>y4)return;const a=t==null?void 0:t.token;Pb!==a&&(Pb=a,await fetch(n,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function _4(n=BS()){const e=ey(n,"auth");if(e.isInitialized())return e.getImmediate();const t=ZL(n,{popupRedirectResolver:f4,persistence:[w5,h5,kx]}),s=kS("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(s,location.origin);if(location.origin===l.origin){const c=v4(l.toString());l5(t,c,()=>c(t.currentUser)),o5(t,d=>c(d))}}const a=OS("auth");return a&&e5(t,`http://${a}`),t}function E4(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}YL({loadJS(n){return new Promise((e,t)=>{const s=document.createElement("script");s.setAttribute("src",n),s.onload=e,s.onerror=a=>{const l=Ai("internal-error");l.customData=a,t(l)},s.type="text/javascript",s.charset="UTF-8",E4().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});p4("Browser");const T4={apiKey:"AIzaSyCA2c3JM0chy-bhHhqbsRjGs8_v003q16c",authDomain:"budgettracker-8f928.firebaseapp.com",projectId:"budgettracker-8f928",storageBucket:"budgettracker-8f928.firebasestorage.app",messagingSenderId:"961606643931",appId:"1:961606643931:web:e455405f6d0fd24b779cfe"},Hx=jS(T4),oa=iL(Hx);_4(Hx);const la="ss_users",gn={async getAllUsers(){return(await vL(gb(oa,la))).docs.map(t=>({id:t.id,...t.data()})).sort((t,s)=>{if(t.description&&s.description){const a=t.description.localeCompare(s.description);if(a!==0)return a}return(t.name||"").localeCompare(s.name||"")})},async importUsers(n){const e=gb(oa,la);return Promise.all(n.map(t=>EL(e,t)))},async updateUser(n,e){const t=_o(oa,la,n);return _p(t,e)},async getUser(n){const e=_o(oa,la,n),t=await vb(e);if(t.exists())return{id:t.id,...t.data()};throw new Error("User not found")},async getUsersByGroup(){return(await this.getAllUsers()).reduce((e,t)=>{const s=t.by||"Unknown";return e[s]||(e[s]=0),e[s]++,e},{})},async getUniqueByValues(){const n=await this.getAllUsers();return[...new Set(n.map(e=>e.by||"Unknown"))].sort()},async getUsersWithDoaMessages(){return(await this.getAllUsers()).filter(e=>e.doa_message&&e.doa_message.trim()!=="").map(e=>({name:e.name||"Anonymous",location:e.place_at||"Unknown",date:e.updated_doa_message_at?new Date(e.updated_doa_message_at).toLocaleString("en-US",{month:"short",day:"numeric",year:"numeric",hour:"2-digit",minute:"2-digit",hour12:!0}):"Unknown",rawDate:e.updated_doa_message_at,message:e.doa_message})).sort((e,t)=>e.rawDate?t.rawDate?new Date(t.rawDate)-new Date(e.rawDate):-1:1)},async updateUserMessage(n,e){const t=_o(oa,la,n);return _p(t,{doa_message:e,updated_doa_message_at:new Date().toISOString()})},async updateViewStats(n){const e=_o(oa,la,n),t=await vb(e);if(!t.exists())return;const s=t.data().has_seen_n_times||0;return _p(e,{has_seen_n_times:s+1,has_seen_last_at:new Date().toISOString()})},async deleteUser(n){const e=_o(oa,la,n);return _L(e)}},b4=({user:n,onUserUpdate:e,onMessageUpdate:t})=>{const[s,a]=V.useState(!1),[l,c]=V.useState(""),[d,m]=V.useState(!1),[p,v]=V.useState("");V.useEffect(()=>{n!=null&&n.doa_message&&c(n.doa_message)},[n]);const T=async b=>{if(b.preventDefault(),!!l.trim()){m(!0),v("");try{await gn.updateUserMessage(n.id,l),v("Message saved successfully!"),e&&e(),t&&t()}catch(x){console.error("Error saving message:",x),v("Failed to save message. Please try again.")}finally{m(!1)}}};return w.jsx("div",{className:"min-h-[calc(90dvh)] flex justify-center items-center flex-col text-center p-2",children:w.jsxs("form",{onSubmit:T,className:"w-full max-w-md",children:[w.jsxs("div",{className:"space-y-1",children:[w.jsxs("label",{htmlFor:"message",className:"flex items-center gap-2 text-[#FFEFCF] text-sm mb-2",children:[w.jsx(VV,{className:"h-5 w-5"}),"Name"]}),w.jsx("input",{value:n.name,readOnly:!0,className:"mb-7 w-full p-3 rounded-lg bg-[#131f1b] text-[#FFEFCF] placeholder-[#273933]/60 border-2 transition-all duration-200 border-transparent min-h-[50px]"}),w.jsxs("label",{htmlFor:"message",className:"flex items-center gap-2 text-[#FFEFCF] text-sm mb-2",children:[w.jsx(IV,{className:"h-5 w-5"}),"Your Message"]}),w.jsx("div",{className:"text-xs text-[#FFEFCF]/60 text-left mb-2",children:"Leave your doa and message for us. We would love to hear from you!"}),w.jsx("textarea",{id:"message",placeholder:"Write here...",maxLength:700,value:l,onChange:b=>c(b.target.value),className:`w-full p-3 rounded-lg bg-[#131f1b] text-[#FFEFCF] placeholder-[#273933]/60 border-2 transition-all duration-200 ${s?"border-[#FFEFCF]":"border-transparent"} min-h-[450px] whitespace-pre-wrap`,onFocus:()=>a(!0),onBlur:()=>a(!1)}),w.jsxs("div",{className:"text-xs text-[#FFEFCF]/60 text-right mb-7",children:[l.length,"/700 characters"]})]}),p&&w.jsx("div",{className:`text-sm mb-2 ${p.includes("Failed")?"text-red-500":"text-green-500"}`,children:p}),w.jsx("button",{type:"submit",disabled:d||!l.trim(),className:"w-full bg-[#FFEFCF] text-[#273933] h-8 text-sm rounded-lg mb-2 disabled:opacity-50",children:d?"Saving...":"Submit"})]})})},w4=({BASE_PATH:n,refreshTrigger:e})=>{const[t,s]=V.useState(0),[a,l]=V.useState([]);V.useEffect(()=>{(async()=>{try{const p=await gn.getUsersWithDoaMessages();l(p),s(0)}catch(p){console.error("Failed to fetch doa messages:",p)}})()},[e]);const c=()=>{s(m=>m===0?a.length-1:m-1)},d=()=>{s(m=>m===a.length-1?0:m+1)};return a.length===0?null:w.jsx("div",{className:"min-h-[calc(90dvh)] flex justify-center items-center flex-col text-center p-2",children:w.jsxs("div",{className:"w-full h-[600px] flex items-center justify-between bg-[#131f1b]/70 rounded-lg py-5",children:[w.jsx("button",{onClick:c,className:"p-2 text-[#FFEFCF] hover:text-gray-700",children:w.jsx(xV,{className:"h-4 w-4"})}),w.jsxs("div",{className:"flex flex-col items-start justify-between h-full w-full max-w-[300px] py-4",children:[w.jsx("img",{src:`${n}/images/chat.png`,alt:"chat",className:"h-4 self-center"}),w.jsxs("div",{className:"flex flex-col items-start justify-start h-full w-full pt-20 px-4",children:[w.jsxs("div",{className:"text-left mb-16",children:[w.jsx("p",{className:"font-semibold text-[#FFEFCF]",children:a[t].name}),w.jsx("p",{className:"text-[#FFEFCF]/80 text-xs",children:a[t].location}),w.jsx("p",{className:"text-[#FFEFCF]/60 text-xs",children:a[t].date})]}),w.jsx("h1",{className:"text-[#FFEFCF] italic text-sm max-h-[500px] overflow-y-auto whitespace-pre-wrap",children:a[t].message})]}),w.jsxs("p",{className:"text-[#FFEFCF]/60 text-xs self-center",children:[t+1," / ",a.length]}),w.jsx("img",{src:`${n}/images/chat 1.png`,alt:"chat",className:"h-4 self-center"})]}),w.jsx("button",{onClick:d,className:"p-2 text-[#FFEFCF] hover:text-gray-700",children:w.jsx(CV,{className:"h-4 w-4"})})]})})},S4=({BASE_PATH:n,isVisible:e})=>w.jsxs("div",{className:"min-h-[calc(90dvh)] justify-between flex-col p-2 flex items-center pt-10",children:[w.jsx("img",{src:`${n}/images/crown.png`,alt:"Crown",className:"h-4"}),w.jsxs("div",{className:"flex flex-col items-center justify-center",children:[w.jsx("h3",{className:"text-xl text-[#FFEFCF] leading-relaxed text-center mb-5",children:'"And We made you in pairs"'}),w.jsx("p",{className:"text-xs",children:"(Surah An-Naba, 78:8)"})]}),w.jsx("img",{src:`${n}/images/crown.png`,alt:"Crown",className:"h-4"})]}),A4=({isVisible:n})=>w.jsxs("div",{className:"min-h-[calc(100dvh)] justify-between flex-col p-2 flex items-center relative",children:[w.jsx("div",{}),w.jsxs("div",{className:"h-full justify-end flex-col p-2 flex items-center relative",children:[w.jsxs(Yn.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.5,delay:.3},viewport:{once:!0},className:"w-full max-w-2xl mx-auto p-4 flex mb-2",children:[w.jsx("div",{className:"border-l-2 border-[#ffefcf59] mr-4"}),w.jsx("h3",{className:"text-md text-[#FFEFCF] leading-relaxed text-left",children:"We really appreciate your duas and kind wishes. Jazakallahu khairan."})]}),w.jsx("h2",{className:"text-3xl text-[#FFEFCF] leading-relaxed text-left mb-8",children:"Putri & Fahmi"})]}),w.jsxs("div",{className:"h-full justify-end flex-col p-2 flex items-center relative",children:[w.jsx("h3",{className:"text-sm text-[#FFEFCF] leading-relaxed text-center mb-5 ",children:"Wassalamu’alaikum Warahmatullahi Wabarakatuh"}),w.jsx(Yn.a,{href:"https://wa.me/6287772897512?text=Hello%20Tarondro%20Studio%2C%20I%20need%20a%20website%2Fapp%2Fsoftware%20for%20my%20project.",target:"_blank",rel:"noopener noreferrer",initial:{opacity:0,y:20},animate:{y:[-10,2,-10],transition:{duration:2,repeat:1/0,ease:"easeInOut"}},whileInView:{opacity:1},whileHover:{scale:1.05},transition:{duration:.3},className:"bottom-1 px-6 py-3 bg-[#ffefcf10] backdrop-blur-sm rounded-lg border border-[#ffefcf30] shadow-lg hover:bg-[#ffefcf20] transition-all no-underline",children:w.jsxs("div",{className:"flex items-center space-x-4",children:[w.jsxs("span",{className:"text-ms font-medium text-[#FFEFCF] mr-2",children:["Made with ",w.jsx("span",{className:"text-xs font-medium text-[#FFEFCF]",children:"❤️"})," by"]}),w.jsx("span",{className:"text-ms font-bold text-[#FFEFCF]",children:"Tarondro Studio"})]})})]})]}),x4="/sakinahstory",R4=()=>{const[n,e]=V.useState(null),[t,s]=V.useState(!0),[a,l]=V.useState(0),{id:c}=pg(),d=async()=>{try{if(c){const x=await gn.getUser(c);e(x)}}catch(x){console.error("Failed to fetch user:",x)}finally{s(!1)}};V.useEffect(()=>{d()},[c]);const m=()=>{l(x=>x+1)},p=[{Component:TV},{Component:bV},{Component:S4}],v=[{Component:wV},{Component:SV}],T=[{Component:w4,props:{refreshTrigger:a}},{Component:b4,props:{onUserUpdate:d,onMessageUpdate:m}},{Component:A4}],b=[...p,...n!=null&&n.can_read_picture?v:[],...T];return t?w.jsx("div",{className:"min-h-screen bg-[url('/images/mobile.png')] bg-cover bg-center bg-repeat-y p-2",children:w.jsx("div",{className:"flex items-center justify-center h-screen",children:w.jsx("div",{className:"animate-spin text-4xl",children:"❤️"})})}):w.jsx(w.Fragment,{children:b.map(({Component:x,props:D={}},L)=>w.jsx("div",{className:"home min-h-screen bg-[url('/images/mobile.png')] bg-cover bg-center bg-repeat-y p-2",children:w.jsx(x,{BASE_PATH:x4,isVisible:!0,user:n,...D})},L))})},kb="/sakinahstory",C4=({})=>{const{id:n}=pg(),e=Fu(),t=async s=>{s.preventDefault();try{await gn.updateViewStats(n),e(`${kb}/breaking-news/user/${n}`)}catch(a){console.error("Failed to update view stats:",a),e(`${kb}/breaking-news/user/${n}`)}};return w.jsx("div",{className:"min-h-[calc(110dvh)] flex justify-center items-center flex-col text-center p-2 bg-[url('/images/mobile.png')] bg-cover bg-center bg-no-repeat",children:w.jsx("a",{href:"#",onClick:t,className:"px-4 py-2 duration-300 flex flex-col items-center no-underline",children:w.jsx(Yn.div,{className:"w-[100px] h-[40px] bg-[url('/images/button.png')] bg-contain bg-center bg-no-repeat flex items-center justify-center text-white font-bold text-lg mb-7",initial:{opacity:0},animate:{opacity:1},transition:{duration:.6,delay:.4},children:"OPEN"})})})},D4=()=>w.jsx("div",{className:"admin-login",children:w.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:w.jsxs("div",{className:"max-w-md w-full p-8 bg-white rounded-lg shadow-md",children:[w.jsx("h1",{className:"block text-sm font-medium text-red-700",children:"Admin Login"}),w.jsxs("form",{className:"mt-8",children:[w.jsxs("div",{children:[w.jsx("div",{children:w.jsxs("label",{className:"block text-sm font-medium text-gray-700",children:["Username:",w.jsx("input",{type:"text",name:"username",className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"})]})}),w.jsx("div",{className:"mt-6",children:w.jsxs("label",{className:"block text-sm font-medium text-gray-700",children:["Password:",w.jsx("input",{type:"password",name:"password",className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"})]})})]}),w.jsx("button",{type:"submit",className:"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 mt-6",children:"Login"})]})]})})}),I4="/sakinahstory",N4=[{path:"/admin/url",label:"URL"},{path:"/admin/login",label:"Login"},{path:"/admin/dashboard",label:"Dashboard"},{path:"/admin/users",label:"Users"},{path:"/admin/doa-messages",label:"Doa Messages"}],_a=()=>w.jsx("div",{className:"w-full bg-white shadow-md",children:w.jsxs("div",{className:"flex items-center",children:[w.jsx("h2",{className:"bg-gray-100 px-4 py-3 m-0 border-r-2 border-gray-200 text-lg font-bold text-gray-700",children:"Admin Menu"}),w.jsx("ul",{className:"py-2 flex flex-row",children:N4.map((n,e)=>w.jsx("li",{className:"hover:bg-gray-50",children:w.jsx("a",{href:`${I4}${n.path}`,className:"block px-6 py-2 text-gray-700 hover:text-gray-900",children:n.label})},e))})]})}),V4=()=>{const[n,e]=V.useState({number_of_users:0,number_of_messages:0,number_of_gifts:0,number_of_places:0,number_of_seen:0,number_of_unseen:0}),[t,s]=V.useState(!0);return V.useEffect(()=>{(async()=>{try{const l=await gn.getAllUsers(),c={number_of_users:l.length,number_of_messages:l.filter(d=>{var m;return(m=d.doa_message)==null?void 0:m.trim()}).length,number_of_places:new Set(l.filter(d=>d.place_at).map(d=>d.place_at)).size,number_of_seen:l.filter(d=>d.has_seen_n_times>0).length,number_of_unseen:l.filter(d=>!d.has_seen_n_times).length,number_of_gifts:l.filter(d=>d.shared).length};e(c)}catch(l){console.error("Error fetching stats:",l)}finally{s(!1)}})()},[]),t?w.jsxs("div",{className:"min-h-screen bg-gray-100",children:[w.jsx("div",{className:"mb-6",children:w.jsx(_a,{})}),w.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:w.jsxs("div",{className:"animate-pulse",children:[w.jsx("div",{className:"h-8 bg-gray-200 rounded w-1/4 mb-8"}),w.jsx("div",{className:"grid grid-cols-1 gap-6",children:[1,2,3,4].map(a=>w.jsx("div",{className:"bg-gray-200 h-32 rounded-lg"},a))})]})})]}):w.jsxs("div",{className:"min-h-screen bg-gray-100",children:[w.jsx("div",{className:"mb-6",children:w.jsx(_a,{})}),w.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[w.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-8",children:"Admin Dashboard"}),w.jsxs("div",{className:"space-y-8",children:[w.jsx("div",{className:"grid grid-cols-1 gap-6",children:w.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[w.jsx("h2",{className:"text-xl font-semibold text-gray-700",children:"Users"}),w.jsx("p",{className:"text-3xl font-bold text-indigo-600",children:n.number_of_users}),w.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Total registered users in the system"})]})}),w.jsxs("div",{children:[w.jsx("h2",{className:"text-2xl font-semibold text-gray-800 my-4",children:"Message Statistics"}),w.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[w.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[w.jsx("h2",{className:"text-xl font-semibold text-gray-700",children:"Messages"}),w.jsx("p",{className:"text-3xl font-bold text-indigo-600",children:n.number_of_messages}),w.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Total messages exchanged"})]}),w.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[w.jsx("h2",{className:"text-xl font-semibold text-gray-700",children:"Seen"}),w.jsx("p",{className:"text-3xl font-bold text-indigo-600",children:n.number_of_seen}),w.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Messages that have been read"})]}),w.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[w.jsx("h2",{className:"text-xl font-semibold text-gray-700",children:"Unseen"}),w.jsx("p",{className:"text-3xl font-bold text-indigo-600",children:n.number_of_unseen}),w.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Messages pending to be read"})]})]})]}),w.jsxs("div",{children:[w.jsx("h2",{className:"text-2xl font-semibold text-gray-800 my-4",children:"Activity Statistics"}),w.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:w.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[w.jsx("h2",{className:"text-xl font-semibold text-gray-700",children:"Places"}),w.jsx("p",{className:"text-3xl font-bold text-indigo-600",children:n.number_of_places}),w.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Total locations marked in the system"})]})})]})]})]})]})};function M4({title:n,titleId:e,...t},s){return V.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":e},t),n?V.createElement("title",{id:e},n):null,V.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 1 0 0-16 8 8 0 0 0 0 16Zm3.857-9.809a.75.75 0 0 0-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 1 0-1.06 1.061l2.5 2.5a.75.75 0 0 0 1.137-.089l4-5.5Z",clipRule:"evenodd"}))}const O4=V.forwardRef(M4);function P4({title:n,titleId:e,...t},s){return V.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":e},t),n?V.createElement("title",{id:e},n):null,V.createElement("path",{d:"M7 3.5A1.5 1.5 0 0 1 8.5 2h3.879a1.5 1.5 0 0 1 1.06.44l3.122 3.12A1.5 1.5 0 0 1 17 6.622V12.5a1.5 1.5 0 0 1-1.5 1.5h-1v-3.379a3 3 0 0 0-.879-2.121L10.5 5.379A3 3 0 0 0 8.379 4.5H7v-1Z"}),V.createElement("path",{d:"M4.5 6A1.5 1.5 0 0 0 3 7.5v9A1.5 1.5 0 0 0 4.5 18h7a1.5 1.5 0 0 0 1.5-1.5v-5.879a1.5 1.5 0 0 0-.44-1.06L9.44 6.439A1.5 1.5 0 0 0 8.378 6H4.5Z"}))}const k4=V.forwardRef(P4);function L4({title:n,titleId:e,...t},s){return V.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":e},t),n?V.createElement("title",{id:e},n):null,V.createElement("path",{fillRule:"evenodd",d:"M1 6a3 3 0 0 1 3-3h12a3 3 0 0 1 3 3v8a3 3 0 0 1-3 3H4a3 3 0 0 1-3-3V6Zm4 1.5a2 2 0 1 1 4 0 2 2 0 0 1-4 0Zm2 3a4 4 0 0 0-3.665 2.395.75.75 0 0 0 .416 1A8.98 8.98 0 0 0 7 14.5a8.98 8.98 0 0 0 3.249-.604.75.75 0 0 0 .416-1.001A4.001 4.001 0 0 0 7 10.5Zm5-3.75a.75.75 0 0 1 .75-.75h2.5a.75.75 0 0 1 0 1.5h-2.5a.75.75 0 0 1-.75-.75Zm0 6.5a.75.75 0 0 1 .75-.75h2.5a.75.75 0 0 1 0 1.5h-2.5a.75.75 0 0 1-.75-.75Zm.75-4a.75.75 0 0 0 0 1.5h2.5a.75.75 0 0 0 0-1.5h-2.5Z",clipRule:"evenodd"}))}const U4=V.forwardRef(L4);function j4({title:n,titleId:e,...t},s){return V.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":e},t),n?V.createElement("title",{id:e},n):null,V.createElement("path",{d:"m2.695 14.762-1.262 3.155a.5.5 0 0 0 .65.65l3.155-1.262a4 4 0 0 0 1.343-.886L17.5 5.501a2.121 2.121 0 0 0-3-3L3.58 13.419a4 4 0 0 0-.885 1.343Z"}))}const B4=V.forwardRef(j4);function F4({title:n,titleId:e,...t},s){return V.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":e},t),n?V.createElement("title",{id:e},n):null,V.createElement("path",{d:"M13 4.5a2.5 2.5 0 1 1 .702 1.737L6.97 9.604a2.518 2.518 0 0 1 0 .792l6.733 3.367a2.5 2.5 0 1 1-.671 1.341l-6.733-3.367a2.5 2.5 0 1 1 0-3.475l6.733-3.366A2.52 2.52 0 0 1 13 4.5Z"}))}const z4=V.forwardRef(F4);function H4({title:n,titleId:e,...t},s){return V.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":e},t),n?V.createElement("title",{id:e},n):null,V.createElement("path",{fillRule:"evenodd",d:"M8.75 1A2.75 2.75 0 0 0 6 3.75v.443c-.795.077-1.584.176-2.365.298a.75.75 0 1 0 .23 1.482l.149-.022.841 10.518A2.75 2.75 0 0 0 7.596 19h4.807a2.75 2.75 0 0 0 2.742-2.53l.841-10.52.149.023a.75.75 0 0 0 .23-1.482A41.03 41.03 0 0 0 14 4.193V3.75A2.75 2.75 0 0 0 11.25 1h-2.5ZM10 4c.84 0 1.673.025 2.5.075V3.75c0-.69-.56-1.25-1.25-1.25h-2.5c-.69 0-1.25.56-1.25 1.25v.325C8.327 4.025 9.16 4 10 4ZM8.58 7.72a.75.75 0 0 0-1.5.06l.3 7.5a.75.75 0 1 0 1.5-.06l-.3-7.5Zm4.34.06a.75.75 0 1 0-1.5-.06l-.3 7.5a.75.75 0 1 0 1.5.06l.3-7.5Z",clipRule:"evenodd"}))}const q4=V.forwardRef(H4);function G4({title:n,titleId:e,...t},s){return V.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":e},t),n?V.createElement("title",{id:e},n):null,V.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 1 0 0-16 8 8 0 0 0 0 16ZM8.28 7.22a.75.75 0 0 0-1.06 1.06L8.94 10l-1.72 1.72a.75.75 0 1 0 1.06 1.06L10 11.06l1.72 1.72a.75.75 0 1 0 1.06-1.06L11.06 10l1.72-1.72a.75.75 0 0 0-1.06-1.06L10 8.94 8.28 7.22Z",clipRule:"evenodd"}))}const K4=V.forwardRef(G4),$4=[{name:"Zulmianah",wa:"",can_read_picture:!0,place_at:"Depok, Indonesia",by:"putri"}],sr={async getUsers(){try{return await gn.getAllUsers()}catch(n){throw console.error("Error fetching users:",n),n}},async importUsers(n){try{return await gn.importUsers(n),{success:!0,message:"Successfully imported users!"}}catch(e){throw console.error("Error importing users:",e),e}},async getUsersByGroup(){try{return await gn.getUsersByGroup()}catch(n){throw console.error("Error fetching user groups:",n),n}},async updateUser(n,e){try{return await gn.updateUser(n,e),{success:!0,message:"Successfully updated user!"}}catch(t){throw console.error("Error updating user:",t),t}},async deleteUser(n){try{return await gn.deleteUser(n),{success:!0,message:"Successfully deleted user!"}}catch(e){throw console.error("Error deleting user:",e),e}},async getUniqueByValues(){try{return await gn.getUniqueByValues()}catch(n){throw console.error("Error fetching unique by values:",n),n}},parseCSVFile(n){return new Promise((e,t)=>{const s=new FileReader;s.onload=a=>{try{const c=a.target.result.split(`
`),d=c[0].split(","),m=c.slice(1).map(p=>{const v=p.split(","),T={};return d.forEach((b,x)=>{var D;T[b.trim()]=(D=v[x])==null?void 0:D.trim()}),T});e(m)}catch(l){t(l)}},s.onerror=t,s.readAsText(n)})}},Lb="/sakinahstory",Y4=()=>{const n=Fu(),[e,t]=V.useState([]),[s,a]=V.useState({}),[l,c]=V.useState([]),[d,m]=V.useState("all");V.useEffect(()=>{p(),v(),T()},[]);const p=async()=>{try{const G=await sr.getUsers();t(G)}catch{alert("Error loading users")}},v=async()=>{try{const G=await sr.getUsersByGroup();a(G)}catch{alert("Error loading user groups")}},T=async()=>{try{const G=await sr.getUniqueByValues();c(G)}catch{alert("Error loading by values")}},b=async(G,se,O)=>{const C=encodeURIComponent(`Hello dear ${O},

We've been preparing something very special and meaningful, and we're finally ready to share it with you. It's a joyful surprise that means a lot to us, and we hope it will make you smile too.
Click the link below to discover it:

https://z-anah.github.io/sakinahstory/open/user/${se}

`),R=`https://wa.me/${G.replace(/\+/g,"")}?text=${C}`;window.open(R,"_blank");try{await sr.updateUser(se,{shared:!0}),await p()}catch(N){console.error("Error updating shared status:",N)}},x=async G=>{try{await navigator.clipboard.writeText(G),alert(`ID ${G} copied to clipboard`)}catch(se){console.error("Error updating shared status:",se)}},D=async G=>{const se=e.find(O=>O.id===G);if(se){const O=`Hello dear ${se.name},

We've been preparing something very special and meaningful, and we're finally ready to share it with you. It's a joyful surprise that means a lot to us, and we hope it will make you smile too.
Click the link below to discover it:

https://z-anah.github.io/sakinahstory/open/user/${G}

`;try{await navigator.clipboard.writeText(O),await sr.updateUser(G,{shared:!0}),await p(),alert("Message copied to clipboard!")}catch(C){console.error("Failed to copy message:",C),alert("Failed to copy message. Please try again.")}}else alert("User not found")},L=G=>{n(`${Lb}/admin/user/${G}/edit`)},P=async G=>{try{const se=G.target.files[0],O=await sr.parseCSVFile(se);console.log(JSON.stringify(O,null,2))}catch{alert("Error processing file")}},B=async()=>{try{const G=await sr.importUsers($4);alert(G.message),await p()}catch{alert("Error importing users")}},Q=async G=>{if(window.confirm("Are you sure you want to delete this user? This action cannot be undone."))try{await sr.deleteUser(G),await p(),await v()}catch{alert("Error deleting user")}},Y=()=>{n(`${Lb}/admin/user/create`)},ae=d==="all"?e:e.filter(G=>(G.by||"Unknown")===d);return w.jsxs("div",{className:"min-h-screen bg-gray-100",children:[w.jsx("div",{className:"mb-6",children:w.jsx(_a,{})}),w.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[w.jsxs("div",{className:"mb-8 bg-white shadow rounded-lg p-6",children:[w.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Users by Inviter"}),w.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:Object.entries(s).map(([G,se])=>w.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[w.jsx("div",{className:"font-medium",children:G}),w.jsx("div",{className:"text-2xl font-bold text-indigo-600",children:se})]},G))})]}),w.jsxs("div",{className:"flex justify-between items-center mb-8",children:[w.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"User Management"}),w.jsxs("div",{className:"flex gap-4 items-center",children:[w.jsx("button",{onClick:Y,className:"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded",children:"Create User"}),w.jsx("button",{onClick:B,className:"bg-green-500 hover:bg-green-700 text-white font-bold py-2 px-4 rounded",children:"Import"}),w.jsx("input",{type:"file",accept:".csv",onChange:P,className:`block w-full text-sm text-gray-500
                file:mr-4 file:py-2 file:px-4
                file:rounded-full file:border-0
                file:text-sm file:font-semibold
                file:bg-indigo-50 file:text-indigo-700
                hover:file:bg-indigo-100`})]})]}),w.jsx("div",{className:"flex items-center mb-4 justify-between",children:w.jsxs("select",{value:d,onChange:G=>m(G.target.value),className:"rounded-md border-gray-300 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50",children:[w.jsx("option",{value:"all",children:"All By"}),l.map(G=>w.jsx("option",{value:G,children:G},G))]})}),w.jsx("div",{className:"bg-white shadow rounded-lg overflow-hidden",children:w.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[w.jsx("thead",{className:"bg-gray-50",children:w.jsxs("tr",{children:[w.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Shared"}),w.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Name"}),w.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Can Read PIC"}),w.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Doa Message"}),w.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Seen X Times"}),w.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"By"}),w.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),w.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:ae.map(G=>w.jsxs("tr",{children:[w.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:G.shared?w.jsx(O4,{className:"h-5 w-5 text-green-500"}):w.jsx(K4,{className:"h-5 w-5 text-gray-300"})}),w.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:G.name}),w.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:G.can_read_picture?"Yes":"No"}),w.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:G.doa_message?"has written":"empty"}),w.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:G.has_seen_n_times}),w.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:G.by||"-"}),w.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:[w.jsx("button",{onClick:()=>x(G.id),className:"text-gray-200 hover:text-gray-300 focus:outline-none mr-3",title:"Copy ID",children:w.jsx(U4,{className:"h-5 w-5 inline-block","aria-hidden":"true"})}),w.jsx("button",{onClick:()=>b(G.wa,G.id,G.name),className:`text-gray-100 hover:text-gray-200 focus:outline-none mr-3 ${G.wa?"text-green-500":"text-gray-300"}`,title:"Share link",disabled:!G.wa,children:w.jsx(z4,{className:"h-5 w-5 inline-block","aria-hidden":"true"})}),w.jsx("button",{onClick:()=>D(G.id),className:"text-gray-600 hover:text-gray-900 focus:outline-none mr-3",title:"Copy Message",children:w.jsx(k4,{className:"h-5 w-5 inline-block","aria-hidden":"true"})}),w.jsx("button",{onClick:()=>L(G.id),className:"text-indigo-600 hover:text-indigo-900 focus:outline-none",children:w.jsx(B4,{className:"h-5 w-5 inline-block","aria-hidden":"true"})}),w.jsx("button",{onClick:()=>Q(G.id),className:"text-red-600 hover:text-red-900 focus:outline-none ml-3",title:"Delete User",children:w.jsx(q4,{className:"h-5 w-5 inline-block","aria-hidden":"true"})})]})]},G.id))})]})})]})]})};function Q4({title:n,titleId:e,...t},s){return V.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":e},t),n?V.createElement("title",{id:e},n):null,V.createElement("path",{fillRule:"evenodd",d:"M4.755 10.059a7.5 7.5 0 0 1 12.548-3.364l1.903 1.903h-3.183a.75.75 0 1 0 0 1.5h4.992a.75.75 0 0 0 .75-.75V4.356a.75.75 0 0 0-1.5 0v3.18l-1.9-1.9A9 9 0 0 0 3.306 9.67a.75.75 0 1 0 1.45.388Zm15.408 3.352a.75.75 0 0 0-.919.53 7.5 7.5 0 0 1-12.548 3.364l-1.902-1.903h3.183a.75.75 0 0 0 0-1.5H2.984a.75.75 0 0 0-.75.75v4.992a.75.75 0 0 0 1.5 0v-3.18l1.9 1.9a9 9 0 0 0 15.059-4.035.75.75 0 0 0-.53-.918Z",clipRule:"evenodd"}))}const X4=V.forwardRef(Q4);class W4{async getMessages(){return[{name:"User 1",doa_message:"Sample doa",updated_doa_message_at:"2023-10-01T12:00:00Z",place_at:"Jakarta"}]}async updateMessage(e,t){return console.log("Updating message:",e,t),!0}}const Ub=new W4;class Z4{async getMessages(){try{return await Ub.getMessages()}catch(e){throw console.error("Failed to fetch messages:",e),e}}async updateMessage(e,t){try{return await Ub.updateMessage(e,t)}catch(s){throw console.error("Failed to update message:",s),s}}}const jb=new Z4,J4=()=>{const[n,e]=V.useState(!1),[t,s]=V.useState([]);V.useEffect(()=>{a()},[]);const a=async()=>{try{const c=await jb.getMessages();s(c)}catch(c){console.error("Failed to load messages:",c)}},l=async(c,d)=>{d.preventDefault(),e(!0);try{await jb.updateMessage(c,t[c])}catch(m){console.error("Failed to save message:",m)}finally{e(!1)}};return w.jsxs("div",{className:"min-h-screen bg-gray-100",children:[w.jsx("div",{className:"mb-6",children:w.jsx(_a,{})}),w.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[w.jsxs("div",{className:"flex justify-between items-center mb-8",children:[w.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Doa Messages"}),n&&w.jsx("span",{className:"text-sm text-gray-500",children:"Saving changes..."})]}),w.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:t.map((c,d)=>w.jsxs("form",{onSubmit:m=>l(d,m),className:"bg-white rounded-lg shadow-lg p-6 transition-all duration-200 hover:shadow-xl border border-gray-100",children:[w.jsxs("div",{className:"mb-6 pb-4 border-b border-gray-100",children:[w.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-2",children:c.name}),w.jsxs("div",{className:"flex justify-between items-center text-sm text-gray-500",children:[w.jsx("span",{children:new Date(c.updated_doa_message_at).toLocaleString()}),w.jsx("span",{className:"px-3 py-1 bg-gray-100 rounded-full",children:c.place_at})]})]}),w.jsxs("div",{className:"prose mb-4",children:[w.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Doa Message"}),w.jsx("textarea",{className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors min-h-[120px] resize-none block",defaultValue:c.doa_message,rows:"3",maxLength:500,onChange:m=>{const p=500-m.target.value.length;m.target.nextElementSibling.textContent=`${p} characters remaining`}}),w.jsx("p",{className:"text-sm text-gray-500 mt-1 text-right",children:"500 characters remaining"})]}),w.jsx("button",{type:"submit",disabled:n,className:"w-full bg-blue-500 text-white px-4 py-2 rounded-lg hover:bg-blue-600 transition-colors disabled:bg-blue-300 disabled:cursor-not-allowed flex justify-center items-center space-x-2",children:n?w.jsxs(w.Fragment,{children:[w.jsx(X4,{className:"h-5 w-5 animate-spin"}),w.jsx("span",{children:"Saving..."})]}):"Save Changes"})]},d))})]})]})},eU=()=>w.jsxs("div",{children:[w.jsx("h1",{children:"Admin URL"}),w.jsx("p",{children:"This is the Admin URL page."})]}),tU=()=>{const{id:n}=pg(),e=Fu(),[t,s]=V.useState({name:"",wa:"",can_read_picture:!1,doa_message:"",place_at:"",shared:!1,by:"",has_seen_n_times:0,has_seen_last_at:"Never"}),[a,l]=V.useState(!0),[c,d]=V.useState(!1),[m,p]=V.useState(null),[v,T]=V.useState("");V.useEffect(()=>{(async()=>{try{const L=await gn.getUser(n);s(L),l(!1)}catch{p("Failed to fetch user data"),l(!1)}})()},[n]);const b=D=>{const L=D.target.type==="checkbox"?D.target.checked:D.target.value;s({...t,[D.target.name]:L})},x=async D=>{l(!0),D.preventDefault(),d(!0),p(null),T("");try{await gn.updateUser(n,t),T("Changes saved successfully!"),setTimeout(()=>T(""),3e3)}catch{p("Failed to update user")}finally{d(!1),l(!1)}};return a?w.jsxs("div",{className:"min-h-screen bg-gray-100",children:[w.jsx(_a,{}),w.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 pt-8",children:w.jsxs("div",{className:"animate-pulse",children:[w.jsx("div",{className:"h-8 bg-gray-200 rounded w-1/4 mb-8"}),w.jsx("div",{className:"bg-white shadow rounded-lg p-6",children:w.jsx("div",{className:"space-y-6",children:[1].map(D=>w.jsx("div",{className:"h-10 bg-gray-200 rounded"},D))})})]})})]}):w.jsxs("div",{className:"min-h-screen bg-gray-100",children:[w.jsx("div",{className:"mb-6",children:w.jsx(_a,{})}),w.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[w.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Edit User"}),w.jsxs("p",{className:"text-gray-500 mb-6",children:["ID: ",n]}),v&&w.jsx("div",{className:"mb-4 p-4 bg-green-100 border border-green-400 text-green-700 rounded",children:v}),m&&w.jsx("div",{className:"mb-4 p-4 bg-red-100 border border-red-400 text-red-700 rounded",children:m}),w.jsx("div",{className:"bg-white shadow rounded-lg p-6",children:w.jsx("form",{onSubmit:x,children:w.jsxs("div",{className:"space-y-6",children:[w.jsxs("div",{children:[w.jsx("label",{className:"block text-sm font-medium text-gray-700 mt-4",children:"Name"}),w.jsx("input",{type:"text",name:"name",value:t.name,onChange:b,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",disabled:c})]}),w.jsxs("div",{children:[w.jsx("label",{className:"block text-sm font-medium text-gray-700 mt-4",children:"WhatsApp"}),w.jsx("input",{type:"text",name:"wa",value:t.wa,onChange:b,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",disabled:c})]}),w.jsxs("div",{children:[w.jsx("label",{className:"block text-sm font-medium text-gray-700 mt-4",children:"Doa Message"}),w.jsx("textarea",{name:"doa_message",value:t.doa_message,onChange:b,rows:4,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",disabled:c})]}),w.jsxs("div",{children:[w.jsx("label",{className:"block text-sm font-medium text-gray-700 mt-4",children:"Place"}),w.jsx("input",{type:"text",name:"place_at",value:t.place_at,onChange:b,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",disabled:c})]}),w.jsxs("div",{className:"flex items-center mt-4",children:[w.jsx("input",{type:"checkbox",name:"can_read_picture",checked:t.can_read_picture,onChange:b,className:"h-4 w-4 rounded border-gray-300 text-indigo-600 focus:ring-indigo-500",disabled:c}),w.jsx("label",{className:"ml-2 block text-sm text-gray-900",children:"Can Read Picture"})]}),w.jsxs("div",{className:"flex items-center mt-4",children:[w.jsx("input",{type:"checkbox",name:"shared",checked:t.shared,onChange:b,className:"h-4 w-4 rounded border-gray-300 text-indigo-600 focus:ring-indigo-500",disabled:c}),w.jsx("label",{className:"ml-2 block text-sm text-gray-900",children:"Shared"})]}),w.jsxs("div",{children:[w.jsx("label",{className:"block text-sm font-medium text-gray-700 mt-4",children:"Added By"}),w.jsx("input",{type:"text",name:"by",value:t.by,onChange:b,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",disabled:c})]}),w.jsxs("div",{children:[w.jsx("label",{className:"block text-sm font-medium text-gray-700 mt-4",children:"Times Viewed"}),w.jsx("input",{type:"text",value:t.has_seen_n_times||0,className:"mt-1 block w-full rounded-md border-gray-300 bg-gray-50 shadow-sm sm:text-sm",disabled:!0})]}),w.jsxs("div",{children:[w.jsx("label",{className:"block text-sm font-medium text-gray-700 mt-4",children:"Last Viewed At"}),w.jsx("input",{type:"text",value:t.has_seen_last_at||"Never",className:"mt-1 block w-full rounded-md border-gray-300 bg-gray-50 shadow-sm sm:text-sm",disabled:!0})]}),w.jsxs("div",{className:"flex justify-end space-x-3 mt-4",children:[w.jsx("button",{type:"button",onClick:()=>e(-1),disabled:c,className:"rounded-md border border-gray-300 bg-white py-2 px-4 text-sm font-medium text-gray-700 shadow-sm hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 disabled:opacity-50",children:"Cancel"}),w.jsx("button",{type:"submit",disabled:c,className:"relative ml-4 inline-flex justify-center rounded-md border border-transparent bg-indigo-600 py-2 px-4 text-sm font-medium text-white shadow-sm hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 disabled:opacity-50",children:c?w.jsxs(w.Fragment,{children:[w.jsx("span",{className:"animate-spin inline-block mr-2",children:"⭮"}),"Saving..."]}):"Save Changes"})]})]})})})]})]})},nU=()=>w.jsx("div",{className:"flex h-screen items-center justify-center",children:w.jsx("h1",{className:"text-sm font-bold",children:"404 - Page Not Found"})}),iU="/sakinahstory",sU=()=>{const n=Fu(),[e,t]=V.useState({name:"",wa:"",can_read_picture:!1,doa_message:"",place_at:"",shared:!1,by:"",has_seen_n_times:0,has_seen_last_at:"Never"}),[s,a]=V.useState(!1),[l,c]=V.useState(null),d=p=>{const v=p.target.type==="checkbox"?p.target.checked:p.target.value;t({...e,[p.target.name]:v})},m=async p=>{p.preventDefault(),a(!0),c(null);try{await gn.importUsers([e]),n(`${iU}/admin/users`)}catch{c("Failed to create user"),a(!1)}};return w.jsxs("div",{className:"min-h-screen bg-gray-100",children:[w.jsx("div",{className:"mb-6",children:w.jsx(_a,{})}),w.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[w.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-6",children:"Create New User"}),l&&w.jsx("div",{className:"mb-4 p-4 bg-red-100 border border-red-400 text-red-700 rounded",children:l}),w.jsx("div",{className:"bg-white shadow rounded-lg p-6",children:w.jsx("form",{onSubmit:m,children:w.jsxs("div",{className:"space-y-6",children:[w.jsxs("div",{children:[w.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Name"}),w.jsx("input",{type:"text",name:"name",required:!0,value:e.name,onChange:d,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",disabled:s})]}),w.jsxs("div",{children:[w.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"WhatsApp"}),w.jsx("input",{type:"text",name:"wa",value:e.wa,onChange:d,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",disabled:s})]}),w.jsxs("div",{children:[w.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Place"}),w.jsx("input",{type:"text",name:"place_at",value:e.place_at,onChange:d,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",disabled:s})]}),w.jsxs("div",{children:[w.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Added By"}),w.jsx("input",{type:"text",name:"by",required:!0,value:e.by,onChange:d,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",disabled:s})]}),w.jsxs("div",{className:"flex items-center",children:[w.jsx("input",{type:"checkbox",name:"can_read_picture",checked:e.can_read_picture,onChange:d,className:"h-4 w-4 rounded border-gray-300 text-indigo-600 focus:ring-indigo-500",disabled:s}),w.jsx("label",{className:"ml-2 block text-sm text-gray-900",children:"Can Read Picture"})]}),w.jsxs("div",{className:"flex justify-end space-x-3",children:[w.jsx("button",{type:"button",onClick:()=>n(-1),disabled:s,className:"rounded-md border border-gray-300 bg-white py-2 px-4 text-sm font-medium text-gray-700 shadow-sm hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2",children:"Cancel"}),w.jsx("button",{type:"submit",disabled:s,className:"inline-flex justify-center rounded-md border border-transparent bg-indigo-600 py-2 px-4 text-sm font-medium text-white shadow-sm hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2",children:s?"Creating...":"Create User"})]})]})})})]})]})},rU=()=>{const n="/sakinahstory";return w.jsxs(dC,{children:[w.jsx(ti,{element:w.jsx(C4,{}),path:n+"/open/user/:id"}),w.jsx(ti,{element:w.jsx(R4,{}),path:n+"/breaking-news/user/:id"}),w.jsx(ti,{element:w.jsx(eU,{}),path:n+"/admin/url"}),w.jsx(ti,{element:w.jsx(D4,{}),path:n+"/admin/login"}),w.jsx(ti,{element:w.jsx(V4,{}),path:n+"/admin/dashboard"}),w.jsx(ti,{element:w.jsx(Y4,{}),path:n+"/admin/users"}),w.jsx(ti,{element:w.jsx(tU,{}),path:n+"/admin/user/:id/edit"}),w.jsx(ti,{element:w.jsx(sU,{}),path:n+"/admin/user/create"}),w.jsx(ti,{element:w.jsx(J4,{}),path:n+"/admin/doa-messages"}),w.jsx(ti,{element:w.jsx(nU,{}),path:"*"})]})};wR.createRoot(document.getElementById("root")).render(w.jsx(V.StrictMode,{children:w.jsx(LC,{children:w.jsx(rU,{})})}));
