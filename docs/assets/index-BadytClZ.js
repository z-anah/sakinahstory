(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const h of u.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&s(h)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();function LA(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var Hd={exports:{}},Il={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var H_;function UA(){if(H_)return Il;H_=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,o,u){var h=null;if(u!==void 0&&(h=""+u),o.key!==void 0&&(h=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:r,type:s,key:h,ref:o!==void 0?o:null,props:u}}return Il.Fragment=e,Il.jsx=n,Il.jsxs=n,Il}var F_;function zA(){return F_||(F_=1,Hd.exports=UA()),Hd.exports}var q=zA(),Fd={exports:{}},Re={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var G_;function jA(){if(G_)return Re;G_=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),h=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),A=Symbol.iterator;function R(M){return M===null||typeof M!="object"?null:(M=A&&M[A]||M["@@iterator"],typeof M=="function"?M:null)}var N={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},P=Object.assign,Q={};function L(M,ie,pe){this.props=M,this.context=ie,this.refs=Q,this.updater=pe||N}L.prototype.isReactComponent={},L.prototype.setState=function(M,ie){if(typeof M!="object"&&typeof M!="function"&&M!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,M,ie,"setState")},L.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};function K(){}K.prototype=L.prototype;function Y(M,ie,pe){this.props=M,this.context=ie,this.refs=Q,this.updater=pe||N}var z=Y.prototype=new K;z.constructor=Y,P(z,L.prototype),z.isPureReactComponent=!0;var ne=Array.isArray,re={H:null,A:null,T:null,S:null},he=Object.prototype.hasOwnProperty;function C(M,ie,pe,oe,le,Ie){return pe=Ie.ref,{$$typeof:r,type:M,key:ie,ref:pe!==void 0?pe:null,props:Ie}}function S(M,ie){return C(M.type,ie,void 0,void 0,void 0,M.props)}function w(M){return typeof M=="object"&&M!==null&&M.$$typeof===r}function D(M){var ie={"=":"=0",":":"=2"};return"$"+M.replace(/[=:]/g,function(pe){return ie[pe]})}var O=/\/+/g;function U(M,ie){return typeof M=="object"&&M!==null&&M.key!=null?D(""+M.key):ie.toString(36)}function x(){}function ot(M){switch(M.status){case"fulfilled":return M.value;case"rejected":throw M.reason;default:switch(typeof M.status=="string"?M.then(x,x):(M.status="pending",M.then(function(ie){M.status==="pending"&&(M.status="fulfilled",M.value=ie)},function(ie){M.status==="pending"&&(M.status="rejected",M.reason=ie)})),M.status){case"fulfilled":return M.value;case"rejected":throw M.reason}}throw M}function Je(M,ie,pe,oe,le){var Ie=typeof M;(Ie==="undefined"||Ie==="boolean")&&(M=null);var Se=!1;if(M===null)Se=!0;else switch(Ie){case"bigint":case"string":case"number":Se=!0;break;case"object":switch(M.$$typeof){case r:case e:Se=!0;break;case E:return Se=M._init,Je(Se(M._payload),ie,pe,oe,le)}}if(Se)return le=le(M),Se=oe===""?"."+U(M,0):oe,ne(le)?(pe="",Se!=null&&(pe=Se.replace(O,"$&/")+"/"),Je(le,ie,pe,"",function(lt){return lt})):le!=null&&(w(le)&&(le=S(le,pe+(le.key==null||M&&M.key===le.key?"":(""+le.key).replace(O,"$&/")+"/")+Se)),ie.push(le)),1;Se=0;var gt=oe===""?".":oe+":";if(ne(M))for(var ze=0;ze<M.length;ze++)oe=M[ze],Ie=gt+U(oe,ze),Se+=Je(oe,ie,pe,Ie,le);else if(ze=R(M),typeof ze=="function")for(M=ze.call(M),ze=0;!(oe=M.next()).done;)oe=oe.value,Ie=gt+U(oe,ze++),Se+=Je(oe,ie,pe,Ie,le);else if(Ie==="object"){if(typeof M.then=="function")return Je(ot(M),ie,pe,oe,le);throw ie=String(M),Error("Objects are not valid as a React child (found: "+(ie==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":ie)+"). If you meant to render a collection of children, use an array instead.")}return Se}function ae(M,ie,pe){if(M==null)return M;var oe=[],le=0;return Je(M,oe,"","",function(Ie){return ie.call(pe,Ie,le++)}),oe}function _e(M){if(M._status===-1){var ie=M._result;ie=ie(),ie.then(function(pe){(M._status===0||M._status===-1)&&(M._status=1,M._result=pe)},function(pe){(M._status===0||M._status===-1)&&(M._status=2,M._result=pe)}),M._status===-1&&(M._status=0,M._result=ie)}if(M._status===1)return M._result.default;throw M._result}var de=typeof reportError=="function"?reportError:function(M){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ie=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof M=="object"&&M!==null&&typeof M.message=="string"?String(M.message):String(M),error:M});if(!window.dispatchEvent(ie))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",M);return}console.error(M)};function He(){}return Re.Children={map:ae,forEach:function(M,ie,pe){ae(M,function(){ie.apply(this,arguments)},pe)},count:function(M){var ie=0;return ae(M,function(){ie++}),ie},toArray:function(M){return ae(M,function(ie){return ie})||[]},only:function(M){if(!w(M))throw Error("React.Children.only expected to receive a single React element child.");return M}},Re.Component=L,Re.Fragment=n,Re.Profiler=o,Re.PureComponent=Y,Re.StrictMode=s,Re.Suspense=p,Re.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=re,Re.act=function(){throw Error("act(...) is not supported in production builds of React.")},Re.cache=function(M){return function(){return M.apply(null,arguments)}},Re.cloneElement=function(M,ie,pe){if(M==null)throw Error("The argument must be a React element, but you passed "+M+".");var oe=P({},M.props),le=M.key,Ie=void 0;if(ie!=null)for(Se in ie.ref!==void 0&&(Ie=void 0),ie.key!==void 0&&(le=""+ie.key),ie)!he.call(ie,Se)||Se==="key"||Se==="__self"||Se==="__source"||Se==="ref"&&ie.ref===void 0||(oe[Se]=ie[Se]);var Se=arguments.length-2;if(Se===1)oe.children=pe;else if(1<Se){for(var gt=Array(Se),ze=0;ze<Se;ze++)gt[ze]=arguments[ze+2];oe.children=gt}return C(M.type,le,void 0,void 0,Ie,oe)},Re.createContext=function(M){return M={$$typeof:h,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null},M.Provider=M,M.Consumer={$$typeof:u,_context:M},M},Re.createElement=function(M,ie,pe){var oe,le={},Ie=null;if(ie!=null)for(oe in ie.key!==void 0&&(Ie=""+ie.key),ie)he.call(ie,oe)&&oe!=="key"&&oe!=="__self"&&oe!=="__source"&&(le[oe]=ie[oe]);var Se=arguments.length-2;if(Se===1)le.children=pe;else if(1<Se){for(var gt=Array(Se),ze=0;ze<Se;ze++)gt[ze]=arguments[ze+2];le.children=gt}if(M&&M.defaultProps)for(oe in Se=M.defaultProps,Se)le[oe]===void 0&&(le[oe]=Se[oe]);return C(M,Ie,void 0,void 0,null,le)},Re.createRef=function(){return{current:null}},Re.forwardRef=function(M){return{$$typeof:m,render:M}},Re.isValidElement=w,Re.lazy=function(M){return{$$typeof:E,_payload:{_status:-1,_result:M},_init:_e}},Re.memo=function(M,ie){return{$$typeof:g,type:M,compare:ie===void 0?null:ie}},Re.startTransition=function(M){var ie=re.T,pe={};re.T=pe;try{var oe=M(),le=re.S;le!==null&&le(pe,oe),typeof oe=="object"&&oe!==null&&typeof oe.then=="function"&&oe.then(He,de)}catch(Ie){de(Ie)}finally{re.T=ie}},Re.unstable_useCacheRefresh=function(){return re.H.useCacheRefresh()},Re.use=function(M){return re.H.use(M)},Re.useActionState=function(M,ie,pe){return re.H.useActionState(M,ie,pe)},Re.useCallback=function(M,ie){return re.H.useCallback(M,ie)},Re.useContext=function(M){return re.H.useContext(M)},Re.useDebugValue=function(){},Re.useDeferredValue=function(M,ie){return re.H.useDeferredValue(M,ie)},Re.useEffect=function(M,ie){return re.H.useEffect(M,ie)},Re.useId=function(){return re.H.useId()},Re.useImperativeHandle=function(M,ie,pe){return re.H.useImperativeHandle(M,ie,pe)},Re.useInsertionEffect=function(M,ie){return re.H.useInsertionEffect(M,ie)},Re.useLayoutEffect=function(M,ie){return re.H.useLayoutEffect(M,ie)},Re.useMemo=function(M,ie){return re.H.useMemo(M,ie)},Re.useOptimistic=function(M,ie){return re.H.useOptimistic(M,ie)},Re.useReducer=function(M,ie,pe){return re.H.useReducer(M,ie,pe)},Re.useRef=function(M){return re.H.useRef(M)},Re.useState=function(M){return re.H.useState(M)},Re.useSyncExternalStore=function(M,ie,pe){return re.H.useSyncExternalStore(M,ie,pe)},Re.useTransition=function(){return re.H.useTransition()},Re.version="19.0.0",Re}var K_;function Hm(){return K_||(K_=1,Fd.exports=jA()),Fd.exports}var F=Hm();const tt=LA(F);var Gd={exports:{}},Cl={},Kd={exports:{}},Qd={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Q_;function BA(){return Q_||(Q_=1,function(r){function e(ae,_e){var de=ae.length;ae.push(_e);e:for(;0<de;){var He=de-1>>>1,M=ae[He];if(0<o(M,_e))ae[He]=_e,ae[de]=M,de=He;else break e}}function n(ae){return ae.length===0?null:ae[0]}function s(ae){if(ae.length===0)return null;var _e=ae[0],de=ae.pop();if(de!==_e){ae[0]=de;e:for(var He=0,M=ae.length,ie=M>>>1;He<ie;){var pe=2*(He+1)-1,oe=ae[pe],le=pe+1,Ie=ae[le];if(0>o(oe,de))le<M&&0>o(Ie,oe)?(ae[He]=Ie,ae[le]=de,He=le):(ae[He]=oe,ae[pe]=de,He=pe);else if(le<M&&0>o(Ie,de))ae[He]=Ie,ae[le]=de,He=le;else break e}}return _e}function o(ae,_e){var de=ae.sortIndex-_e.sortIndex;return de!==0?de:ae.id-_e.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;r.unstable_now=function(){return u.now()}}else{var h=Date,m=h.now();r.unstable_now=function(){return h.now()-m}}var p=[],g=[],E=1,A=null,R=3,N=!1,P=!1,Q=!1,L=typeof setTimeout=="function"?setTimeout:null,K=typeof clearTimeout=="function"?clearTimeout:null,Y=typeof setImmediate<"u"?setImmediate:null;function z(ae){for(var _e=n(g);_e!==null;){if(_e.callback===null)s(g);else if(_e.startTime<=ae)s(g),_e.sortIndex=_e.expirationTime,e(p,_e);else break;_e=n(g)}}function ne(ae){if(Q=!1,z(ae),!P)if(n(p)!==null)P=!0,ot();else{var _e=n(g);_e!==null&&Je(ne,_e.startTime-ae)}}var re=!1,he=-1,C=5,S=-1;function w(){return!(r.unstable_now()-S<C)}function D(){if(re){var ae=r.unstable_now();S=ae;var _e=!0;try{e:{P=!1,Q&&(Q=!1,K(he),he=-1),N=!0;var de=R;try{t:{for(z(ae),A=n(p);A!==null&&!(A.expirationTime>ae&&w());){var He=A.callback;if(typeof He=="function"){A.callback=null,R=A.priorityLevel;var M=He(A.expirationTime<=ae);if(ae=r.unstable_now(),typeof M=="function"){A.callback=M,z(ae),_e=!0;break t}A===n(p)&&s(p),z(ae)}else s(p);A=n(p)}if(A!==null)_e=!0;else{var ie=n(g);ie!==null&&Je(ne,ie.startTime-ae),_e=!1}}break e}finally{A=null,R=de,N=!1}_e=void 0}}finally{_e?O():re=!1}}}var O;if(typeof Y=="function")O=function(){Y(D)};else if(typeof MessageChannel<"u"){var U=new MessageChannel,x=U.port2;U.port1.onmessage=D,O=function(){x.postMessage(null)}}else O=function(){L(D,0)};function ot(){re||(re=!0,O())}function Je(ae,_e){he=L(function(){ae(r.unstable_now())},_e)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(ae){ae.callback=null},r.unstable_continueExecution=function(){P||N||(P=!0,ot())},r.unstable_forceFrameRate=function(ae){0>ae||125<ae?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<ae?Math.floor(1e3/ae):5},r.unstable_getCurrentPriorityLevel=function(){return R},r.unstable_getFirstCallbackNode=function(){return n(p)},r.unstable_next=function(ae){switch(R){case 1:case 2:case 3:var _e=3;break;default:_e=R}var de=R;R=_e;try{return ae()}finally{R=de}},r.unstable_pauseExecution=function(){},r.unstable_requestPaint=function(){},r.unstable_runWithPriority=function(ae,_e){switch(ae){case 1:case 2:case 3:case 4:case 5:break;default:ae=3}var de=R;R=ae;try{return _e()}finally{R=de}},r.unstable_scheduleCallback=function(ae,_e,de){var He=r.unstable_now();switch(typeof de=="object"&&de!==null?(de=de.delay,de=typeof de=="number"&&0<de?He+de:He):de=He,ae){case 1:var M=-1;break;case 2:M=250;break;case 5:M=1073741823;break;case 4:M=1e4;break;default:M=5e3}return M=de+M,ae={id:E++,callback:_e,priorityLevel:ae,startTime:de,expirationTime:M,sortIndex:-1},de>He?(ae.sortIndex=de,e(g,ae),n(p)===null&&ae===n(g)&&(Q?(K(he),he=-1):Q=!0,Je(ne,de-He))):(ae.sortIndex=M,e(p,ae),P||N||(P=!0,ot())),ae},r.unstable_shouldYield=w,r.unstable_wrapCallback=function(ae){var _e=R;return function(){var de=R;R=_e;try{return ae.apply(this,arguments)}finally{R=de}}}}(Qd)),Qd}var $_;function qA(){return $_||($_=1,Kd.exports=BA()),Kd.exports}var $d={exports:{}},Qt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Y_;function HA(){if(Y_)return Qt;Y_=1;var r=Hm();function e(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)g+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(p,g,E){var A=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:A==null?null:""+A,children:p,containerInfo:g,implementation:E}}var h=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,g){if(p==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return Qt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Qt.createPortal=function(p,g){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return u(p,g,null,E)},Qt.flushSync=function(p){var g=h.T,E=s.p;try{if(h.T=null,s.p=2,p)return p()}finally{h.T=g,s.p=E,s.d.f()}},Qt.preconnect=function(p,g){typeof p=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,s.d.C(p,g))},Qt.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},Qt.preinit=function(p,g){if(typeof p=="string"&&g&&typeof g.as=="string"){var E=g.as,A=m(E,g.crossOrigin),R=typeof g.integrity=="string"?g.integrity:void 0,N=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;E==="style"?s.d.S(p,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:A,integrity:R,fetchPriority:N}):E==="script"&&s.d.X(p,{crossOrigin:A,integrity:R,fetchPriority:N,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},Qt.preinitModule=function(p,g){if(typeof p=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var E=m(g.as,g.crossOrigin);s.d.M(p,{crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&s.d.M(p)},Qt.preload=function(p,g){if(typeof p=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var E=g.as,A=m(E,g.crossOrigin);s.d.L(p,E,{crossOrigin:A,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},Qt.preloadModule=function(p,g){if(typeof p=="string")if(g){var E=m(g.as,g.crossOrigin);s.d.m(p,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else s.d.m(p)},Qt.requestFormReset=function(p){s.d.r(p)},Qt.unstable_batchedUpdates=function(p,g){return p(g)},Qt.useFormState=function(p,g,E){return h.H.useFormState(p,g,E)},Qt.useFormStatus=function(){return h.H.useHostTransitionStatus()},Qt.version="19.0.0",Qt}var X_;function FA(){if(X_)return $d.exports;X_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),$d.exports=HA(),$d.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var W_;function GA(){if(W_)return Cl;W_=1;var r=qA(),e=Hm(),n=FA();function s(t){var i="https://react.dev/errors/"+t;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}var u=Symbol.for("react.element"),h=Symbol.for("react.transitional.element"),m=Symbol.for("react.portal"),p=Symbol.for("react.fragment"),g=Symbol.for("react.strict_mode"),E=Symbol.for("react.profiler"),A=Symbol.for("react.provider"),R=Symbol.for("react.consumer"),N=Symbol.for("react.context"),P=Symbol.for("react.forward_ref"),Q=Symbol.for("react.suspense"),L=Symbol.for("react.suspense_list"),K=Symbol.for("react.memo"),Y=Symbol.for("react.lazy"),z=Symbol.for("react.offscreen"),ne=Symbol.for("react.memo_cache_sentinel"),re=Symbol.iterator;function he(t){return t===null||typeof t!="object"?null:(t=re&&t[re]||t["@@iterator"],typeof t=="function"?t:null)}var C=Symbol.for("react.client.reference");function S(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===C?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case p:return"Fragment";case m:return"Portal";case E:return"Profiler";case g:return"StrictMode";case Q:return"Suspense";case L:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case N:return(t.displayName||"Context")+".Provider";case R:return(t._context.displayName||"Context")+".Consumer";case P:var i=t.render;return t=t.displayName,t||(t=i.displayName||i.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case K:return i=t.displayName||null,i!==null?i:S(t.type)||"Memo";case Y:i=t._payload,t=t._init;try{return S(t(i))}catch{}}return null}var w=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,D=Object.assign,O,U;function x(t){if(O===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);O=i&&i[1]||"",U=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+O+t+U}var ot=!1;function Je(t,i){if(!t||ot)return"";ot=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(i){var te=function(){throw Error()};if(Object.defineProperty(te.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(te,[])}catch(X){var G=X}Reflect.construct(t,[],te)}else{try{te.call()}catch(X){G=X}t.call(te.prototype)}}else{try{throw Error()}catch(X){G=X}(te=t())&&typeof te.catch=="function"&&te.catch(function(){})}}catch(X){if(X&&G&&typeof X.stack=="string")return[X.stack,G.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),v=d[0],T=d[1];if(v&&T){var I=v.split(`
`),k=T.split(`
`);for(f=l=0;l<I.length&&!I[l].includes("DetermineComponentFrameRoot");)l++;for(;f<k.length&&!k[f].includes("DetermineComponentFrameRoot");)f++;if(l===I.length||f===k.length)for(l=I.length-1,f=k.length-1;1<=l&&0<=f&&I[l]!==k[f];)f--;for(;1<=l&&0<=f;l--,f--)if(I[l]!==k[f]){if(l!==1||f!==1)do if(l--,f--,0>f||I[l]!==k[f]){var W=`
`+I[l].replace(" at new "," at ");return t.displayName&&W.includes("<anonymous>")&&(W=W.replace("<anonymous>",t.displayName)),W}while(1<=l&&0<=f);break}}}finally{ot=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?x(a):""}function ae(t){switch(t.tag){case 26:case 27:case 5:return x(t.type);case 16:return x("Lazy");case 13:return x("Suspense");case 19:return x("SuspenseList");case 0:case 15:return t=Je(t.type,!1),t;case 11:return t=Je(t.type.render,!1),t;case 1:return t=Je(t.type,!0),t;default:return""}}function _e(t){try{var i="";do i+=ae(t),t=t.return;while(t);return i}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function de(t){var i=t,a=t;if(t.alternate)for(;i.return;)i=i.return;else{t=i;do i=t,i.flags&4098&&(a=i.return),t=i.return;while(t)}return i.tag===3?a:null}function He(t){if(t.tag===13){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function M(t){if(de(t)!==t)throw Error(s(188))}function ie(t){var i=t.alternate;if(!i){if(i=de(t),i===null)throw Error(s(188));return i!==t?null:t}for(var a=t,l=i;;){var f=a.return;if(f===null)break;var d=f.alternate;if(d===null){if(l=f.return,l!==null){a=l;continue}break}if(f.child===d.child){for(d=f.child;d;){if(d===a)return M(f),t;if(d===l)return M(f),i;d=d.sibling}throw Error(s(188))}if(a.return!==l.return)a=f,l=d;else{for(var v=!1,T=f.child;T;){if(T===a){v=!0,a=f,l=d;break}if(T===l){v=!0,l=f,a=d;break}T=T.sibling}if(!v){for(T=d.child;T;){if(T===a){v=!0,a=d,l=f;break}if(T===l){v=!0,l=d,a=f;break}T=T.sibling}if(!v)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?t:i}function pe(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t;for(t=t.child;t!==null;){if(i=pe(t),i!==null)return i;t=t.sibling}return null}var oe=Array.isArray,le=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Ie={pending:!1,data:null,method:null,action:null},Se=[],gt=-1;function ze(t){return{current:t}}function lt(t){0>gt||(t.current=Se[gt],Se[gt]=null,gt--)}function Ke(t,i){gt++,Se[gt]=t.current,t.current=i}var Zt=ze(null),Ai=ze(null),En=ze(null),lr=ze(null);function ur(t,i){switch(Ke(En,i),Ke(Ai,t),Ke(Zt,null),t=i.nodeType,t){case 9:case 11:i=(i=i.documentElement)&&(i=i.namespaceURI)?__(i):0;break;default:if(t=t===8?i.parentNode:i,i=t.tagName,t=t.namespaceURI)t=__(t),i=v_(t,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}lt(Zt),Ke(Zt,i)}function wi(){lt(Zt),lt(Ai),lt(En)}function bo(t){t.memoizedState!==null&&Ke(lr,t);var i=Zt.current,a=v_(i,t.type);i!==a&&(Ke(Ai,t),Ke(Zt,a))}function ra(t){Ai.current===t&&(lt(Zt),lt(Ai)),lr.current===t&&(lt(lr),bl._currentValue=Ie)}var sa=Object.prototype.hasOwnProperty,fs=r.unstable_scheduleCallback,aa=r.unstable_cancelCallback,Gf=r.unstable_shouldYield,Ao=r.unstable_requestPaint,an=r.unstable_now,mu=r.unstable_getCurrentPriorityLevel,bt=r.unstable_ImmediatePriority,xt=r.unstable_UserBlockingPriority,Si=r.unstable_NormalPriority,pu=r.unstable_LowPriority,wo=r.unstable_IdlePriority,Kf=r.log,hs=r.unstable_setDisableYieldValue,cr=null,Gt=null;function So(t){if(Gt&&typeof Gt.onCommitFiberRoot=="function")try{Gt.onCommitFiberRoot(cr,t,void 0,(t.current.flags&128)===128)}catch{}}function Wn(t){if(typeof Kf=="function"&&hs(t),Gt&&typeof Gt.setStrictMode=="function")try{Gt.setStrictMode(cr,t)}catch{}}var Jt=Math.clz32?Math.clz32:yu,Ro=Math.log,gu=Math.LN2;function yu(t){return t>>>=0,t===0?32:31-(Ro(t)/gu|0)|0}var Zn=128,fr=4194304;function Un(t){var i=t&42;if(i!==0)return i;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Tn(t,i){var a=t.pendingLanes;if(a===0)return 0;var l=0,f=t.suspendedLanes,d=t.pingedLanes,v=t.warmLanes;t=t.finishedLanes!==0;var T=a&134217727;return T!==0?(a=T&~f,a!==0?l=Un(a):(d&=T,d!==0?l=Un(d):t||(v=T&~v,v!==0&&(l=Un(v))))):(T=a&~f,T!==0?l=Un(T):d!==0?l=Un(d):t||(v=a&~v,v!==0&&(l=Un(v)))),l===0?0:i!==0&&i!==l&&!(i&f)&&(f=l&-l,v=i&-i,f>=v||f===32&&(v&4194176)!==0)?i:l}function hr(t,i){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&i)===0}function oa(t,i){switch(t){case 1:case 2:case 4:case 8:return i+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Io(){var t=Zn;return Zn<<=1,!(Zn&4194176)&&(Zn=128),t}function dr(){var t=fr;return fr<<=1,!(fr&62914560)&&(fr=4194304),t}function la(t){for(var i=[],a=0;31>a;a++)i.push(t);return i}function dt(t,i){t.pendingLanes|=i,i!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function _u(t,i,a,l,f,d){var v=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var T=t.entanglements,I=t.expirationTimes,k=t.hiddenUpdates;for(a=v&~a;0<a;){var W=31-Jt(a),te=1<<W;T[W]=0,I[W]=-1;var G=k[W];if(G!==null)for(k[W]=null,W=0;W<G.length;W++){var X=G[W];X!==null&&(X.lane&=-536870913)}a&=~te}l!==0&&mr(t,l,0),d!==0&&f===0&&t.tag!==0&&(t.suspendedLanes|=d&~(v&~i))}function mr(t,i,a){t.pendingLanes|=i,t.suspendedLanes&=~i;var l=31-Jt(i);t.entangledLanes|=i,t.entanglements[l]=t.entanglements[l]|1073741824|a&4194218}function pr(t,i){var a=t.entangledLanes|=i;for(t=t.entanglements;a;){var l=31-Jt(a),f=1<<l;f&i|t[l]&i&&(t[l]|=i),a&=~f}}function vu(t){return t&=-t,2<t?8<t?t&134217727?32:268435456:8:2}function Eu(){var t=le.p;return t!==0?t:(t=window.event,t===void 0?32:L_(t.type))}function gr(t,i){var a=le.p;try{return le.p=t,i()}finally{le.p=a}}var Jn=Math.random().toString(36).slice(2),Nt="__reactFiber$"+Jn,At="__reactProps$"+Jn,Ri="__reactContainer$"+Jn,ds="__reactEvents$"+Jn,ua="__reactListeners$"+Jn,ei="__reactHandles$"+Jn,Co="__reactResources$"+Jn,yr="__reactMarker$"+Jn;function ms(t){delete t[Nt],delete t[At],delete t[ds],delete t[ua],delete t[ei]}function zn(t){var i=t[Nt];if(i)return i;for(var a=t.parentNode;a;){if(i=a[Ri]||a[Nt]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(t=b_(t);t!==null;){if(a=t[Nt])return a;t=b_(t)}return i}t=a,a=t.parentNode}return null}function Ii(t){if(t=t[Nt]||t[Ri]){var i=t.tag;if(i===5||i===6||i===13||i===26||i===27||i===3)return t}return null}function _r(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t.stateNode;throw Error(s(33))}function vr(t){var i=t[Co];return i||(i=t[Co]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function it(t){t[yr]=!0}var Do=new Set,ca={};function fn(t,i){on(t,i),on(t+"Capture",i)}function on(t,i){for(ca[t]=i,t=0;t<i.length;t++)Do.add(i[t])}var hn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Qf=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),xo={},No={};function Tu(t){return sa.call(No,t)?!0:sa.call(xo,t)?!1:Qf.test(t)?No[t]=!0:(xo[t]=!0,!1)}function Er(t,i,a){if(Tu(i))if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(i);return;case"boolean":var l=i.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(i);return}}t.setAttribute(i,""+a)}}function Tr(t,i,a){if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttribute(i,""+a)}}function bn(t,i,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(i,a,""+l)}}function en(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function bu(t){var i=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function $f(t){var i=bu(t)?"checked":"value",a=Object.getOwnPropertyDescriptor(t.constructor.prototype,i),l=""+t[i];if(!t.hasOwnProperty(i)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var f=a.get,d=a.set;return Object.defineProperty(t,i,{configurable:!0,get:function(){return f.call(this)},set:function(v){l=""+v,d.call(this,v)}}),Object.defineProperty(t,i,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(v){l=""+v},stopTracking:function(){t._valueTracker=null,delete t[i]}}}}function ps(t){t._valueTracker||(t._valueTracker=$f(t))}function Oo(t){if(!t)return!1;var i=t._valueTracker;if(!i)return!0;var a=i.getValue(),l="";return t&&(l=bu(t)?t.checked?"true":"false":t.value),t=l,t!==a?(i.setValue(t),!0):!1}function fa(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Ci=/[\n"\\]/g;function ut(t){return t.replace(Ci,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function br(t,i,a,l,f,d,v,T){t.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?t.type=v:t.removeAttribute("type"),i!=null?v==="number"?(i===0&&t.value===""||t.value!=i)&&(t.value=""+en(i)):t.value!==""+en(i)&&(t.value=""+en(i)):v!=="submit"&&v!=="reset"||t.removeAttribute("value"),i!=null?ha(t,v,en(i)):a!=null?ha(t,v,en(a)):l!=null&&t.removeAttribute("value"),f==null&&d!=null&&(t.defaultChecked=!!d),f!=null&&(t.checked=f&&typeof f!="function"&&typeof f!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?t.name=""+en(T):t.removeAttribute("name")}function gs(t,i,a,l,f,d,v,T){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(t.type=d),i!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||i!=null))return;a=a!=null?""+en(a):"",i=i!=null?""+en(i):a,T||i===t.value||(t.value=i),t.defaultValue=i}l=l??f,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=T?t.checked:!!l,t.defaultChecked=!!l,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(t.name=v)}function ha(t,i,a){i==="number"&&fa(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function je(t,i,a,l){if(t=t.options,i){i={};for(var f=0;f<a.length;f++)i["$"+a[f]]=!0;for(a=0;a<t.length;a++)f=i.hasOwnProperty("$"+t[a].value),t[a].selected!==f&&(t[a].selected=f),f&&l&&(t[a].defaultSelected=!0)}else{for(a=""+en(a),i=null,f=0;f<t.length;f++){if(t[f].value===a){t[f].selected=!0,l&&(t[f].defaultSelected=!0);return}i!==null||t[f].disabled||(i=t[f])}i!==null&&(i.selected=!0)}}function ys(t,i,a){if(i!=null&&(i=""+en(i),i!==t.value&&(t.value=i),a==null)){t.defaultValue!==i&&(t.defaultValue=i);return}t.defaultValue=a!=null?""+en(a):""}function Ar(t,i,a,l){if(i==null){if(l!=null){if(a!=null)throw Error(s(92));if(oe(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),i=a}a=en(i),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l)}function An(t,i){if(i){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=i;return}}t.textContent=i}var Yf=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Mo(t,i,a){var l=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="":l?t.setProperty(i,a):typeof a!="number"||a===0||Yf.has(i)?i==="float"?t.cssFloat=a:t[i]=(""+a).trim():t[i]=a+"px"}function Au(t,i,a){if(i!=null&&typeof i!="object")throw Error(s(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||i!=null&&i.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var f in i)l=i[f],i.hasOwnProperty(f)&&a[f]!==l&&Mo(t,f,l)}else for(var d in i)i.hasOwnProperty(d)&&Mo(t,d,i[d])}function Vo(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Xf=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Wf=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ti(t){return Wf.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var wn=null;function da(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Di=null,xi=null;function Ni(t){var i=Ii(t);if(i&&(t=i.stateNode)){var a=t[At]||null;e:switch(t=i.stateNode,i.type){case"input":if(br(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+ut(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var l=a[i];if(l!==t&&l.form===t.form){var f=l[At]||null;if(!f)throw Error(s(90));br(l,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(i=0;i<a.length;i++)l=a[i],l.form===t.form&&Oo(l)}break e;case"textarea":ys(t,a.value,a.defaultValue);break e;case"select":i=a.value,i!=null&&je(t,!!a.multiple,i,!1)}}}var ko=!1;function wu(t,i,a){if(ko)return t(i,a);ko=!0;try{var l=t(i);return l}finally{if(ko=!1,(Di!==null||xi!==null)&&(pc(),Di&&(i=Di,t=xi,xi=Di=null,Ni(i),t)))for(i=0;i<t.length;i++)Ni(t[i])}}function _s(t,i){var a=t.stateNode;if(a===null)return null;var l=a[At]||null;if(l===null)return null;a=l[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(s(231,i,typeof a));return a}var Sn=!1;if(hn)try{var vs={};Object.defineProperty(vs,"passive",{get:function(){Sn=!0}}),window.addEventListener("test",vs,vs),window.removeEventListener("test",vs,vs)}catch{Sn=!1}var ni=null,wr=null,Oi=null;function Po(){if(Oi)return Oi;var t,i=wr,a=i.length,l,f="value"in ni?ni.value:ni.textContent,d=f.length;for(t=0;t<a&&i[t]===f[t];t++);var v=a-t;for(l=1;l<=v&&i[a-l]===f[d-l];l++);return Oi=f.slice(t,1<l?1-l:void 0)}function ii(t){var i=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&i===13&&(t=13)):t=i,t===10&&(t=13),32<=t||t===13?t:0}function ri(){return!0}function Lo(){return!1}function Ot(t){function i(a,l,f,d,v){this._reactName=a,this._targetInst=f,this.type=l,this.nativeEvent=d,this.target=v,this.currentTarget=null;for(var T in t)t.hasOwnProperty(T)&&(a=t[T],this[T]=a?a(d):d[T]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?ri:Lo,this.isPropagationStopped=Lo,this}return D(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=ri)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=ri)},persist:function(){},isPersistent:ri}),i}var Fe={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ma=Ot(Fe),Es=D({},Fe,{view:0,detail:0}),Su=Ot(Es),pa,ga,si,Ts=D({},Es,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ws,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==si&&(si&&t.type==="mousemove"?(pa=t.screenX-si.screenX,ga=t.screenY-si.screenY):ga=pa=0,si=t),pa)},movementY:function(t){return"movementY"in t?t.movementY:ga}}),Rn=Ot(Ts),Ru=D({},Ts,{dataTransfer:0}),Zf=Ot(Ru),bs=D({},Es,{relatedTarget:0}),ya=Ot(bs),Uo=D({},Fe,{animationName:0,elapsedTime:0,pseudoElement:0}),_a=Ot(Uo),Iu=D({},Fe,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),va=Ot(Iu),Jf=D({},Fe,{data:0}),zo=Ot(Jf),As={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Cu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Du={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function jo(t){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(t):(t=Du[t])?!!i[t]:!1}function ws(){return jo}var xu=D({},Es,{key:function(t){if(t.key){var i=As[t.key]||t.key;if(i!=="Unidentified")return i}return t.type==="keypress"?(t=ii(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Cu[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ws,charCode:function(t){return t.type==="keypress"?ii(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?ii(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Ea=Ot(xu),Nu=D({},Ts,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Bo=Ot(Nu),Mi=D({},Es,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ws}),Ou=Ot(Mi),Mu=D({},Fe,{propertyName:0,elapsedTime:0,pseudoElement:0}),Vu=Ot(Mu),ku=D({},Ts,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Ta=Ot(ku),tn=D({},Fe,{newState:0,oldState:0}),Pu=Ot(tn),Lu=[9,13,27,32],ai=hn&&"CompositionEvent"in window,c=null;hn&&"documentMode"in document&&(c=document.documentMode);var y=hn&&"TextEvent"in window&&!c,_=hn&&(!ai||c&&8<c&&11>=c),b=" ",B=!1;function $(t,i){switch(t){case"keyup":return Lu.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function se(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var ke=!1;function wt(t,i){switch(t){case"compositionend":return se(i);case"keypress":return i.which!==32?null:(B=!0,b);case"textInput":return t=i.data,t===b&&B?null:t;default:return null}}function Pe(t,i){if(ke)return t==="compositionend"||!ai&&$(t,i)?(t=Po(),Oi=wr=ni=null,ke=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return _&&i.locale!=="ko"?null:i.data;default:return null}}var Mt={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function St(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i==="input"?!!Mt[t.type]:i==="textarea"}function Vi(t,i,a,l){Di?xi?xi.push(l):xi=[l]:Di=l,i=Ec(i,"onChange"),0<i.length&&(a=new ma("onChange","change",null,a,l),t.push({event:a,listeners:i}))}var Ut=null,oi=null;function qo(t){d_(t,0)}function Uu(t){var i=_r(t);if(Oo(i))return t}function qp(t,i){if(t==="change")return i}var Hp=!1;if(hn){var eh;if(hn){var th="oninput"in document;if(!th){var Fp=document.createElement("div");Fp.setAttribute("oninput","return;"),th=typeof Fp.oninput=="function"}eh=th}else eh=!1;Hp=eh&&(!document.documentMode||9<document.documentMode)}function Gp(){Ut&&(Ut.detachEvent("onpropertychange",Kp),oi=Ut=null)}function Kp(t){if(t.propertyName==="value"&&Uu(oi)){var i=[];Vi(i,oi,t,da(t)),wu(qo,i)}}function db(t,i,a){t==="focusin"?(Gp(),Ut=i,oi=a,Ut.attachEvent("onpropertychange",Kp)):t==="focusout"&&Gp()}function mb(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Uu(oi)}function pb(t,i){if(t==="click")return Uu(i)}function gb(t,i){if(t==="input"||t==="change")return Uu(i)}function yb(t,i){return t===i&&(t!==0||1/t===1/i)||t!==t&&i!==i}var dn=typeof Object.is=="function"?Object.is:yb;function Ho(t,i){if(dn(t,i))return!0;if(typeof t!="object"||t===null||typeof i!="object"||i===null)return!1;var a=Object.keys(t),l=Object.keys(i);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var f=a[l];if(!sa.call(i,f)||!dn(t[f],i[f]))return!1}return!0}function Qp(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function $p(t,i){var a=Qp(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=i&&l>=i)return{node:a,offset:i-t};t=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Qp(a)}}function Yp(t,i){return t&&i?t===i?!0:t&&t.nodeType===3?!1:i&&i.nodeType===3?Yp(t,i.parentNode):"contains"in t?t.contains(i):t.compareDocumentPosition?!!(t.compareDocumentPosition(i)&16):!1:!1}function Xp(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var i=fa(t.document);i instanceof t.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)t=i.contentWindow;else break;i=fa(t.document)}return i}function nh(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i&&(i==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||i==="textarea"||t.contentEditable==="true")}function _b(t,i){var a=Xp(i);i=t.focusedElem;var l=t.selectionRange;if(a!==i&&i&&i.ownerDocument&&Yp(i.ownerDocument.documentElement,i)){if(l!==null&&nh(i)){if(t=l.start,a=l.end,a===void 0&&(a=t),"selectionStart"in i)i.selectionStart=t,i.selectionEnd=Math.min(a,i.value.length);else if(a=(t=i.ownerDocument||document)&&t.defaultView||window,a.getSelection){a=a.getSelection();var f=i.textContent.length,d=Math.min(l.start,f);l=l.end===void 0?d:Math.min(l.end,f),!a.extend&&d>l&&(f=l,l=d,d=f),f=$p(i,d);var v=$p(i,l);f&&v&&(a.rangeCount!==1||a.anchorNode!==f.node||a.anchorOffset!==f.offset||a.focusNode!==v.node||a.focusOffset!==v.offset)&&(t=t.createRange(),t.setStart(f.node,f.offset),a.removeAllRanges(),d>l?(a.addRange(t),a.extend(v.node,v.offset)):(t.setEnd(v.node,v.offset),a.addRange(t)))}}for(t=[],a=i;a=a.parentNode;)a.nodeType===1&&t.push({element:a,left:a.scrollLeft,top:a.scrollTop});for(typeof i.focus=="function"&&i.focus(),i=0;i<t.length;i++)a=t[i],a.element.scrollLeft=a.left,a.element.scrollTop=a.top}}var vb=hn&&"documentMode"in document&&11>=document.documentMode,ba=null,ih=null,Fo=null,rh=!1;function Wp(t,i,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;rh||ba==null||ba!==fa(l)||(l=ba,"selectionStart"in l&&nh(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Fo&&Ho(Fo,l)||(Fo=l,l=Ec(ih,"onSelect"),0<l.length&&(i=new ma("onSelect","select",null,i,a),t.push({event:i,listeners:l}),i.target=ba)))}function Ss(t,i){var a={};return a[t.toLowerCase()]=i.toLowerCase(),a["Webkit"+t]="webkit"+i,a["Moz"+t]="moz"+i,a}var Aa={animationend:Ss("Animation","AnimationEnd"),animationiteration:Ss("Animation","AnimationIteration"),animationstart:Ss("Animation","AnimationStart"),transitionrun:Ss("Transition","TransitionRun"),transitionstart:Ss("Transition","TransitionStart"),transitioncancel:Ss("Transition","TransitionCancel"),transitionend:Ss("Transition","TransitionEnd")},sh={},Zp={};hn&&(Zp=document.createElement("div").style,"AnimationEvent"in window||(delete Aa.animationend.animation,delete Aa.animationiteration.animation,delete Aa.animationstart.animation),"TransitionEvent"in window||delete Aa.transitionend.transition);function Rs(t){if(sh[t])return sh[t];if(!Aa[t])return t;var i=Aa[t],a;for(a in i)if(i.hasOwnProperty(a)&&a in Zp)return sh[t]=i[a];return t}var Jp=Rs("animationend"),eg=Rs("animationiteration"),tg=Rs("animationstart"),Eb=Rs("transitionrun"),Tb=Rs("transitionstart"),bb=Rs("transitioncancel"),ng=Rs("transitionend"),ig=new Map,rg="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function jn(t,i){ig.set(t,i),fn(i,[t])}var In=[],wa=0,ah=0;function zu(){for(var t=wa,i=ah=wa=0;i<t;){var a=In[i];In[i++]=null;var l=In[i];In[i++]=null;var f=In[i];In[i++]=null;var d=In[i];if(In[i++]=null,l!==null&&f!==null){var v=l.pending;v===null?f.next=f:(f.next=v.next,v.next=f),l.pending=f}d!==0&&sg(a,f,d)}}function ju(t,i,a,l){In[wa++]=t,In[wa++]=i,In[wa++]=a,In[wa++]=l,ah|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function oh(t,i,a,l){return ju(t,i,a,l),Bu(t)}function Sr(t,i){return ju(t,null,null,i),Bu(t)}function sg(t,i,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var f=!1,d=t.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(t=d.stateNode,t===null||t._visibility&1||(f=!0)),t=d,d=d.return;f&&i!==null&&t.tag===3&&(d=t.stateNode,f=31-Jt(a),d=d.hiddenUpdates,t=d[f],t===null?d[f]=[i]:t.push(i),i.lane=a|536870912)}function Bu(t){if(50<pl)throw pl=0,dd=null,Error(s(185));for(var i=t.return;i!==null;)t=i,i=t.return;return t.tag===3?t.stateNode:null}var Sa={},ag=new WeakMap;function Cn(t,i){if(typeof t=="object"&&t!==null){var a=ag.get(t);return a!==void 0?a:(i={value:t,source:i,stack:_e(i)},ag.set(t,i),i)}return{value:t,source:i,stack:_e(i)}}var Ra=[],Ia=0,qu=null,Hu=0,Dn=[],xn=0,Is=null,ki=1,Pi="";function Cs(t,i){Ra[Ia++]=Hu,Ra[Ia++]=qu,qu=t,Hu=i}function og(t,i,a){Dn[xn++]=ki,Dn[xn++]=Pi,Dn[xn++]=Is,Is=t;var l=ki;t=Pi;var f=32-Jt(l)-1;l&=~(1<<f),a+=1;var d=32-Jt(i)+f;if(30<d){var v=f-f%5;d=(l&(1<<v)-1).toString(32),l>>=v,f-=v,ki=1<<32-Jt(i)+f|a<<f|l,Pi=d+t}else ki=1<<d|a<<f|l,Pi=t}function lh(t){t.return!==null&&(Cs(t,1),og(t,1,0))}function uh(t){for(;t===qu;)qu=Ra[--Ia],Ra[Ia]=null,Hu=Ra[--Ia],Ra[Ia]=null;for(;t===Is;)Is=Dn[--xn],Dn[xn]=null,Pi=Dn[--xn],Dn[xn]=null,ki=Dn[--xn],Dn[xn]=null}var nn=null,zt=null,Be=!1,Bn=null,li=!1,ch=Error(s(519));function Ds(t){var i=Error(s(418,""));throw Qo(Cn(i,t)),ch}function lg(t){var i=t.stateNode,a=t.type,l=t.memoizedProps;switch(i[Nt]=t,i[At]=l,a){case"dialog":Me("cancel",i),Me("close",i);break;case"iframe":case"object":case"embed":Me("load",i);break;case"video":case"audio":for(a=0;a<yl.length;a++)Me(yl[a],i);break;case"source":Me("error",i);break;case"img":case"image":case"link":Me("error",i),Me("load",i);break;case"details":Me("toggle",i);break;case"input":Me("invalid",i),gs(i,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),ps(i);break;case"select":Me("invalid",i);break;case"textarea":Me("invalid",i),Ar(i,l.value,l.defaultValue,l.children),ps(i)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||l.suppressHydrationWarning===!0||y_(i.textContent,a)?(l.popover!=null&&(Me("beforetoggle",i),Me("toggle",i)),l.onScroll!=null&&Me("scroll",i),l.onScrollEnd!=null&&Me("scrollend",i),l.onClick!=null&&(i.onclick=Tc),i=!0):i=!1,i||Ds(t)}function ug(t){for(nn=t.return;nn;)switch(nn.tag){case 3:case 27:li=!0;return;case 5:case 13:li=!1;return;default:nn=nn.return}}function Go(t){if(t!==nn)return!1;if(!Be)return ug(t),Be=!0,!1;var i=!1,a;if((a=t.tag!==3&&t.tag!==27)&&((a=t.tag===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||xd(t.type,t.memoizedProps)),a=!a),a&&(i=!0),i&&zt&&Ds(t),ug(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));e:{for(t=t.nextSibling,i=0;t;){if(t.nodeType===8)if(a=t.data,a==="/$"){if(i===0){zt=Hn(t.nextSibling);break e}i--}else a!=="$"&&a!=="$!"&&a!=="$?"||i++;t=t.nextSibling}zt=null}}else zt=nn?Hn(t.stateNode.nextSibling):null;return!0}function Ko(){zt=nn=null,Be=!1}function Qo(t){Bn===null?Bn=[t]:Bn.push(t)}var $o=Error(s(460)),cg=Error(s(474)),fh={then:function(){}};function fg(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Fu(){}function hg(t,i,a){switch(a=t[a],a===void 0?t.push(i):a!==i&&(i.then(Fu,Fu),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,t===$o?Error(s(483)):t;default:if(typeof i.status=="string")i.then(Fu,Fu);else{if(t=We,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=i,t.status="pending",t.then(function(l){if(i.status==="pending"){var f=i;f.status="fulfilled",f.value=l}},function(l){if(i.status==="pending"){var f=i;f.status="rejected",f.reason=l}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,t===$o?Error(s(483)):t}throw Yo=i,$o}}var Yo=null;function dg(){if(Yo===null)throw Error(s(459));var t=Yo;return Yo=null,t}var Ca=null,Xo=0;function Gu(t){var i=Xo;return Xo+=1,Ca===null&&(Ca=[]),hg(Ca,t,i)}function Wo(t,i){i=i.props.ref,t.ref=i!==void 0?i:null}function Ku(t,i){throw i.$$typeof===u?Error(s(525)):(t=Object.prototype.toString.call(i),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":t)))}function mg(t){var i=t._init;return i(t._payload)}function pg(t){function i(j,V){if(t){var H=j.deletions;H===null?(j.deletions=[V],j.flags|=16):H.push(V)}}function a(j,V){if(!t)return null;for(;V!==null;)i(j,V),V=V.sibling;return null}function l(j){for(var V=new Map;j!==null;)j.key!==null?V.set(j.key,j):V.set(j.index,j),j=j.sibling;return V}function f(j,V){return j=Lr(j,V),j.index=0,j.sibling=null,j}function d(j,V,H){return j.index=H,t?(H=j.alternate,H!==null?(H=H.index,H<V?(j.flags|=33554434,V):H):(j.flags|=33554434,V)):(j.flags|=1048576,V)}function v(j){return t&&j.alternate===null&&(j.flags|=33554434),j}function T(j,V,H,Z){return V===null||V.tag!==6?(V=sd(H,j.mode,Z),V.return=j,V):(V=f(V,H),V.return=j,V)}function I(j,V,H,Z){var fe=H.type;return fe===p?W(j,V,H.props.children,Z,H.key):V!==null&&(V.elementType===fe||typeof fe=="object"&&fe!==null&&fe.$$typeof===Y&&mg(fe)===V.type)?(V=f(V,H.props),Wo(V,H),V.return=j,V):(V=cc(H.type,H.key,H.props,null,j.mode,Z),Wo(V,H),V.return=j,V)}function k(j,V,H,Z){return V===null||V.tag!==4||V.stateNode.containerInfo!==H.containerInfo||V.stateNode.implementation!==H.implementation?(V=ad(H,j.mode,Z),V.return=j,V):(V=f(V,H.children||[]),V.return=j,V)}function W(j,V,H,Z,fe){return V===null||V.tag!==7?(V=zs(H,j.mode,Z,fe),V.return=j,V):(V=f(V,H),V.return=j,V)}function te(j,V,H){if(typeof V=="string"&&V!==""||typeof V=="number"||typeof V=="bigint")return V=sd(""+V,j.mode,H),V.return=j,V;if(typeof V=="object"&&V!==null){switch(V.$$typeof){case h:return H=cc(V.type,V.key,V.props,null,j.mode,H),Wo(H,V),H.return=j,H;case m:return V=ad(V,j.mode,H),V.return=j,V;case Y:var Z=V._init;return V=Z(V._payload),te(j,V,H)}if(oe(V)||he(V))return V=zs(V,j.mode,H,null),V.return=j,V;if(typeof V.then=="function")return te(j,Gu(V),H);if(V.$$typeof===N)return te(j,oc(j,V),H);Ku(j,V)}return null}function G(j,V,H,Z){var fe=V!==null?V.key:null;if(typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint")return fe!==null?null:T(j,V,""+H,Z);if(typeof H=="object"&&H!==null){switch(H.$$typeof){case h:return H.key===fe?I(j,V,H,Z):null;case m:return H.key===fe?k(j,V,H,Z):null;case Y:return fe=H._init,H=fe(H._payload),G(j,V,H,Z)}if(oe(H)||he(H))return fe!==null?null:W(j,V,H,Z,null);if(typeof H.then=="function")return G(j,V,Gu(H),Z);if(H.$$typeof===N)return G(j,V,oc(j,H),Z);Ku(j,H)}return null}function X(j,V,H,Z,fe){if(typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint")return j=j.get(H)||null,T(V,j,""+Z,fe);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case h:return j=j.get(Z.key===null?H:Z.key)||null,I(V,j,Z,fe);case m:return j=j.get(Z.key===null?H:Z.key)||null,k(V,j,Z,fe);case Y:var De=Z._init;return Z=De(Z._payload),X(j,V,H,Z,fe)}if(oe(Z)||he(Z))return j=j.get(H)||null,W(V,j,Z,fe,null);if(typeof Z.then=="function")return X(j,V,H,Gu(Z),fe);if(Z.$$typeof===N)return X(j,V,H,oc(V,Z),fe);Ku(V,Z)}return null}function me(j,V,H,Z){for(var fe=null,De=null,ge=V,ve=V=0,Pt=null;ge!==null&&ve<H.length;ve++){ge.index>ve?(Pt=ge,ge=null):Pt=ge.sibling;var qe=G(j,ge,H[ve],Z);if(qe===null){ge===null&&(ge=Pt);break}t&&ge&&qe.alternate===null&&i(j,ge),V=d(qe,V,ve),De===null?fe=qe:De.sibling=qe,De=qe,ge=Pt}if(ve===H.length)return a(j,ge),Be&&Cs(j,ve),fe;if(ge===null){for(;ve<H.length;ve++)ge=te(j,H[ve],Z),ge!==null&&(V=d(ge,V,ve),De===null?fe=ge:De.sibling=ge,De=ge);return Be&&Cs(j,ve),fe}for(ge=l(ge);ve<H.length;ve++)Pt=X(ge,j,ve,H[ve],Z),Pt!==null&&(t&&Pt.alternate!==null&&ge.delete(Pt.key===null?ve:Pt.key),V=d(Pt,V,ve),De===null?fe=Pt:De.sibling=Pt,De=Pt);return t&&ge.forEach(function(Fr){return i(j,Fr)}),Be&&Cs(j,ve),fe}function Ae(j,V,H,Z){if(H==null)throw Error(s(151));for(var fe=null,De=null,ge=V,ve=V=0,Pt=null,qe=H.next();ge!==null&&!qe.done;ve++,qe=H.next()){ge.index>ve?(Pt=ge,ge=null):Pt=ge.sibling;var Fr=G(j,ge,qe.value,Z);if(Fr===null){ge===null&&(ge=Pt);break}t&&ge&&Fr.alternate===null&&i(j,ge),V=d(Fr,V,ve),De===null?fe=Fr:De.sibling=Fr,De=Fr,ge=Pt}if(qe.done)return a(j,ge),Be&&Cs(j,ve),fe;if(ge===null){for(;!qe.done;ve++,qe=H.next())qe=te(j,qe.value,Z),qe!==null&&(V=d(qe,V,ve),De===null?fe=qe:De.sibling=qe,De=qe);return Be&&Cs(j,ve),fe}for(ge=l(ge);!qe.done;ve++,qe=H.next())qe=X(ge,j,ve,qe.value,Z),qe!==null&&(t&&qe.alternate!==null&&ge.delete(qe.key===null?ve:qe.key),V=d(qe,V,ve),De===null?fe=qe:De.sibling=qe,De=qe);return t&&ge.forEach(function(PA){return i(j,PA)}),Be&&Cs(j,ve),fe}function ht(j,V,H,Z){if(typeof H=="object"&&H!==null&&H.type===p&&H.key===null&&(H=H.props.children),typeof H=="object"&&H!==null){switch(H.$$typeof){case h:e:{for(var fe=H.key;V!==null;){if(V.key===fe){if(fe=H.type,fe===p){if(V.tag===7){a(j,V.sibling),Z=f(V,H.props.children),Z.return=j,j=Z;break e}}else if(V.elementType===fe||typeof fe=="object"&&fe!==null&&fe.$$typeof===Y&&mg(fe)===V.type){a(j,V.sibling),Z=f(V,H.props),Wo(Z,H),Z.return=j,j=Z;break e}a(j,V);break}else i(j,V);V=V.sibling}H.type===p?(Z=zs(H.props.children,j.mode,Z,H.key),Z.return=j,j=Z):(Z=cc(H.type,H.key,H.props,null,j.mode,Z),Wo(Z,H),Z.return=j,j=Z)}return v(j);case m:e:{for(fe=H.key;V!==null;){if(V.key===fe)if(V.tag===4&&V.stateNode.containerInfo===H.containerInfo&&V.stateNode.implementation===H.implementation){a(j,V.sibling),Z=f(V,H.children||[]),Z.return=j,j=Z;break e}else{a(j,V);break}else i(j,V);V=V.sibling}Z=ad(H,j.mode,Z),Z.return=j,j=Z}return v(j);case Y:return fe=H._init,H=fe(H._payload),ht(j,V,H,Z)}if(oe(H))return me(j,V,H,Z);if(he(H)){if(fe=he(H),typeof fe!="function")throw Error(s(150));return H=fe.call(H),Ae(j,V,H,Z)}if(typeof H.then=="function")return ht(j,V,Gu(H),Z);if(H.$$typeof===N)return ht(j,V,oc(j,H),Z);Ku(j,H)}return typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint"?(H=""+H,V!==null&&V.tag===6?(a(j,V.sibling),Z=f(V,H),Z.return=j,j=Z):(a(j,V),Z=sd(H,j.mode,Z),Z.return=j,j=Z),v(j)):a(j,V)}return function(j,V,H,Z){try{Xo=0;var fe=ht(j,V,H,Z);return Ca=null,fe}catch(ge){if(ge===$o)throw ge;var De=Vn(29,ge,null,j.mode);return De.lanes=Z,De.return=j,De}finally{}}}var xs=pg(!0),gg=pg(!1),Da=ze(null),Qu=ze(0);function yg(t,i){t=Qi,Ke(Qu,t),Ke(Da,i),Qi=t|i.baseLanes}function hh(){Ke(Qu,Qi),Ke(Da,Da.current)}function dh(){Qi=Qu.current,lt(Da),lt(Qu)}var Nn=ze(null),ui=null;function Rr(t){var i=t.alternate;Ke(Rt,Rt.current&1),Ke(Nn,t),ui===null&&(i===null||Da.current!==null||i.memoizedState!==null)&&(ui=t)}function _g(t){if(t.tag===22){if(Ke(Rt,Rt.current),Ke(Nn,t),ui===null){var i=t.alternate;i!==null&&i.memoizedState!==null&&(ui=t)}}else Ir()}function Ir(){Ke(Rt,Rt.current),Ke(Nn,Nn.current)}function Li(t){lt(Nn),ui===t&&(ui=null),lt(Rt)}var Rt=ze(0);function $u(t){for(var i=t;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||a.data==="$!"))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if(i.flags&128)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var Ab=typeof AbortController<"u"?AbortController:function(){var t=[],i=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){i.aborted=!0,t.forEach(function(a){return a()})}},wb=r.unstable_scheduleCallback,Sb=r.unstable_NormalPriority,It={$$typeof:N,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function mh(){return{controller:new Ab,data:new Map,refCount:0}}function Zo(t){t.refCount--,t.refCount===0&&wb(Sb,function(){t.controller.abort()})}var Jo=null,ph=0,xa=0,Na=null;function Rb(t,i){if(Jo===null){var a=Jo=[];ph=0,xa=Td(),Na={status:"pending",value:void 0,then:function(l){a.push(l)}}}return ph++,i.then(vg,vg),i}function vg(){if(--ph===0&&Jo!==null){Na!==null&&(Na.status="fulfilled");var t=Jo;Jo=null,xa=0,Na=null;for(var i=0;i<t.length;i++)(0,t[i])()}}function Ib(t,i){var a=[],l={status:"pending",value:null,reason:null,then:function(f){a.push(f)}};return t.then(function(){l.status="fulfilled",l.value=i;for(var f=0;f<a.length;f++)(0,a[f])(i)},function(f){for(l.status="rejected",l.reason=f,f=0;f<a.length;f++)(0,a[f])(void 0)}),l}var Eg=w.S;w.S=function(t,i){typeof i=="object"&&i!==null&&typeof i.then=="function"&&Rb(t,i),Eg!==null&&Eg(t,i)};var Ns=ze(null);function gh(){var t=Ns.current;return t!==null?t:We.pooledCache}function Yu(t,i){i===null?Ke(Ns,Ns.current):Ke(Ns,i.pool)}function Tg(){var t=gh();return t===null?null:{parent:It._currentValue,pool:t}}var Cr=0,Ce=null,Qe=null,yt=null,Xu=!1,Oa=!1,Os=!1,Wu=0,el=0,Ma=null,Cb=0;function mt(){throw Error(s(321))}function yh(t,i){if(i===null)return!1;for(var a=0;a<i.length&&a<t.length;a++)if(!dn(t[a],i[a]))return!1;return!0}function _h(t,i,a,l,f,d){return Cr=d,Ce=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,w.H=t===null||t.memoizedState===null?Ms:Dr,Os=!1,d=a(l,f),Os=!1,Oa&&(d=Ag(i,a,l,f)),bg(t),d}function bg(t){w.H=ci;var i=Qe!==null&&Qe.next!==null;if(Cr=0,yt=Qe=Ce=null,Xu=!1,el=0,Ma=null,i)throw Error(s(300));t===null||Vt||(t=t.dependencies,t!==null&&ac(t)&&(Vt=!0))}function Ag(t,i,a,l){Ce=t;var f=0;do{if(Oa&&(Ma=null),el=0,Oa=!1,25<=f)throw Error(s(301));if(f+=1,yt=Qe=null,t.updateQueue!=null){var d=t.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}w.H=Vs,d=i(a,l)}while(Oa);return d}function Db(){var t=w.H,i=t.useState()[0];return i=typeof i.then=="function"?tl(i):i,t=t.useState()[0],(Qe!==null?Qe.memoizedState:null)!==t&&(Ce.flags|=1024),i}function vh(){var t=Wu!==0;return Wu=0,t}function Eh(t,i,a){i.updateQueue=t.updateQueue,i.flags&=-2053,t.lanes&=~a}function Th(t){if(Xu){for(t=t.memoizedState;t!==null;){var i=t.queue;i!==null&&(i.pending=null),t=t.next}Xu=!1}Cr=0,yt=Qe=Ce=null,Oa=!1,el=Wu=0,Ma=null}function ln(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return yt===null?Ce.memoizedState=yt=t:yt=yt.next=t,yt}function _t(){if(Qe===null){var t=Ce.alternate;t=t!==null?t.memoizedState:null}else t=Qe.next;var i=yt===null?Ce.memoizedState:yt.next;if(i!==null)yt=i,Qe=t;else{if(t===null)throw Ce.alternate===null?Error(s(467)):Error(s(310));Qe=t,t={memoizedState:Qe.memoizedState,baseState:Qe.baseState,baseQueue:Qe.baseQueue,queue:Qe.queue,next:null},yt===null?Ce.memoizedState=yt=t:yt=yt.next=t}return yt}var Zu;Zu=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function tl(t){var i=el;return el+=1,Ma===null&&(Ma=[]),t=hg(Ma,t,i),i=Ce,(yt===null?i.memoizedState:yt.next)===null&&(i=i.alternate,w.H=i===null||i.memoizedState===null?Ms:Dr),t}function Ju(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return tl(t);if(t.$$typeof===N)return Kt(t)}throw Error(s(438,String(t)))}function bh(t){var i=null,a=Ce.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var l=Ce.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(i={data:l.data.map(function(f){return f.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=Zu(),Ce.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(t),l=0;l<t;l++)a[l]=ne;return i.index++,a}function Ui(t,i){return typeof i=="function"?i(t):i}function ec(t){var i=_t();return Ah(i,Qe,t)}function Ah(t,i,a){var l=t.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var f=t.baseQueue,d=l.pending;if(d!==null){if(f!==null){var v=f.next;f.next=d.next,d.next=v}i.baseQueue=f=d,l.pending=null}if(d=t.baseState,f===null)t.memoizedState=d;else{i=f.next;var T=v=null,I=null,k=i,W=!1;do{var te=k.lane&-536870913;if(te!==k.lane?(Le&te)===te:(Cr&te)===te){var G=k.revertLane;if(G===0)I!==null&&(I=I.next={lane:0,revertLane:0,action:k.action,hasEagerState:k.hasEagerState,eagerState:k.eagerState,next:null}),te===xa&&(W=!0);else if((Cr&G)===G){k=k.next,G===xa&&(W=!0);continue}else te={lane:0,revertLane:k.revertLane,action:k.action,hasEagerState:k.hasEagerState,eagerState:k.eagerState,next:null},I===null?(T=I=te,v=d):I=I.next=te,Ce.lanes|=G,Ur|=G;te=k.action,Os&&a(d,te),d=k.hasEagerState?k.eagerState:a(d,te)}else G={lane:te,revertLane:k.revertLane,action:k.action,hasEagerState:k.hasEagerState,eagerState:k.eagerState,next:null},I===null?(T=I=G,v=d):I=I.next=G,Ce.lanes|=te,Ur|=te;k=k.next}while(k!==null&&k!==i);if(I===null?v=d:I.next=T,!dn(d,t.memoizedState)&&(Vt=!0,W&&(a=Na,a!==null)))throw a;t.memoizedState=d,t.baseState=v,t.baseQueue=I,l.lastRenderedState=d}return f===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function wh(t){var i=_t(),a=i.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=t;var l=a.dispatch,f=a.pending,d=i.memoizedState;if(f!==null){a.pending=null;var v=f=f.next;do d=t(d,v.action),v=v.next;while(v!==f);dn(d,i.memoizedState)||(Vt=!0),i.memoizedState=d,i.baseQueue===null&&(i.baseState=d),a.lastRenderedState=d}return[d,l]}function wg(t,i,a){var l=Ce,f=_t(),d=Be;if(d){if(a===void 0)throw Error(s(407));a=a()}else a=i();var v=!dn((Qe||f).memoizedState,a);if(v&&(f.memoizedState=a,Vt=!0),f=f.queue,Ih(Ig.bind(null,l,f,t),[t]),f.getSnapshot!==i||v||yt!==null&&yt.memoizedState.tag&1){if(l.flags|=2048,Va(9,Rg.bind(null,l,f,a,i),{destroy:void 0},null),We===null)throw Error(s(349));d||Cr&60||Sg(l,i,a)}return a}function Sg(t,i,a){t.flags|=16384,t={getSnapshot:i,value:a},i=Ce.updateQueue,i===null?(i=Zu(),Ce.updateQueue=i,i.stores=[t]):(a=i.stores,a===null?i.stores=[t]:a.push(t))}function Rg(t,i,a,l){i.value=a,i.getSnapshot=l,Cg(i)&&Dg(t)}function Ig(t,i,a){return a(function(){Cg(i)&&Dg(t)})}function Cg(t){var i=t.getSnapshot;t=t.value;try{var a=i();return!dn(t,a)}catch{return!0}}function Dg(t){var i=Sr(t,2);i!==null&&rn(i,t,2)}function Sh(t){var i=ln();if(typeof t=="function"){var a=t;if(t=a(),Os){Wn(!0);try{a()}finally{Wn(!1)}}}return i.memoizedState=i.baseState=t,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ui,lastRenderedState:t},i}function xg(t,i,a,l){return t.baseState=a,Ah(t,Qe,typeof l=="function"?l:Ui)}function xb(t,i,a,l,f){if(ic(t))throw Error(s(485));if(t=i.action,t!==null){var d={payload:f,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){d.listeners.push(v)}};w.T!==null?a(!0):d.isTransition=!1,l(d),a=i.pending,a===null?(d.next=i.pending=d,Ng(i,d)):(d.next=a.next,i.pending=a.next=d)}}function Ng(t,i){var a=i.action,l=i.payload,f=t.state;if(i.isTransition){var d=w.T,v={};w.T=v;try{var T=a(f,l),I=w.S;I!==null&&I(v,T),Og(t,i,T)}catch(k){Rh(t,i,k)}finally{w.T=d}}else try{d=a(f,l),Og(t,i,d)}catch(k){Rh(t,i,k)}}function Og(t,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){Mg(t,i,l)},function(l){return Rh(t,i,l)}):Mg(t,i,a)}function Mg(t,i,a){i.status="fulfilled",i.value=a,Vg(i),t.state=a,i=t.pending,i!==null&&(a=i.next,a===i?t.pending=null:(a=a.next,i.next=a,Ng(t,a)))}function Rh(t,i,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do i.status="rejected",i.reason=a,Vg(i),i=i.next;while(i!==l)}t.action=null}function Vg(t){t=t.listeners;for(var i=0;i<t.length;i++)(0,t[i])()}function kg(t,i){return i}function Pg(t,i){if(Be){var a=We.formState;if(a!==null){e:{var l=Ce;if(Be){if(zt){t:{for(var f=zt,d=li;f.nodeType!==8;){if(!d){f=null;break t}if(f=Hn(f.nextSibling),f===null){f=null;break t}}d=f.data,f=d==="F!"||d==="F"?f:null}if(f){zt=Hn(f.nextSibling),l=f.data==="F!";break e}}Ds(l)}l=!1}l&&(i=a[0])}}return a=ln(),a.memoizedState=a.baseState=i,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:kg,lastRenderedState:i},a.queue=l,a=ey.bind(null,Ce,l),l.dispatch=a,l=Sh(!1),d=Oh.bind(null,Ce,!1,l.queue),l=ln(),f={state:i,dispatch:null,action:t,pending:null},l.queue=f,a=xb.bind(null,Ce,f,d,a),f.dispatch=a,l.memoizedState=t,[i,a,!1]}function Lg(t){var i=_t();return Ug(i,Qe,t)}function Ug(t,i,a){i=Ah(t,i,kg)[0],t=ec(Ui)[0],i=typeof i=="object"&&i!==null&&typeof i.then=="function"?tl(i):i;var l=_t(),f=l.queue,d=f.dispatch;return a!==l.memoizedState&&(Ce.flags|=2048,Va(9,Nb.bind(null,f,a),{destroy:void 0},null)),[i,d,t]}function Nb(t,i){t.action=i}function zg(t){var i=_t(),a=Qe;if(a!==null)return Ug(i,a,t);_t(),i=i.memoizedState,a=_t();var l=a.queue.dispatch;return a.memoizedState=t,[i,l,!1]}function Va(t,i,a,l){return t={tag:t,create:i,inst:a,deps:l,next:null},i=Ce.updateQueue,i===null&&(i=Zu(),Ce.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,i.lastEffect=t),t}function jg(){return _t().memoizedState}function tc(t,i,a,l){var f=ln();Ce.flags|=t,f.memoizedState=Va(1|i,a,{destroy:void 0},l===void 0?null:l)}function nc(t,i,a,l){var f=_t();l=l===void 0?null:l;var d=f.memoizedState.inst;Qe!==null&&l!==null&&yh(l,Qe.memoizedState.deps)?f.memoizedState=Va(i,a,d,l):(Ce.flags|=t,f.memoizedState=Va(1|i,a,d,l))}function Bg(t,i){tc(8390656,8,t,i)}function Ih(t,i){nc(2048,8,t,i)}function qg(t,i){return nc(4,2,t,i)}function Hg(t,i){return nc(4,4,t,i)}function Fg(t,i){if(typeof i=="function"){t=t();var a=i(t);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return t=t(),i.current=t,function(){i.current=null}}function Gg(t,i,a){a=a!=null?a.concat([t]):null,nc(4,4,Fg.bind(null,i,t),a)}function Ch(){}function Kg(t,i){var a=_t();i=i===void 0?null:i;var l=a.memoizedState;return i!==null&&yh(i,l[1])?l[0]:(a.memoizedState=[t,i],t)}function Qg(t,i){var a=_t();i=i===void 0?null:i;var l=a.memoizedState;if(i!==null&&yh(i,l[1]))return l[0];if(l=t(),Os){Wn(!0);try{t()}finally{Wn(!1)}}return a.memoizedState=[l,i],l}function Dh(t,i,a){return a===void 0||Cr&1073741824?t.memoizedState=i:(t.memoizedState=a,t=Yy(),Ce.lanes|=t,Ur|=t,a)}function $g(t,i,a,l){return dn(a,i)?a:Da.current!==null?(t=Dh(t,a,l),dn(t,i)||(Vt=!0),t):Cr&42?(t=Yy(),Ce.lanes|=t,Ur|=t,i):(Vt=!0,t.memoizedState=a)}function Yg(t,i,a,l,f){var d=le.p;le.p=d!==0&&8>d?d:8;var v=w.T,T={};w.T=T,Oh(t,!1,i,a);try{var I=f(),k=w.S;if(k!==null&&k(T,I),I!==null&&typeof I=="object"&&typeof I.then=="function"){var W=Ib(I,l);nl(t,i,W,yn(t))}else nl(t,i,l,yn(t))}catch(te){nl(t,i,{then:function(){},status:"rejected",reason:te},yn())}finally{le.p=d,w.T=v}}function Ob(){}function xh(t,i,a,l){if(t.tag!==5)throw Error(s(476));var f=Xg(t).queue;Yg(t,f,i,Ie,a===null?Ob:function(){return Wg(t),a(l)})}function Xg(t){var i=t.memoizedState;if(i!==null)return i;i={memoizedState:Ie,baseState:Ie,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ui,lastRenderedState:Ie},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ui,lastRenderedState:a},next:null},t.memoizedState=i,t=t.alternate,t!==null&&(t.memoizedState=i),i}function Wg(t){var i=Xg(t).next.queue;nl(t,i,{},yn())}function Nh(){return Kt(bl)}function Zg(){return _t().memoizedState}function Jg(){return _t().memoizedState}function Mb(t){for(var i=t.return;i!==null;){switch(i.tag){case 24:case 3:var a=yn();t=Or(a);var l=Mr(i,t,a);l!==null&&(rn(l,i,a),sl(l,i,a)),i={cache:mh()},t.payload=i;return}i=i.return}}function Vb(t,i,a){var l=yn();a={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},ic(t)?ty(i,a):(a=oh(t,i,a,l),a!==null&&(rn(a,t,l),ny(a,i,l)))}function ey(t,i,a){var l=yn();nl(t,i,a,l)}function nl(t,i,a,l){var f={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(ic(t))ty(i,f);else{var d=t.alternate;if(t.lanes===0&&(d===null||d.lanes===0)&&(d=i.lastRenderedReducer,d!==null))try{var v=i.lastRenderedState,T=d(v,a);if(f.hasEagerState=!0,f.eagerState=T,dn(T,v))return ju(t,i,f,0),We===null&&zu(),!1}catch{}finally{}if(a=oh(t,i,f,l),a!==null)return rn(a,t,l),ny(a,i,l),!0}return!1}function Oh(t,i,a,l){if(l={lane:2,revertLane:Td(),action:l,hasEagerState:!1,eagerState:null,next:null},ic(t)){if(i)throw Error(s(479))}else i=oh(t,a,l,2),i!==null&&rn(i,t,2)}function ic(t){var i=t.alternate;return t===Ce||i!==null&&i===Ce}function ty(t,i){Oa=Xu=!0;var a=t.pending;a===null?i.next=i:(i.next=a.next,a.next=i),t.pending=i}function ny(t,i,a){if(a&4194176){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,pr(t,a)}}var ci={readContext:Kt,use:Ju,useCallback:mt,useContext:mt,useEffect:mt,useImperativeHandle:mt,useLayoutEffect:mt,useInsertionEffect:mt,useMemo:mt,useReducer:mt,useRef:mt,useState:mt,useDebugValue:mt,useDeferredValue:mt,useTransition:mt,useSyncExternalStore:mt,useId:mt};ci.useCacheRefresh=mt,ci.useMemoCache=mt,ci.useHostTransitionStatus=mt,ci.useFormState=mt,ci.useActionState=mt,ci.useOptimistic=mt;var Ms={readContext:Kt,use:Ju,useCallback:function(t,i){return ln().memoizedState=[t,i===void 0?null:i],t},useContext:Kt,useEffect:Bg,useImperativeHandle:function(t,i,a){a=a!=null?a.concat([t]):null,tc(4194308,4,Fg.bind(null,i,t),a)},useLayoutEffect:function(t,i){return tc(4194308,4,t,i)},useInsertionEffect:function(t,i){tc(4,2,t,i)},useMemo:function(t,i){var a=ln();i=i===void 0?null:i;var l=t();if(Os){Wn(!0);try{t()}finally{Wn(!1)}}return a.memoizedState=[l,i],l},useReducer:function(t,i,a){var l=ln();if(a!==void 0){var f=a(i);if(Os){Wn(!0);try{a(i)}finally{Wn(!1)}}}else f=i;return l.memoizedState=l.baseState=f,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:f},l.queue=t,t=t.dispatch=Vb.bind(null,Ce,t),[l.memoizedState,t]},useRef:function(t){var i=ln();return t={current:t},i.memoizedState=t},useState:function(t){t=Sh(t);var i=t.queue,a=ey.bind(null,Ce,i);return i.dispatch=a,[t.memoizedState,a]},useDebugValue:Ch,useDeferredValue:function(t,i){var a=ln();return Dh(a,t,i)},useTransition:function(){var t=Sh(!1);return t=Yg.bind(null,Ce,t.queue,!0,!1),ln().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,i,a){var l=Ce,f=ln();if(Be){if(a===void 0)throw Error(s(407));a=a()}else{if(a=i(),We===null)throw Error(s(349));Le&60||Sg(l,i,a)}f.memoizedState=a;var d={value:a,getSnapshot:i};return f.queue=d,Bg(Ig.bind(null,l,d,t),[t]),l.flags|=2048,Va(9,Rg.bind(null,l,d,a,i),{destroy:void 0},null),a},useId:function(){var t=ln(),i=We.identifierPrefix;if(Be){var a=Pi,l=ki;a=(l&~(1<<32-Jt(l)-1)).toString(32)+a,i=":"+i+"R"+a,a=Wu++,0<a&&(i+="H"+a.toString(32)),i+=":"}else a=Cb++,i=":"+i+"r"+a.toString(32)+":";return t.memoizedState=i},useCacheRefresh:function(){return ln().memoizedState=Mb.bind(null,Ce)}};Ms.useMemoCache=bh,Ms.useHostTransitionStatus=Nh,Ms.useFormState=Pg,Ms.useActionState=Pg,Ms.useOptimistic=function(t){var i=ln();i.memoizedState=i.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=Oh.bind(null,Ce,!0,a),a.dispatch=i,[t,i]};var Dr={readContext:Kt,use:Ju,useCallback:Kg,useContext:Kt,useEffect:Ih,useImperativeHandle:Gg,useInsertionEffect:qg,useLayoutEffect:Hg,useMemo:Qg,useReducer:ec,useRef:jg,useState:function(){return ec(Ui)},useDebugValue:Ch,useDeferredValue:function(t,i){var a=_t();return $g(a,Qe.memoizedState,t,i)},useTransition:function(){var t=ec(Ui)[0],i=_t().memoizedState;return[typeof t=="boolean"?t:tl(t),i]},useSyncExternalStore:wg,useId:Zg};Dr.useCacheRefresh=Jg,Dr.useMemoCache=bh,Dr.useHostTransitionStatus=Nh,Dr.useFormState=Lg,Dr.useActionState=Lg,Dr.useOptimistic=function(t,i){var a=_t();return xg(a,Qe,t,i)};var Vs={readContext:Kt,use:Ju,useCallback:Kg,useContext:Kt,useEffect:Ih,useImperativeHandle:Gg,useInsertionEffect:qg,useLayoutEffect:Hg,useMemo:Qg,useReducer:wh,useRef:jg,useState:function(){return wh(Ui)},useDebugValue:Ch,useDeferredValue:function(t,i){var a=_t();return Qe===null?Dh(a,t,i):$g(a,Qe.memoizedState,t,i)},useTransition:function(){var t=wh(Ui)[0],i=_t().memoizedState;return[typeof t=="boolean"?t:tl(t),i]},useSyncExternalStore:wg,useId:Zg};Vs.useCacheRefresh=Jg,Vs.useMemoCache=bh,Vs.useHostTransitionStatus=Nh,Vs.useFormState=zg,Vs.useActionState=zg,Vs.useOptimistic=function(t,i){var a=_t();return Qe!==null?xg(a,Qe,t,i):(a.baseState=t,[t,a.queue.dispatch])};function Mh(t,i,a,l){i=t.memoizedState,a=a(l,i),a=a==null?i:D({},i,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var Vh={isMounted:function(t){return(t=t._reactInternals)?de(t)===t:!1},enqueueSetState:function(t,i,a){t=t._reactInternals;var l=yn(),f=Or(l);f.payload=i,a!=null&&(f.callback=a),i=Mr(t,f,l),i!==null&&(rn(i,t,l),sl(i,t,l))},enqueueReplaceState:function(t,i,a){t=t._reactInternals;var l=yn(),f=Or(l);f.tag=1,f.payload=i,a!=null&&(f.callback=a),i=Mr(t,f,l),i!==null&&(rn(i,t,l),sl(i,t,l))},enqueueForceUpdate:function(t,i){t=t._reactInternals;var a=yn(),l=Or(a);l.tag=2,i!=null&&(l.callback=i),i=Mr(t,l,a),i!==null&&(rn(i,t,a),sl(i,t,a))}};function iy(t,i,a,l,f,d,v){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,d,v):i.prototype&&i.prototype.isPureReactComponent?!Ho(a,l)||!Ho(f,d):!0}function ry(t,i,a,l){t=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,l),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,l),i.state!==t&&Vh.enqueueReplaceState(i,i.state,null)}function ks(t,i){var a=i;if("ref"in i){a={};for(var l in i)l!=="ref"&&(a[l]=i[l])}if(t=t.defaultProps){a===i&&(a=D({},a));for(var f in t)a[f]===void 0&&(a[f]=t[f])}return a}var rc=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function sy(t){rc(t)}function ay(t){console.error(t)}function oy(t){rc(t)}function sc(t,i){try{var a=t.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(l){setTimeout(function(){throw l})}}function ly(t,i,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function kh(t,i,a){return a=Or(a),a.tag=3,a.payload={element:null},a.callback=function(){sc(t,i)},a}function uy(t){return t=Or(t),t.tag=3,t}function cy(t,i,a,l){var f=a.type.getDerivedStateFromError;if(typeof f=="function"){var d=l.value;t.payload=function(){return f(d)},t.callback=function(){ly(i,a,l)}}var v=a.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(t.callback=function(){ly(i,a,l),typeof f!="function"&&(zr===null?zr=new Set([this]):zr.add(this));var T=l.stack;this.componentDidCatch(l.value,{componentStack:T!==null?T:""})})}function kb(t,i,a,l,f){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(i=a.alternate,i!==null&&rl(i,a,f,!0),a=Nn.current,a!==null){switch(a.tag){case 13:return ui===null?gd():a.alternate===null&&ft===0&&(ft=3),a.flags&=-257,a.flags|=65536,a.lanes=f,l===fh?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([l]):i.add(l),_d(t,l,f)),!1;case 22:return a.flags|=65536,l===fh?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([l]):a.add(l)),_d(t,l,f)),!1}throw Error(s(435,a.tag))}return _d(t,l,f),gd(),!1}if(Be)return i=Nn.current,i!==null?(!(i.flags&65536)&&(i.flags|=256),i.flags|=65536,i.lanes=f,l!==ch&&(t=Error(s(422),{cause:l}),Qo(Cn(t,a)))):(l!==ch&&(i=Error(s(423),{cause:l}),Qo(Cn(i,a))),t=t.current.alternate,t.flags|=65536,f&=-f,t.lanes|=f,l=Cn(l,a),f=kh(t.stateNode,l,f),Xh(t,f),ft!==4&&(ft=2)),!1;var d=Error(s(520),{cause:l});if(d=Cn(d,a),dl===null?dl=[d]:dl.push(d),ft!==4&&(ft=2),i===null)return!0;l=Cn(l,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,t=f&-f,a.lanes|=t,t=kh(a.stateNode,l,t),Xh(a,t),!1;case 1:if(i=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(zr===null||!zr.has(d))))return a.flags|=65536,f&=-f,a.lanes|=f,f=uy(f),cy(f,t,a,l),Xh(a,f),!1}a=a.return}while(a!==null);return!1}var fy=Error(s(461)),Vt=!1;function jt(t,i,a,l){i.child=t===null?gg(i,null,a,l):xs(i,t.child,a,l)}function hy(t,i,a,l,f){a=a.render;var d=i.ref;if("ref"in l){var v={};for(var T in l)T!=="ref"&&(v[T]=l[T])}else v=l;return Ls(i),l=_h(t,i,a,v,d,f),T=vh(),t!==null&&!Vt?(Eh(t,i,f),zi(t,i,f)):(Be&&T&&lh(i),i.flags|=1,jt(t,i,l,f),i.child)}function dy(t,i,a,l,f){if(t===null){var d=a.type;return typeof d=="function"&&!rd(d)&&d.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=d,my(t,i,d,l,f)):(t=cc(a.type,null,l,i,i.mode,f),t.ref=i.ref,t.return=i,i.child=t)}if(d=t.child,!Fh(t,f)){var v=d.memoizedProps;if(a=a.compare,a=a!==null?a:Ho,a(v,l)&&t.ref===i.ref)return zi(t,i,f)}return i.flags|=1,t=Lr(d,l),t.ref=i.ref,t.return=i,i.child=t}function my(t,i,a,l,f){if(t!==null){var d=t.memoizedProps;if(Ho(d,l)&&t.ref===i.ref)if(Vt=!1,i.pendingProps=l=d,Fh(t,f))t.flags&131072&&(Vt=!0);else return i.lanes=t.lanes,zi(t,i,f)}return Ph(t,i,a,l,f)}function py(t,i,a){var l=i.pendingProps,f=l.children,d=(i.stateNode._pendingVisibility&2)!==0,v=t!==null?t.memoizedState:null;if(il(t,i),l.mode==="hidden"||d){if(i.flags&128){if(l=v!==null?v.baseLanes|a:a,t!==null){for(f=i.child=t.child,d=0;f!==null;)d=d|f.lanes|f.childLanes,f=f.sibling;i.childLanes=d&~l}else i.childLanes=0,i.child=null;return gy(t,i,l,a)}if(a&536870912)i.memoizedState={baseLanes:0,cachePool:null},t!==null&&Yu(i,v!==null?v.cachePool:null),v!==null?yg(i,v):hh(),_g(i);else return i.lanes=i.childLanes=536870912,gy(t,i,v!==null?v.baseLanes|a:a,a)}else v!==null?(Yu(i,v.cachePool),yg(i,v),Ir(),i.memoizedState=null):(t!==null&&Yu(i,null),hh(),Ir());return jt(t,i,f,a),i.child}function gy(t,i,a,l){var f=gh();return f=f===null?null:{parent:It._currentValue,pool:f},i.memoizedState={baseLanes:a,cachePool:f},t!==null&&Yu(i,null),hh(),_g(i),t!==null&&rl(t,i,l,!0),null}function il(t,i){var a=i.ref;if(a===null)t!==null&&t.ref!==null&&(i.flags|=2097664);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(t===null||t.ref!==a)&&(i.flags|=2097664)}}function Ph(t,i,a,l,f){return Ls(i),a=_h(t,i,a,l,void 0,f),l=vh(),t!==null&&!Vt?(Eh(t,i,f),zi(t,i,f)):(Be&&l&&lh(i),i.flags|=1,jt(t,i,a,f),i.child)}function yy(t,i,a,l,f,d){return Ls(i),i.updateQueue=null,a=Ag(i,l,a,f),bg(t),l=vh(),t!==null&&!Vt?(Eh(t,i,d),zi(t,i,d)):(Be&&l&&lh(i),i.flags|=1,jt(t,i,a,d),i.child)}function _y(t,i,a,l,f){if(Ls(i),i.stateNode===null){var d=Sa,v=a.contextType;typeof v=="object"&&v!==null&&(d=Kt(v)),d=new a(l,d),i.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=Vh,i.stateNode=d,d._reactInternals=i,d=i.stateNode,d.props=l,d.state=i.memoizedState,d.refs={},$h(i),v=a.contextType,d.context=typeof v=="object"&&v!==null?Kt(v):Sa,d.state=i.memoizedState,v=a.getDerivedStateFromProps,typeof v=="function"&&(Mh(i,a,v,l),d.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(v=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),v!==d.state&&Vh.enqueueReplaceState(d,d.state,null),ol(i,l,d,f),al(),d.state=i.memoizedState),typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!0}else if(t===null){d=i.stateNode;var T=i.memoizedProps,I=ks(a,T);d.props=I;var k=d.context,W=a.contextType;v=Sa,typeof W=="object"&&W!==null&&(v=Kt(W));var te=a.getDerivedStateFromProps;W=typeof te=="function"||typeof d.getSnapshotBeforeUpdate=="function",T=i.pendingProps!==T,W||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(T||k!==v)&&ry(i,d,l,v),Nr=!1;var G=i.memoizedState;d.state=G,ol(i,l,d,f),al(),k=i.memoizedState,T||G!==k||Nr?(typeof te=="function"&&(Mh(i,a,te,l),k=i.memoizedState),(I=Nr||iy(i,a,I,l,G,k,v))?(W||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(i.flags|=4194308)):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=l,i.memoizedState=k),d.props=l,d.state=k,d.context=v,l=I):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!1)}else{d=i.stateNode,Yh(t,i),v=i.memoizedProps,W=ks(a,v),d.props=W,te=i.pendingProps,G=d.context,k=a.contextType,I=Sa,typeof k=="object"&&k!==null&&(I=Kt(k)),T=a.getDerivedStateFromProps,(k=typeof T=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(v!==te||G!==I)&&ry(i,d,l,I),Nr=!1,G=i.memoizedState,d.state=G,ol(i,l,d,f),al();var X=i.memoizedState;v!==te||G!==X||Nr||t!==null&&t.dependencies!==null&&ac(t.dependencies)?(typeof T=="function"&&(Mh(i,a,T,l),X=i.memoizedState),(W=Nr||iy(i,a,W,l,G,X,I)||t!==null&&t.dependencies!==null&&ac(t.dependencies))?(k||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,X,I),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,X,I)),typeof d.componentDidUpdate=="function"&&(i.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof d.componentDidUpdate!="function"||v===t.memoizedProps&&G===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&G===t.memoizedState||(i.flags|=1024),i.memoizedProps=l,i.memoizedState=X),d.props=l,d.state=X,d.context=I,l=W):(typeof d.componentDidUpdate!="function"||v===t.memoizedProps&&G===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&G===t.memoizedState||(i.flags|=1024),l=!1)}return d=l,il(t,i),l=(i.flags&128)!==0,d||l?(d=i.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),i.flags|=1,t!==null&&l?(i.child=xs(i,t.child,null,f),i.child=xs(i,null,a,f)):jt(t,i,a,f),i.memoizedState=d.state,t=i.child):t=zi(t,i,f),t}function vy(t,i,a,l){return Ko(),i.flags|=256,jt(t,i,a,l),i.child}var Lh={dehydrated:null,treeContext:null,retryLane:0};function Uh(t){return{baseLanes:t,cachePool:Tg()}}function zh(t,i,a){return t=t!==null?t.childLanes&~a:0,i&&(t|=kn),t}function Ey(t,i,a){var l=i.pendingProps,f=!1,d=(i.flags&128)!==0,v;if((v=d)||(v=t!==null&&t.memoizedState===null?!1:(Rt.current&2)!==0),v&&(f=!0,i.flags&=-129),v=(i.flags&32)!==0,i.flags&=-33,t===null){if(Be){if(f?Rr(i):Ir(),Be){var T=zt,I;if(I=T){e:{for(I=T,T=li;I.nodeType!==8;){if(!T){T=null;break e}if(I=Hn(I.nextSibling),I===null){T=null;break e}}T=I}T!==null?(i.memoizedState={dehydrated:T,treeContext:Is!==null?{id:ki,overflow:Pi}:null,retryLane:536870912},I=Vn(18,null,null,0),I.stateNode=T,I.return=i,i.child=I,nn=i,zt=null,I=!0):I=!1}I||Ds(i)}if(T=i.memoizedState,T!==null&&(T=T.dehydrated,T!==null))return T.data==="$!"?i.lanes=16:i.lanes=536870912,null;Li(i)}return T=l.children,l=l.fallback,f?(Ir(),f=i.mode,T=Bh({mode:"hidden",children:T},f),l=zs(l,f,a,null),T.return=i,l.return=i,T.sibling=l,i.child=T,f=i.child,f.memoizedState=Uh(a),f.childLanes=zh(t,v,a),i.memoizedState=Lh,l):(Rr(i),jh(i,T))}if(I=t.memoizedState,I!==null&&(T=I.dehydrated,T!==null)){if(d)i.flags&256?(Rr(i),i.flags&=-257,i=qh(t,i,a)):i.memoizedState!==null?(Ir(),i.child=t.child,i.flags|=128,i=null):(Ir(),f=l.fallback,T=i.mode,l=Bh({mode:"visible",children:l.children},T),f=zs(f,T,a,null),f.flags|=2,l.return=i,f.return=i,l.sibling=f,i.child=l,xs(i,t.child,null,a),l=i.child,l.memoizedState=Uh(a),l.childLanes=zh(t,v,a),i.memoizedState=Lh,i=f);else if(Rr(i),T.data==="$!"){if(v=T.nextSibling&&T.nextSibling.dataset,v)var k=v.dgst;v=k,l=Error(s(419)),l.stack="",l.digest=v,Qo({value:l,source:null,stack:null}),i=qh(t,i,a)}else if(Vt||rl(t,i,a,!1),v=(a&t.childLanes)!==0,Vt||v){if(v=We,v!==null){if(l=a&-a,l&42)l=1;else switch(l){case 2:l=1;break;case 8:l=4;break;case 32:l=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:l=64;break;case 268435456:l=134217728;break;default:l=0}if(l=l&(v.suspendedLanes|a)?0:l,l!==0&&l!==I.retryLane)throw I.retryLane=l,Sr(t,l),rn(v,t,l),fy}T.data==="$?"||gd(),i=qh(t,i,a)}else T.data==="$?"?(i.flags|=128,i.child=t.child,i=Xb.bind(null,t),T._reactRetry=i,i=null):(t=I.treeContext,zt=Hn(T.nextSibling),nn=i,Be=!0,Bn=null,li=!1,t!==null&&(Dn[xn++]=ki,Dn[xn++]=Pi,Dn[xn++]=Is,ki=t.id,Pi=t.overflow,Is=i),i=jh(i,l.children),i.flags|=4096);return i}return f?(Ir(),f=l.fallback,T=i.mode,I=t.child,k=I.sibling,l=Lr(I,{mode:"hidden",children:l.children}),l.subtreeFlags=I.subtreeFlags&31457280,k!==null?f=Lr(k,f):(f=zs(f,T,a,null),f.flags|=2),f.return=i,l.return=i,l.sibling=f,i.child=l,l=f,f=i.child,T=t.child.memoizedState,T===null?T=Uh(a):(I=T.cachePool,I!==null?(k=It._currentValue,I=I.parent!==k?{parent:k,pool:k}:I):I=Tg(),T={baseLanes:T.baseLanes|a,cachePool:I}),f.memoizedState=T,f.childLanes=zh(t,v,a),i.memoizedState=Lh,l):(Rr(i),a=t.child,t=a.sibling,a=Lr(a,{mode:"visible",children:l.children}),a.return=i,a.sibling=null,t!==null&&(v=i.deletions,v===null?(i.deletions=[t],i.flags|=16):v.push(t)),i.child=a,i.memoizedState=null,a)}function jh(t,i){return i=Bh({mode:"visible",children:i},t.mode),i.return=t,t.child=i}function Bh(t,i){return Ky(t,i,0,null)}function qh(t,i,a){return xs(i,t.child,null,a),t=jh(i,i.pendingProps.children),t.flags|=2,i.memoizedState=null,t}function Ty(t,i,a){t.lanes|=i;var l=t.alternate;l!==null&&(l.lanes|=i),Kh(t.return,i,a)}function Hh(t,i,a,l,f){var d=t.memoizedState;d===null?t.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:f}:(d.isBackwards=i,d.rendering=null,d.renderingStartTime=0,d.last=l,d.tail=a,d.tailMode=f)}function by(t,i,a){var l=i.pendingProps,f=l.revealOrder,d=l.tail;if(jt(t,i,l.children,a),l=Rt.current,l&2)l=l&1|2,i.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=i.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Ty(t,a,i);else if(t.tag===19)Ty(t,a,i);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===i)break e;for(;t.sibling===null;){if(t.return===null||t.return===i)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}l&=1}switch(Ke(Rt,l),f){case"forwards":for(a=i.child,f=null;a!==null;)t=a.alternate,t!==null&&$u(t)===null&&(f=a),a=a.sibling;a=f,a===null?(f=i.child,i.child=null):(f=a.sibling,a.sibling=null),Hh(i,!1,f,a,d);break;case"backwards":for(a=null,f=i.child,i.child=null;f!==null;){if(t=f.alternate,t!==null&&$u(t)===null){i.child=f;break}t=f.sibling,f.sibling=a,a=f,f=t}Hh(i,!0,a,null,d);break;case"together":Hh(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function zi(t,i,a){if(t!==null&&(i.dependencies=t.dependencies),Ur|=i.lanes,!(a&i.childLanes))if(t!==null){if(rl(t,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(t!==null&&i.child!==t.child)throw Error(s(153));if(i.child!==null){for(t=i.child,a=Lr(t,t.pendingProps),i.child=a,a.return=i;t.sibling!==null;)t=t.sibling,a=a.sibling=Lr(t,t.pendingProps),a.return=i;a.sibling=null}return i.child}function Fh(t,i){return t.lanes&i?!0:(t=t.dependencies,!!(t!==null&&ac(t)))}function Pb(t,i,a){switch(i.tag){case 3:ur(i,i.stateNode.containerInfo),xr(i,It,t.memoizedState.cache),Ko();break;case 27:case 5:bo(i);break;case 4:ur(i,i.stateNode.containerInfo);break;case 10:xr(i,i.type,i.memoizedProps.value);break;case 13:var l=i.memoizedState;if(l!==null)return l.dehydrated!==null?(Rr(i),i.flags|=128,null):a&i.child.childLanes?Ey(t,i,a):(Rr(i),t=zi(t,i,a),t!==null?t.sibling:null);Rr(i);break;case 19:var f=(t.flags&128)!==0;if(l=(a&i.childLanes)!==0,l||(rl(t,i,a,!1),l=(a&i.childLanes)!==0),f){if(l)return by(t,i,a);i.flags|=128}if(f=i.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),Ke(Rt,Rt.current),l)break;return null;case 22:case 23:return i.lanes=0,py(t,i,a);case 24:xr(i,It,t.memoizedState.cache)}return zi(t,i,a)}function Ay(t,i,a){if(t!==null)if(t.memoizedProps!==i.pendingProps)Vt=!0;else{if(!Fh(t,a)&&!(i.flags&128))return Vt=!1,Pb(t,i,a);Vt=!!(t.flags&131072)}else Vt=!1,Be&&i.flags&1048576&&og(i,Hu,i.index);switch(i.lanes=0,i.tag){case 16:e:{t=i.pendingProps;var l=i.elementType,f=l._init;if(l=f(l._payload),i.type=l,typeof l=="function")rd(l)?(t=ks(l,t),i.tag=1,i=_y(null,i,l,t,a)):(i.tag=0,i=Ph(null,i,l,t,a));else{if(l!=null){if(f=l.$$typeof,f===P){i.tag=11,i=hy(null,i,l,t,a);break e}else if(f===K){i.tag=14,i=dy(null,i,l,t,a);break e}}throw i=S(l)||l,Error(s(306,i,""))}}return i;case 0:return Ph(t,i,i.type,i.pendingProps,a);case 1:return l=i.type,f=ks(l,i.pendingProps),_y(t,i,l,f,a);case 3:e:{if(ur(i,i.stateNode.containerInfo),t===null)throw Error(s(387));var d=i.pendingProps;f=i.memoizedState,l=f.element,Yh(t,i),ol(i,d,null,a);var v=i.memoizedState;if(d=v.cache,xr(i,It,d),d!==f.cache&&Qh(i,[It],a,!0),al(),d=v.element,f.isDehydrated)if(f={element:d,isDehydrated:!1,cache:v.cache},i.updateQueue.baseState=f,i.memoizedState=f,i.flags&256){i=vy(t,i,d,a);break e}else if(d!==l){l=Cn(Error(s(424)),i),Qo(l),i=vy(t,i,d,a);break e}else for(zt=Hn(i.stateNode.containerInfo.firstChild),nn=i,Be=!0,Bn=null,li=!0,a=gg(i,null,d,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(Ko(),d===l){i=zi(t,i,a);break e}jt(t,i,d,a)}i=i.child}return i;case 26:return il(t,i),t===null?(a=R_(i.type,null,i.pendingProps,null))?i.memoizedState=a:Be||(a=i.type,t=i.pendingProps,l=bc(En.current).createElement(a),l[Nt]=i,l[At]=t,Bt(l,a,t),it(l),i.stateNode=l):i.memoizedState=R_(i.type,t.memoizedProps,i.pendingProps,t.memoizedState),null;case 27:return bo(i),t===null&&Be&&(l=i.stateNode=A_(i.type,i.pendingProps,En.current),nn=i,li=!0,zt=Hn(l.firstChild)),l=i.pendingProps.children,t!==null||Be?jt(t,i,l,a):i.child=xs(i,null,l,a),il(t,i),i.child;case 5:return t===null&&Be&&((f=l=zt)&&(l=hA(l,i.type,i.pendingProps,li),l!==null?(i.stateNode=l,nn=i,zt=Hn(l.firstChild),li=!1,f=!0):f=!1),f||Ds(i)),bo(i),f=i.type,d=i.pendingProps,v=t!==null?t.memoizedProps:null,l=d.children,xd(f,d)?l=null:v!==null&&xd(f,v)&&(i.flags|=32),i.memoizedState!==null&&(f=_h(t,i,Db,null,null,a),bl._currentValue=f),il(t,i),jt(t,i,l,a),i.child;case 6:return t===null&&Be&&((t=a=zt)&&(a=dA(a,i.pendingProps,li),a!==null?(i.stateNode=a,nn=i,zt=null,t=!0):t=!1),t||Ds(i)),null;case 13:return Ey(t,i,a);case 4:return ur(i,i.stateNode.containerInfo),l=i.pendingProps,t===null?i.child=xs(i,null,l,a):jt(t,i,l,a),i.child;case 11:return hy(t,i,i.type,i.pendingProps,a);case 7:return jt(t,i,i.pendingProps,a),i.child;case 8:return jt(t,i,i.pendingProps.children,a),i.child;case 12:return jt(t,i,i.pendingProps.children,a),i.child;case 10:return l=i.pendingProps,xr(i,i.type,l.value),jt(t,i,l.children,a),i.child;case 9:return f=i.type._context,l=i.pendingProps.children,Ls(i),f=Kt(f),l=l(f),i.flags|=1,jt(t,i,l,a),i.child;case 14:return dy(t,i,i.type,i.pendingProps,a);case 15:return my(t,i,i.type,i.pendingProps,a);case 19:return by(t,i,a);case 22:return py(t,i,a);case 24:return Ls(i),l=Kt(It),t===null?(f=gh(),f===null&&(f=We,d=mh(),f.pooledCache=d,d.refCount++,d!==null&&(f.pooledCacheLanes|=a),f=d),i.memoizedState={parent:l,cache:f},$h(i),xr(i,It,f)):(t.lanes&a&&(Yh(t,i),ol(i,null,null,a),al()),f=t.memoizedState,d=i.memoizedState,f.parent!==l?(f={parent:l,cache:l},i.memoizedState=f,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=f),xr(i,It,l)):(l=d.cache,xr(i,It,l),l!==f.cache&&Qh(i,[It],a,!0))),jt(t,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}var Gh=ze(null),Ps=null,ji=null;function xr(t,i,a){Ke(Gh,i._currentValue),i._currentValue=a}function Bi(t){t._currentValue=Gh.current,lt(Gh)}function Kh(t,i,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&i)!==i?(t.childLanes|=i,l!==null&&(l.childLanes|=i)):l!==null&&(l.childLanes&i)!==i&&(l.childLanes|=i),t===a)break;t=t.return}}function Qh(t,i,a,l){var f=t.child;for(f!==null&&(f.return=t);f!==null;){var d=f.dependencies;if(d!==null){var v=f.child;d=d.firstContext;e:for(;d!==null;){var T=d;d=f;for(var I=0;I<i.length;I++)if(T.context===i[I]){d.lanes|=a,T=d.alternate,T!==null&&(T.lanes|=a),Kh(d.return,a,t),l||(v=null);break e}d=T.next}}else if(f.tag===18){if(v=f.return,v===null)throw Error(s(341));v.lanes|=a,d=v.alternate,d!==null&&(d.lanes|=a),Kh(v,a,t),v=null}else v=f.child;if(v!==null)v.return=f;else for(v=f;v!==null;){if(v===t){v=null;break}if(f=v.sibling,f!==null){f.return=v.return,v=f;break}v=v.return}f=v}}function rl(t,i,a,l){t=null;for(var f=i,d=!1;f!==null;){if(!d){if(f.flags&524288)d=!0;else if(f.flags&262144)break}if(f.tag===10){var v=f.alternate;if(v===null)throw Error(s(387));if(v=v.memoizedProps,v!==null){var T=f.type;dn(f.pendingProps.value,v.value)||(t!==null?t.push(T):t=[T])}}else if(f===lr.current){if(v=f.alternate,v===null)throw Error(s(387));v.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(t!==null?t.push(bl):t=[bl])}f=f.return}t!==null&&Qh(i,t,a,l),i.flags|=262144}function ac(t){for(t=t.firstContext;t!==null;){if(!dn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Ls(t){Ps=t,ji=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Kt(t){return wy(Ps,t)}function oc(t,i){return Ps===null&&Ls(t),wy(t,i)}function wy(t,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},ji===null){if(t===null)throw Error(s(308));ji=i,t.dependencies={lanes:0,firstContext:i},t.flags|=524288}else ji=ji.next=i;return a}var Nr=!1;function $h(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Yh(t,i){t=t.updateQueue,i.updateQueue===t&&(i.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Or(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Mr(t,i,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,st&2){var f=l.pending;return f===null?i.next=i:(i.next=f.next,f.next=i),l.pending=i,i=Bu(t),sg(t,null,a),i}return ju(t,l,i,a),Bu(t)}function sl(t,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194176)!==0)){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,pr(t,a)}}function Xh(t,i){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var f=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var v={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?f=d=v:d=d.next=v,a=a.next}while(a!==null);d===null?f=d=i:d=d.next=i}else f=d=i;a={baseState:l.baseState,firstBaseUpdate:f,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=i:t.next=i,a.lastBaseUpdate=i}var Wh=!1;function al(){if(Wh){var t=Na;if(t!==null)throw t}}function ol(t,i,a,l){Wh=!1;var f=t.updateQueue;Nr=!1;var d=f.firstBaseUpdate,v=f.lastBaseUpdate,T=f.shared.pending;if(T!==null){f.shared.pending=null;var I=T,k=I.next;I.next=null,v===null?d=k:v.next=k,v=I;var W=t.alternate;W!==null&&(W=W.updateQueue,T=W.lastBaseUpdate,T!==v&&(T===null?W.firstBaseUpdate=k:T.next=k,W.lastBaseUpdate=I))}if(d!==null){var te=f.baseState;v=0,W=k=I=null,T=d;do{var G=T.lane&-536870913,X=G!==T.lane;if(X?(Le&G)===G:(l&G)===G){G!==0&&G===xa&&(Wh=!0),W!==null&&(W=W.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});e:{var me=t,Ae=T;G=i;var ht=a;switch(Ae.tag){case 1:if(me=Ae.payload,typeof me=="function"){te=me.call(ht,te,G);break e}te=me;break e;case 3:me.flags=me.flags&-65537|128;case 0:if(me=Ae.payload,G=typeof me=="function"?me.call(ht,te,G):me,G==null)break e;te=D({},te,G);break e;case 2:Nr=!0}}G=T.callback,G!==null&&(t.flags|=64,X&&(t.flags|=8192),X=f.callbacks,X===null?f.callbacks=[G]:X.push(G))}else X={lane:G,tag:T.tag,payload:T.payload,callback:T.callback,next:null},W===null?(k=W=X,I=te):W=W.next=X,v|=G;if(T=T.next,T===null){if(T=f.shared.pending,T===null)break;X=T,T=X.next,X.next=null,f.lastBaseUpdate=X,f.shared.pending=null}}while(!0);W===null&&(I=te),f.baseState=I,f.firstBaseUpdate=k,f.lastBaseUpdate=W,d===null&&(f.shared.lanes=0),Ur|=v,t.lanes=v,t.memoizedState=te}}function Sy(t,i){if(typeof t!="function")throw Error(s(191,t));t.call(i)}function Ry(t,i){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)Sy(a[t],i)}function ll(t,i){try{var a=i.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var f=l.next;a=f;do{if((a.tag&t)===t){l=void 0;var d=a.create,v=a.inst;l=d(),v.destroy=l}a=a.next}while(a!==f)}}catch(T){Xe(i,i.return,T)}}function Vr(t,i,a){try{var l=i.updateQueue,f=l!==null?l.lastEffect:null;if(f!==null){var d=f.next;l=d;do{if((l.tag&t)===t){var v=l.inst,T=v.destroy;if(T!==void 0){v.destroy=void 0,f=i;var I=a;try{T()}catch(k){Xe(f,I,k)}}}l=l.next}while(l!==d)}}catch(k){Xe(i,i.return,k)}}function Iy(t){var i=t.updateQueue;if(i!==null){var a=t.stateNode;try{Ry(i,a)}catch(l){Xe(t,t.return,l)}}}function Cy(t,i,a){a.props=ks(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){Xe(t,i,l)}}function Us(t,i){try{var a=t.ref;if(a!==null){var l=t.stateNode;switch(t.tag){case 26:case 27:case 5:var f=l;break;default:f=l}typeof a=="function"?t.refCleanup=a(f):a.current=f}}catch(d){Xe(t,i,d)}}function mn(t,i){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(f){Xe(t,i,f)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(f){Xe(t,i,f)}else a.current=null}function Dy(t){var i=t.type,a=t.memoizedProps,l=t.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(f){Xe(t,t.return,f)}}function xy(t,i,a){try{var l=t.stateNode;oA(l,t.type,a,i),l[At]=i}catch(f){Xe(t,t.return,f)}}function Ny(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27||t.tag===4}function Zh(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Ny(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==27&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Jh(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?a.nodeType===8?a.parentNode.insertBefore(t,i):a.insertBefore(t,i):(a.nodeType===8?(i=a.parentNode,i.insertBefore(t,a)):(i=a,i.appendChild(t)),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=Tc));else if(l!==4&&l!==27&&(t=t.child,t!==null))for(Jh(t,i,a),t=t.sibling;t!==null;)Jh(t,i,a),t=t.sibling}function lc(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?a.insertBefore(t,i):a.appendChild(t);else if(l!==4&&l!==27&&(t=t.child,t!==null))for(lc(t,i,a),t=t.sibling;t!==null;)lc(t,i,a),t=t.sibling}var qi=!1,ct=!1,ed=!1,Oy=typeof WeakSet=="function"?WeakSet:Set,kt=null,My=!1;function Lb(t,i){if(t=t.containerInfo,Cd=Cc,t=Xp(t),nh(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var f=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break e}var v=0,T=-1,I=-1,k=0,W=0,te=t,G=null;t:for(;;){for(var X;te!==a||f!==0&&te.nodeType!==3||(T=v+f),te!==d||l!==0&&te.nodeType!==3||(I=v+l),te.nodeType===3&&(v+=te.nodeValue.length),(X=te.firstChild)!==null;)G=te,te=X;for(;;){if(te===t)break t;if(G===a&&++k===f&&(T=v),G===d&&++W===l&&(I=v),(X=te.nextSibling)!==null)break;te=G,G=te.parentNode}te=X}a=T===-1||I===-1?null:{start:T,end:I}}else a=null}a=a||{start:0,end:0}}else a=null;for(Dd={focusedElem:t,selectionRange:a},Cc=!1,kt=i;kt!==null;)if(i=kt,t=i.child,(i.subtreeFlags&1028)!==0&&t!==null)t.return=i,kt=t;else for(;kt!==null;){switch(i=kt,d=i.alternate,t=i.flags,i.tag){case 0:break;case 11:case 15:break;case 1:if(t&1024&&d!==null){t=void 0,a=i,f=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var me=ks(a.type,f,a.elementType===a.type);t=l.getSnapshotBeforeUpdate(me,d),l.__reactInternalSnapshotBeforeUpdate=t}catch(Ae){Xe(a,a.return,Ae)}}break;case 3:if(t&1024){if(t=i.stateNode.containerInfo,a=t.nodeType,a===9)Md(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Md(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(t&1024)throw Error(s(163))}if(t=i.sibling,t!==null){t.return=i.return,kt=t;break}kt=i.return}return me=My,My=!1,me}function Vy(t,i,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:Fi(t,a),l&4&&ll(5,a);break;case 1:if(Fi(t,a),l&4)if(t=a.stateNode,i===null)try{t.componentDidMount()}catch(T){Xe(a,a.return,T)}else{var f=ks(a.type,i.memoizedProps);i=i.memoizedState;try{t.componentDidUpdate(f,i,t.__reactInternalSnapshotBeforeUpdate)}catch(T){Xe(a,a.return,T)}}l&64&&Iy(a),l&512&&Us(a,a.return);break;case 3:if(Fi(t,a),l&64&&(l=a.updateQueue,l!==null)){if(t=null,a.child!==null)switch(a.child.tag){case 27:case 5:t=a.child.stateNode;break;case 1:t=a.child.stateNode}try{Ry(l,t)}catch(T){Xe(a,a.return,T)}}break;case 26:Fi(t,a),l&512&&Us(a,a.return);break;case 27:case 5:Fi(t,a),i===null&&l&4&&Dy(a),l&512&&Us(a,a.return);break;case 12:Fi(t,a);break;case 13:Fi(t,a),l&4&&Ly(t,a);break;case 22:if(f=a.memoizedState!==null||qi,!f){i=i!==null&&i.memoizedState!==null||ct;var d=qi,v=ct;qi=f,(ct=i)&&!v?kr(t,a,(a.subtreeFlags&8772)!==0):Fi(t,a),qi=d,ct=v}l&512&&(a.memoizedProps.mode==="manual"?Us(a,a.return):mn(a,a.return));break;default:Fi(t,a)}}function ky(t){var i=t.alternate;i!==null&&(t.alternate=null,ky(i)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(i=t.stateNode,i!==null&&ms(i)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var vt=null,pn=!1;function Hi(t,i,a){for(a=a.child;a!==null;)Py(t,i,a),a=a.sibling}function Py(t,i,a){if(Gt&&typeof Gt.onCommitFiberUnmount=="function")try{Gt.onCommitFiberUnmount(cr,a)}catch{}switch(a.tag){case 26:ct||mn(a,i),Hi(t,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:ct||mn(a,i);var l=vt,f=pn;for(vt=a.stateNode,Hi(t,i,a),a=a.stateNode,i=a.attributes;i.length;)a.removeAttributeNode(i[0]);ms(a),vt=l,pn=f;break;case 5:ct||mn(a,i);case 6:f=vt;var d=pn;if(vt=null,Hi(t,i,a),vt=f,pn=d,vt!==null)if(pn)try{t=vt,l=a.stateNode,t.nodeType===8?t.parentNode.removeChild(l):t.removeChild(l)}catch(v){Xe(a,i,v)}else try{vt.removeChild(a.stateNode)}catch(v){Xe(a,i,v)}break;case 18:vt!==null&&(pn?(i=vt,a=a.stateNode,i.nodeType===8?Od(i.parentNode,a):i.nodeType===1&&Od(i,a),Rl(i)):Od(vt,a.stateNode));break;case 4:l=vt,f=pn,vt=a.stateNode.containerInfo,pn=!0,Hi(t,i,a),vt=l,pn=f;break;case 0:case 11:case 14:case 15:ct||Vr(2,a,i),ct||Vr(4,a,i),Hi(t,i,a);break;case 1:ct||(mn(a,i),l=a.stateNode,typeof l.componentWillUnmount=="function"&&Cy(a,i,l)),Hi(t,i,a);break;case 21:Hi(t,i,a);break;case 22:ct||mn(a,i),ct=(l=ct)||a.memoizedState!==null,Hi(t,i,a),ct=l;break;default:Hi(t,i,a)}}function Ly(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Rl(t)}catch(a){Xe(i,i.return,a)}}function Ub(t){switch(t.tag){case 13:case 19:var i=t.stateNode;return i===null&&(i=t.stateNode=new Oy),i;case 22:return t=t.stateNode,i=t._retryCache,i===null&&(i=t._retryCache=new Oy),i;default:throw Error(s(435,t.tag))}}function td(t,i){var a=Ub(t);i.forEach(function(l){var f=Wb.bind(null,t,l);a.has(l)||(a.add(l),l.then(f,f))})}function On(t,i){var a=i.deletions;if(a!==null)for(var l=0;l<a.length;l++){var f=a[l],d=t,v=i,T=v;e:for(;T!==null;){switch(T.tag){case 27:case 5:vt=T.stateNode,pn=!1;break e;case 3:vt=T.stateNode.containerInfo,pn=!0;break e;case 4:vt=T.stateNode.containerInfo,pn=!0;break e}T=T.return}if(vt===null)throw Error(s(160));Py(d,v,f),vt=null,pn=!1,d=f.alternate,d!==null&&(d.return=null),f.return=null}if(i.subtreeFlags&13878)for(i=i.child;i!==null;)Uy(i,t),i=i.sibling}var qn=null;function Uy(t,i){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:On(i,t),Mn(t),l&4&&(Vr(3,t,t.return),ll(3,t),Vr(5,t,t.return));break;case 1:On(i,t),Mn(t),l&512&&(ct||a===null||mn(a,a.return)),l&64&&qi&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var f=qn;if(On(i,t),Mn(t),l&512&&(ct||a===null||mn(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){e:{l=t.type,a=t.memoizedProps,f=f.ownerDocument||f;t:switch(l){case"title":d=f.getElementsByTagName("title")[0],(!d||d[yr]||d[Nt]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=f.createElement(l),f.head.insertBefore(d,f.querySelector("head > title"))),Bt(d,l,a),d[Nt]=t,it(d),l=d;break e;case"link":var v=D_("link","href",f).get(l+(a.href||""));if(v){for(var T=0;T<v.length;T++)if(d=v[T],d.getAttribute("href")===(a.href==null?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){v.splice(T,1);break t}}d=f.createElement(l),Bt(d,l,a),f.head.appendChild(d);break;case"meta":if(v=D_("meta","content",f).get(l+(a.content||""))){for(T=0;T<v.length;T++)if(d=v[T],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){v.splice(T,1);break t}}d=f.createElement(l),Bt(d,l,a),f.head.appendChild(d);break;default:throw Error(s(468,l))}d[Nt]=t,it(d),l=d}t.stateNode=l}else x_(f,t.type,t.stateNode);else t.stateNode=C_(f,l,t.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?x_(f,t.type,t.stateNode):C_(f,l,t.memoizedProps)):l===null&&t.stateNode!==null&&xy(t,t.memoizedProps,a.memoizedProps)}break;case 27:if(l&4&&t.alternate===null){f=t.stateNode,d=t.memoizedProps;try{for(var I=f.firstChild;I;){var k=I.nextSibling,W=I.nodeName;I[yr]||W==="HEAD"||W==="BODY"||W==="SCRIPT"||W==="STYLE"||W==="LINK"&&I.rel.toLowerCase()==="stylesheet"||f.removeChild(I),I=k}for(var te=t.type,G=f.attributes;G.length;)f.removeAttributeNode(G[0]);Bt(f,te,d),f[Nt]=t,f[At]=d}catch(me){Xe(t,t.return,me)}}case 5:if(On(i,t),Mn(t),l&512&&(ct||a===null||mn(a,a.return)),t.flags&32){f=t.stateNode;try{An(f,"")}catch(me){Xe(t,t.return,me)}}l&4&&t.stateNode!=null&&(f=t.memoizedProps,xy(t,f,a!==null?a.memoizedProps:f)),l&1024&&(ed=!0);break;case 6:if(On(i,t),Mn(t),l&4){if(t.stateNode===null)throw Error(s(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(me){Xe(t,t.return,me)}}break;case 3:if(Sc=null,f=qn,qn=Ac(i.containerInfo),On(i,t),qn=f,Mn(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{Rl(i.containerInfo)}catch(me){Xe(t,t.return,me)}ed&&(ed=!1,zy(t));break;case 4:l=qn,qn=Ac(t.stateNode.containerInfo),On(i,t),Mn(t),qn=l;break;case 12:On(i,t),Mn(t);break;case 13:On(i,t),Mn(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(cd=an()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,td(t,l)));break;case 22:if(l&512&&(ct||a===null||mn(a,a.return)),I=t.memoizedState!==null,k=a!==null&&a.memoizedState!==null,W=qi,te=ct,qi=W||I,ct=te||k,On(i,t),ct=te,qi=W,Mn(t),i=t.stateNode,i._current=t,i._visibility&=-3,i._visibility|=i._pendingVisibility&2,l&8192&&(i._visibility=I?i._visibility&-2:i._visibility|1,I&&(i=qi||ct,a===null||k||i||ka(t)),t.memoizedProps===null||t.memoizedProps.mode!=="manual"))e:for(a=null,i=t;;){if(i.tag===5||i.tag===26||i.tag===27){if(a===null){k=a=i;try{if(f=k.stateNode,I)d=f.style,typeof d.setProperty=="function"?d.setProperty("display","none","important"):d.display="none";else{v=k.stateNode,T=k.memoizedProps.style;var X=T!=null&&T.hasOwnProperty("display")?T.display:null;v.style.display=X==null||typeof X=="boolean"?"":(""+X).trim()}}catch(me){Xe(k,k.return,me)}}}else if(i.tag===6){if(a===null){k=i;try{k.stateNode.nodeValue=I?"":k.memoizedProps}catch(me){Xe(k,k.return,me)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===t)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;i.sibling===null;){if(i.return===null||i.return===t)break e;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,td(t,a))));break;case 19:On(i,t),Mn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,td(t,l)));break;case 21:break;default:On(i,t),Mn(t)}}function Mn(t){var i=t.flags;if(i&2){try{if(t.tag!==27){e:{for(var a=t.return;a!==null;){if(Ny(a)){var l=a;break e}a=a.return}throw Error(s(160))}switch(l.tag){case 27:var f=l.stateNode,d=Zh(t);lc(t,d,f);break;case 5:var v=l.stateNode;l.flags&32&&(An(v,""),l.flags&=-33);var T=Zh(t);lc(t,T,v);break;case 3:case 4:var I=l.stateNode.containerInfo,k=Zh(t);Jh(t,k,I);break;default:throw Error(s(161))}}}catch(W){Xe(t,t.return,W)}t.flags&=-3}i&4096&&(t.flags&=-4097)}function zy(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var i=t;zy(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),t=t.sibling}}function Fi(t,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)Vy(t,i.alternate,i),i=i.sibling}function ka(t){for(t=t.child;t!==null;){var i=t;switch(i.tag){case 0:case 11:case 14:case 15:Vr(4,i,i.return),ka(i);break;case 1:mn(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&Cy(i,i.return,a),ka(i);break;case 26:case 27:case 5:mn(i,i.return),ka(i);break;case 22:mn(i,i.return),i.memoizedState===null&&ka(i);break;default:ka(i)}t=t.sibling}}function kr(t,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var l=i.alternate,f=t,d=i,v=d.flags;switch(d.tag){case 0:case 11:case 15:kr(f,d,a),ll(4,d);break;case 1:if(kr(f,d,a),l=d,f=l.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(k){Xe(l,l.return,k)}if(l=d,f=l.updateQueue,f!==null){var T=l.stateNode;try{var I=f.shared.hiddenCallbacks;if(I!==null)for(f.shared.hiddenCallbacks=null,f=0;f<I.length;f++)Sy(I[f],T)}catch(k){Xe(l,l.return,k)}}a&&v&64&&Iy(d),Us(d,d.return);break;case 26:case 27:case 5:kr(f,d,a),a&&l===null&&v&4&&Dy(d),Us(d,d.return);break;case 12:kr(f,d,a);break;case 13:kr(f,d,a),a&&v&4&&Ly(f,d);break;case 22:d.memoizedState===null&&kr(f,d,a),Us(d,d.return);break;default:kr(f,d,a)}i=i.sibling}}function nd(t,i){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(t=i.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&Zo(a))}function id(t,i){t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&Zo(t))}function Pr(t,i,a,l){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)jy(t,i,a,l),i=i.sibling}function jy(t,i,a,l){var f=i.flags;switch(i.tag){case 0:case 11:case 15:Pr(t,i,a,l),f&2048&&ll(9,i);break;case 3:Pr(t,i,a,l),f&2048&&(t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&Zo(t)));break;case 12:if(f&2048){Pr(t,i,a,l),t=i.stateNode;try{var d=i.memoizedProps,v=d.id,T=d.onPostCommit;typeof T=="function"&&T(v,i.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(I){Xe(i,i.return,I)}}else Pr(t,i,a,l);break;case 23:break;case 22:d=i.stateNode,i.memoizedState!==null?d._visibility&4?Pr(t,i,a,l):ul(t,i):d._visibility&4?Pr(t,i,a,l):(d._visibility|=4,Pa(t,i,a,l,(i.subtreeFlags&10256)!==0)),f&2048&&nd(i.alternate,i);break;case 24:Pr(t,i,a,l),f&2048&&id(i.alternate,i);break;default:Pr(t,i,a,l)}}function Pa(t,i,a,l,f){for(f=f&&(i.subtreeFlags&10256)!==0,i=i.child;i!==null;){var d=t,v=i,T=a,I=l,k=v.flags;switch(v.tag){case 0:case 11:case 15:Pa(d,v,T,I,f),ll(8,v);break;case 23:break;case 22:var W=v.stateNode;v.memoizedState!==null?W._visibility&4?Pa(d,v,T,I,f):ul(d,v):(W._visibility|=4,Pa(d,v,T,I,f)),f&&k&2048&&nd(v.alternate,v);break;case 24:Pa(d,v,T,I,f),f&&k&2048&&id(v.alternate,v);break;default:Pa(d,v,T,I,f)}i=i.sibling}}function ul(t,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=t,l=i,f=l.flags;switch(l.tag){case 22:ul(a,l),f&2048&&nd(l.alternate,l);break;case 24:ul(a,l),f&2048&&id(l.alternate,l);break;default:ul(a,l)}i=i.sibling}}var cl=8192;function La(t){if(t.subtreeFlags&cl)for(t=t.child;t!==null;)By(t),t=t.sibling}function By(t){switch(t.tag){case 26:La(t),t.flags&cl&&t.memoizedState!==null&&RA(qn,t.memoizedState,t.memoizedProps);break;case 5:La(t);break;case 3:case 4:var i=qn;qn=Ac(t.stateNode.containerInfo),La(t),qn=i;break;case 22:t.memoizedState===null&&(i=t.alternate,i!==null&&i.memoizedState!==null?(i=cl,cl=16777216,La(t),cl=i):La(t));break;default:La(t)}}function qy(t){var i=t.alternate;if(i!==null&&(t=i.child,t!==null)){i.child=null;do i=t.sibling,t.sibling=null,t=i;while(t!==null)}}function fl(t){var i=t.deletions;if(t.flags&16){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];kt=l,Fy(l,t)}qy(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Hy(t),t=t.sibling}function Hy(t){switch(t.tag){case 0:case 11:case 15:fl(t),t.flags&2048&&Vr(9,t,t.return);break;case 3:fl(t);break;case 12:fl(t);break;case 22:var i=t.stateNode;t.memoizedState!==null&&i._visibility&4&&(t.return===null||t.return.tag!==13)?(i._visibility&=-5,uc(t)):fl(t);break;default:fl(t)}}function uc(t){var i=t.deletions;if(t.flags&16){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];kt=l,Fy(l,t)}qy(t)}for(t=t.child;t!==null;){switch(i=t,i.tag){case 0:case 11:case 15:Vr(8,i,i.return),uc(i);break;case 22:a=i.stateNode,a._visibility&4&&(a._visibility&=-5,uc(i));break;default:uc(i)}t=t.sibling}}function Fy(t,i){for(;kt!==null;){var a=kt;switch(a.tag){case 0:case 11:case 15:Vr(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Zo(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,kt=l;else e:for(a=t;kt!==null;){l=kt;var f=l.sibling,d=l.return;if(ky(l),l===a){kt=null;break e}if(f!==null){f.return=d,kt=f;break e}kt=d}}}function zb(t,i,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Vn(t,i,a,l){return new zb(t,i,a,l)}function rd(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Lr(t,i){var a=t.alternate;return a===null?(a=Vn(t.tag,i,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=i,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&31457280,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,i=t.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function Gy(t,i){t.flags&=31457282;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=i,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,i=a.dependencies,t.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),t}function cc(t,i,a,l,f,d){var v=0;if(l=t,typeof t=="function")rd(t)&&(v=1);else if(typeof t=="string")v=wA(t,a,Zt.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case p:return zs(a.children,f,d,i);case g:v=8,f|=24;break;case E:return t=Vn(12,a,i,f|2),t.elementType=E,t.lanes=d,t;case Q:return t=Vn(13,a,i,f),t.elementType=Q,t.lanes=d,t;case L:return t=Vn(19,a,i,f),t.elementType=L,t.lanes=d,t;case z:return Ky(a,f,d,i);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case A:case N:v=10;break e;case R:v=9;break e;case P:v=11;break e;case K:v=14;break e;case Y:v=16,l=null;break e}v=29,a=Error(s(130,t===null?"null":typeof t,"")),l=null}return i=Vn(v,a,i,f),i.elementType=t,i.type=l,i.lanes=d,i}function zs(t,i,a,l){return t=Vn(7,t,l,i),t.lanes=a,t}function Ky(t,i,a,l){t=Vn(22,t,l,i),t.elementType=z,t.lanes=a;var f={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var d=f._current;if(d===null)throw Error(s(456));if(!(f._pendingVisibility&2)){var v=Sr(d,2);v!==null&&(f._pendingVisibility|=2,rn(v,d,2))}},attach:function(){var d=f._current;if(d===null)throw Error(s(456));if(f._pendingVisibility&2){var v=Sr(d,2);v!==null&&(f._pendingVisibility&=-3,rn(v,d,2))}}};return t.stateNode=f,t}function sd(t,i,a){return t=Vn(6,t,null,i),t.lanes=a,t}function ad(t,i,a){return i=Vn(4,t.children!==null?t.children:[],t.key,i),i.lanes=a,i.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},i}function Gi(t){t.flags|=4}function Qy(t,i){if(i.type!=="stylesheet"||i.state.loading&4)t.flags&=-16777217;else if(t.flags|=16777216,!N_(i)){if(i=Nn.current,i!==null&&((Le&4194176)===Le?ui!==null:(Le&62914560)!==Le&&!(Le&536870912)||i!==ui))throw Yo=fh,cg;t.flags|=8192}}function fc(t,i){i!==null&&(t.flags|=4),t.flags&16384&&(i=t.tag!==22?dr():536870912,t.lanes|=i,za|=i)}function hl(t,i){if(!Be)switch(t.tailMode){case"hidden":i=t.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?i||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function rt(t){var i=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(i)for(var f=t.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags&31457280,l|=f.flags&31457280,f.return=t,f=f.sibling;else for(f=t.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags,l|=f.flags,f.return=t,f=f.sibling;return t.subtreeFlags|=l,t.childLanes=a,i}function jb(t,i,a){var l=i.pendingProps;switch(uh(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return rt(i),null;case 1:return rt(i),null;case 3:return a=i.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),Bi(It),wi(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(Go(i)?Gi(i):t===null||t.memoizedState.isDehydrated&&!(i.flags&256)||(i.flags|=1024,Bn!==null&&(md(Bn),Bn=null))),rt(i),null;case 26:return a=i.memoizedState,t===null?(Gi(i),a!==null?(rt(i),Qy(i,a)):(rt(i),i.flags&=-16777217)):a?a!==t.memoizedState?(Gi(i),rt(i),Qy(i,a)):(rt(i),i.flags&=-16777217):(t.memoizedProps!==l&&Gi(i),rt(i),i.flags&=-16777217),null;case 27:ra(i),a=En.current;var f=i.type;if(t!==null&&i.stateNode!=null)t.memoizedProps!==l&&Gi(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return rt(i),null}t=Zt.current,Go(i)?lg(i):(t=A_(f,l,a),i.stateNode=t,Gi(i))}return rt(i),null;case 5:if(ra(i),a=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==l&&Gi(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return rt(i),null}if(t=Zt.current,Go(i))lg(i);else{switch(f=bc(En.current),t){case 1:t=f.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:t=f.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":t=f.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":t=f.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":t=f.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof l.is=="string"?f.createElement("select",{is:l.is}):f.createElement("select"),l.multiple?t.multiple=!0:l.size&&(t.size=l.size);break;default:t=typeof l.is=="string"?f.createElement(a,{is:l.is}):f.createElement(a)}}t[Nt]=i,t[At]=l;e:for(f=i.child;f!==null;){if(f.tag===5||f.tag===6)t.appendChild(f.stateNode);else if(f.tag!==4&&f.tag!==27&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===i)break e;for(;f.sibling===null;){if(f.return===null||f.return===i)break e;f=f.return}f.sibling.return=f.return,f=f.sibling}i.stateNode=t;e:switch(Bt(t,a,l),a){case"button":case"input":case"select":case"textarea":t=!!l.autoFocus;break e;case"img":t=!0;break e;default:t=!1}t&&Gi(i)}}return rt(i),i.flags&=-16777217,null;case 6:if(t&&i.stateNode!=null)t.memoizedProps!==l&&Gi(i);else{if(typeof l!="string"&&i.stateNode===null)throw Error(s(166));if(t=En.current,Go(i)){if(t=i.stateNode,a=i.memoizedProps,l=null,f=nn,f!==null)switch(f.tag){case 27:case 5:l=f.memoizedProps}t[Nt]=i,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||y_(t.nodeValue,a)),t||Ds(i)}else t=bc(t).createTextNode(l),t[Nt]=i,i.stateNode=t}return rt(i),null;case 13:if(l=i.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(f=Go(i),l!==null&&l.dehydrated!==null){if(t===null){if(!f)throw Error(s(318));if(f=i.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(s(317));f[Nt]=i}else Ko(),!(i.flags&128)&&(i.memoizedState=null),i.flags|=4;rt(i),f=!1}else Bn!==null&&(md(Bn),Bn=null),f=!0;if(!f)return i.flags&256?(Li(i),i):(Li(i),null)}if(Li(i),i.flags&128)return i.lanes=a,i;if(a=l!==null,t=t!==null&&t.memoizedState!==null,a){l=i.child,f=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(f=l.alternate.memoizedState.cachePool.pool);var d=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==f&&(l.flags|=2048)}return a!==t&&a&&(i.child.flags|=8192),fc(i,i.updateQueue),rt(i),null;case 4:return wi(),t===null&&Sd(i.stateNode.containerInfo),rt(i),null;case 10:return Bi(i.type),rt(i),null;case 19:if(lt(Rt),f=i.memoizedState,f===null)return rt(i),null;if(l=(i.flags&128)!==0,d=f.rendering,d===null)if(l)hl(f,!1);else{if(ft!==0||t!==null&&t.flags&128)for(t=i.child;t!==null;){if(d=$u(t),d!==null){for(i.flags|=128,hl(f,!1),t=d.updateQueue,i.updateQueue=t,fc(i,t),i.subtreeFlags=0,t=a,a=i.child;a!==null;)Gy(a,t),a=a.sibling;return Ke(Rt,Rt.current&1|2),i.child}t=t.sibling}f.tail!==null&&an()>hc&&(i.flags|=128,l=!0,hl(f,!1),i.lanes=4194304)}else{if(!l)if(t=$u(d),t!==null){if(i.flags|=128,l=!0,t=t.updateQueue,i.updateQueue=t,fc(i,t),hl(f,!0),f.tail===null&&f.tailMode==="hidden"&&!d.alternate&&!Be)return rt(i),null}else 2*an()-f.renderingStartTime>hc&&a!==536870912&&(i.flags|=128,l=!0,hl(f,!1),i.lanes=4194304);f.isBackwards?(d.sibling=i.child,i.child=d):(t=f.last,t!==null?t.sibling=d:i.child=d,f.last=d)}return f.tail!==null?(i=f.tail,f.rendering=i,f.tail=i.sibling,f.renderingStartTime=an(),i.sibling=null,t=Rt.current,Ke(Rt,l?t&1|2:t&1),i):(rt(i),null);case 22:case 23:return Li(i),dh(),l=i.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(i.flags|=8192):l&&(i.flags|=8192),l?a&536870912&&!(i.flags&128)&&(rt(i),i.subtreeFlags&6&&(i.flags|=8192)):rt(i),a=i.updateQueue,a!==null&&fc(i,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==a&&(i.flags|=2048),t!==null&&lt(Ns),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),Bi(It),rt(i),null;case 25:return null}throw Error(s(156,i.tag))}function Bb(t,i){switch(uh(i),i.tag){case 1:return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 3:return Bi(It),wi(),t=i.flags,t&65536&&!(t&128)?(i.flags=t&-65537|128,i):null;case 26:case 27:case 5:return ra(i),null;case 13:if(Li(i),t=i.memoizedState,t!==null&&t.dehydrated!==null){if(i.alternate===null)throw Error(s(340));Ko()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 19:return lt(Rt),null;case 4:return wi(),null;case 10:return Bi(i.type),null;case 22:case 23:return Li(i),dh(),t!==null&&lt(Ns),t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 24:return Bi(It),null;case 25:return null;default:return null}}function $y(t,i){switch(uh(i),i.tag){case 3:Bi(It),wi();break;case 26:case 27:case 5:ra(i);break;case 4:wi();break;case 13:Li(i);break;case 19:lt(Rt);break;case 10:Bi(i.type);break;case 22:case 23:Li(i),dh(),t!==null&&lt(Ns);break;case 24:Bi(It)}}var qb={getCacheForType:function(t){var i=Kt(It),a=i.data.get(t);return a===void 0&&(a=t(),i.data.set(t,a)),a}},Hb=typeof WeakMap=="function"?WeakMap:Map,st=0,We=null,xe=null,Le=0,Ze=0,gn=null,Ki=!1,Ua=!1,od=!1,Qi=0,ft=0,Ur=0,js=0,ld=0,kn=0,za=0,dl=null,fi=null,ud=!1,cd=0,hc=1/0,dc=null,zr=null,mc=!1,Bs=null,ml=0,fd=0,hd=null,pl=0,dd=null;function yn(){if(st&2&&Le!==0)return Le&-Le;if(w.T!==null){var t=xa;return t!==0?t:Td()}return Eu()}function Yy(){kn===0&&(kn=!(Le&536870912)||Be?Io():536870912);var t=Nn.current;return t!==null&&(t.flags|=32),kn}function rn(t,i,a){(t===We&&Ze===2||t.cancelPendingCommit!==null)&&(ja(t,0),$i(t,Le,kn,!1)),dt(t,a),(!(st&2)||t!==We)&&(t===We&&(!(st&2)&&(js|=a),ft===4&&$i(t,Le,kn,!1)),hi(t))}function Xy(t,i,a){if(st&6)throw Error(s(327));var l=!a&&(i&60)===0&&(i&t.expiredLanes)===0||hr(t,i),f=l?Kb(t,i):yd(t,i,!0),d=l;do{if(f===0){Ua&&!l&&$i(t,i,0,!1);break}else if(f===6)$i(t,i,0,!Ki);else{if(a=t.current.alternate,d&&!Fb(a)){f=yd(t,i,!1),d=!1;continue}if(f===2){if(d=i,t.errorRecoveryDisabledLanes&d)var v=0;else v=t.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){i=v;e:{var T=t;f=dl;var I=T.current.memoizedState.isDehydrated;if(I&&(ja(T,v).flags|=256),v=yd(T,v,!1),v!==2){if(od&&!I){T.errorRecoveryDisabledLanes|=d,js|=d,f=4;break e}d=fi,fi=f,d!==null&&md(d)}f=v}if(d=!1,f!==2)continue}}if(f===1){ja(t,0),$i(t,i,0,!0);break}e:{switch(l=t,f){case 0:case 1:throw Error(s(345));case 4:if((i&4194176)===i){$i(l,i,kn,!Ki);break e}break;case 2:fi=null;break;case 3:case 5:break;default:throw Error(s(329))}if(l.finishedWork=a,l.finishedLanes=i,(i&62914560)===i&&(d=cd+300-an(),10<d)){if($i(l,i,kn,!Ki),Tn(l,0)!==0)break e;l.timeoutHandle=E_(Wy.bind(null,l,a,fi,dc,ud,i,kn,js,za,Ki,2,-0,0),d);break e}Wy(l,a,fi,dc,ud,i,kn,js,za,Ki,0,-0,0)}}break}while(!0);hi(t)}function md(t){fi===null?fi=t:fi.push.apply(fi,t)}function Wy(t,i,a,l,f,d,v,T,I,k,W,te,G){var X=i.subtreeFlags;if((X&8192||(X&16785408)===16785408)&&(Tl={stylesheets:null,count:0,unsuspend:SA},By(i),i=IA(),i!==null)){t.cancelPendingCommit=i(r_.bind(null,t,a,l,f,v,T,I,1,te,G)),$i(t,d,v,!k);return}r_(t,a,l,f,v,T,I,W,te,G)}function Fb(t){for(var i=t;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var f=a[l],d=f.getSnapshot;f=f.value;try{if(!dn(d(),f))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function $i(t,i,a,l){i&=~ld,i&=~js,t.suspendedLanes|=i,t.pingedLanes&=~i,l&&(t.warmLanes|=i),l=t.expirationTimes;for(var f=i;0<f;){var d=31-Jt(f),v=1<<d;l[d]=-1,f&=~v}a!==0&&mr(t,a,i)}function pc(){return st&6?!0:(gl(0),!1)}function pd(){if(xe!==null){if(Ze===0)var t=xe.return;else t=xe,ji=Ps=null,Th(t),Ca=null,Xo=0,t=xe;for(;t!==null;)$y(t.alternate,t),t=t.return;xe=null}}function ja(t,i){t.finishedWork=null,t.finishedLanes=0;var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,uA(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),pd(),We=t,xe=a=Lr(t.current,null),Le=i,Ze=0,gn=null,Ki=!1,Ua=hr(t,i),od=!1,za=kn=ld=js=Ur=ft=0,fi=dl=null,ud=!1,i&8&&(i|=i&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=i;0<l;){var f=31-Jt(l),d=1<<f;i|=t[f],l&=~d}return Qi=i,zu(),a}function Zy(t,i){Ce=null,w.H=ci,i===$o?(i=dg(),Ze=3):i===cg?(i=dg(),Ze=4):Ze=i===fy?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,gn=i,xe===null&&(ft=1,sc(t,Cn(i,t.current)))}function Jy(){var t=w.H;return w.H=ci,t===null?ci:t}function e_(){var t=w.A;return w.A=qb,t}function gd(){ft=4,Ki||(Le&4194176)!==Le&&Nn.current!==null||(Ua=!0),!(Ur&134217727)&&!(js&134217727)||We===null||$i(We,Le,kn,!1)}function yd(t,i,a){var l=st;st|=2;var f=Jy(),d=e_();(We!==t||Le!==i)&&(dc=null,ja(t,i)),i=!1;var v=ft;e:do try{if(Ze!==0&&xe!==null){var T=xe,I=gn;switch(Ze){case 8:pd(),v=6;break e;case 3:case 2:case 6:Nn.current===null&&(i=!0);var k=Ze;if(Ze=0,gn=null,Ba(t,T,I,k),a&&Ua){v=0;break e}break;default:k=Ze,Ze=0,gn=null,Ba(t,T,I,k)}}Gb(),v=ft;break}catch(W){Zy(t,W)}while(!0);return i&&t.shellSuspendCounter++,ji=Ps=null,st=l,w.H=f,w.A=d,xe===null&&(We=null,Le=0,zu()),v}function Gb(){for(;xe!==null;)t_(xe)}function Kb(t,i){var a=st;st|=2;var l=Jy(),f=e_();We!==t||Le!==i?(dc=null,hc=an()+500,ja(t,i)):Ua=hr(t,i);e:do try{if(Ze!==0&&xe!==null){i=xe;var d=gn;t:switch(Ze){case 1:Ze=0,gn=null,Ba(t,i,d,1);break;case 2:if(fg(d)){Ze=0,gn=null,n_(i);break}i=function(){Ze===2&&We===t&&(Ze=7),hi(t)},d.then(i,i);break e;case 3:Ze=7;break e;case 4:Ze=5;break e;case 7:fg(d)?(Ze=0,gn=null,n_(i)):(Ze=0,gn=null,Ba(t,i,d,7));break;case 5:var v=null;switch(xe.tag){case 26:v=xe.memoizedState;case 5:case 27:var T=xe;if(!v||N_(v)){Ze=0,gn=null;var I=T.sibling;if(I!==null)xe=I;else{var k=T.return;k!==null?(xe=k,gc(k)):xe=null}break t}}Ze=0,gn=null,Ba(t,i,d,5);break;case 6:Ze=0,gn=null,Ba(t,i,d,6);break;case 8:pd(),ft=6;break e;default:throw Error(s(462))}}Qb();break}catch(W){Zy(t,W)}while(!0);return ji=Ps=null,w.H=l,w.A=f,st=a,xe!==null?0:(We=null,Le=0,zu(),ft)}function Qb(){for(;xe!==null&&!Gf();)t_(xe)}function t_(t){var i=Ay(t.alternate,t,Qi);t.memoizedProps=t.pendingProps,i===null?gc(t):xe=i}function n_(t){var i=t,a=i.alternate;switch(i.tag){case 15:case 0:i=yy(a,i,i.pendingProps,i.type,void 0,Le);break;case 11:i=yy(a,i,i.pendingProps,i.type.render,i.ref,Le);break;case 5:Th(i);default:$y(a,i),i=xe=Gy(i,Qi),i=Ay(a,i,Qi)}t.memoizedProps=t.pendingProps,i===null?gc(t):xe=i}function Ba(t,i,a,l){ji=Ps=null,Th(i),Ca=null,Xo=0;var f=i.return;try{if(kb(t,f,i,a,Le)){ft=1,sc(t,Cn(a,t.current)),xe=null;return}}catch(d){if(f!==null)throw xe=f,d;ft=1,sc(t,Cn(a,t.current)),xe=null;return}i.flags&32768?(Be||l===1?t=!0:Ua||Le&536870912?t=!1:(Ki=t=!0,(l===2||l===3||l===6)&&(l=Nn.current,l!==null&&l.tag===13&&(l.flags|=16384))),i_(i,t)):gc(i)}function gc(t){var i=t;do{if(i.flags&32768){i_(i,Ki);return}t=i.return;var a=jb(i.alternate,i,Qi);if(a!==null){xe=a;return}if(i=i.sibling,i!==null){xe=i;return}xe=i=t}while(i!==null);ft===0&&(ft=5)}function i_(t,i){do{var a=Bb(t.alternate,t);if(a!==null){a.flags&=32767,xe=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(t=t.sibling,t!==null)){xe=t;return}xe=t=a}while(t!==null);ft=6,xe=null}function r_(t,i,a,l,f,d,v,T,I,k){var W=w.T,te=le.p;try{le.p=2,w.T=null,$b(t,i,a,l,te,f,d,v,T,I,k)}finally{w.T=W,le.p=te}}function $b(t,i,a,l,f,d,v,T){do qa();while(Bs!==null);if(st&6)throw Error(s(327));var I=t.finishedWork;if(l=t.finishedLanes,I===null)return null;if(t.finishedWork=null,t.finishedLanes=0,I===t.current)throw Error(s(177));t.callbackNode=null,t.callbackPriority=0,t.cancelPendingCommit=null;var k=I.lanes|I.childLanes;if(k|=ah,_u(t,l,k,d,v,T),t===We&&(xe=We=null,Le=0),!(I.subtreeFlags&10256)&&!(I.flags&10256)||mc||(mc=!0,fd=k,hd=a,Zb(Si,function(){return qa(),null})),a=(I.flags&15990)!==0,I.subtreeFlags&15990||a?(a=w.T,w.T=null,d=le.p,le.p=2,v=st,st|=4,Lb(t,I),Uy(I,t),_b(Dd,t.containerInfo),Cc=!!Cd,Dd=Cd=null,t.current=I,Vy(t,I.alternate,I),Ao(),st=v,le.p=d,w.T=a):t.current=I,mc?(mc=!1,Bs=t,ml=l):s_(t,k),k=t.pendingLanes,k===0&&(zr=null),So(I.stateNode),hi(t),i!==null)for(f=t.onRecoverableError,I=0;I<i.length;I++)k=i[I],f(k.value,{componentStack:k.stack});return ml&3&&qa(),k=t.pendingLanes,l&4194218&&k&42?t===dd?pl++:(pl=0,dd=t):pl=0,gl(0),null}function s_(t,i){(t.pooledCacheLanes&=i)===0&&(i=t.pooledCache,i!=null&&(t.pooledCache=null,Zo(i)))}function qa(){if(Bs!==null){var t=Bs,i=fd;fd=0;var a=vu(ml),l=w.T,f=le.p;try{if(le.p=32>a?32:a,w.T=null,Bs===null)var d=!1;else{a=hd,hd=null;var v=Bs,T=ml;if(Bs=null,ml=0,st&6)throw Error(s(331));var I=st;if(st|=4,Hy(v.current),jy(v,v.current,T,a),st=I,gl(0,!1),Gt&&typeof Gt.onPostCommitFiberRoot=="function")try{Gt.onPostCommitFiberRoot(cr,v)}catch{}d=!0}return d}finally{le.p=f,w.T=l,s_(t,i)}}return!1}function a_(t,i,a){i=Cn(a,i),i=kh(t.stateNode,i,2),t=Mr(t,i,2),t!==null&&(dt(t,2),hi(t))}function Xe(t,i,a){if(t.tag===3)a_(t,t,a);else for(;i!==null;){if(i.tag===3){a_(i,t,a);break}else if(i.tag===1){var l=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(zr===null||!zr.has(l))){t=Cn(a,t),a=uy(2),l=Mr(i,a,2),l!==null&&(cy(a,l,i,t),dt(l,2),hi(l));break}}i=i.return}}function _d(t,i,a){var l=t.pingCache;if(l===null){l=t.pingCache=new Hb;var f=new Set;l.set(i,f)}else f=l.get(i),f===void 0&&(f=new Set,l.set(i,f));f.has(a)||(od=!0,f.add(a),t=Yb.bind(null,t,i,a),i.then(t,t))}function Yb(t,i,a){var l=t.pingCache;l!==null&&l.delete(i),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,We===t&&(Le&a)===a&&(ft===4||ft===3&&(Le&62914560)===Le&&300>an()-cd?!(st&2)&&ja(t,0):ld|=a,za===Le&&(za=0)),hi(t)}function o_(t,i){i===0&&(i=dr()),t=Sr(t,i),t!==null&&(dt(t,i),hi(t))}function Xb(t){var i=t.memoizedState,a=0;i!==null&&(a=i.retryLane),o_(t,a)}function Wb(t,i){var a=0;switch(t.tag){case 13:var l=t.stateNode,f=t.memoizedState;f!==null&&(a=f.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(i),o_(t,a)}function Zb(t,i){return fs(t,i)}var yc=null,Ha=null,vd=!1,_c=!1,Ed=!1,qs=0;function hi(t){t!==Ha&&t.next===null&&(Ha===null?yc=Ha=t:Ha=Ha.next=t),_c=!0,vd||(vd=!0,eA(Jb))}function gl(t,i){if(!Ed&&_c){Ed=!0;do for(var a=!1,l=yc;l!==null;){if(t!==0){var f=l.pendingLanes;if(f===0)var d=0;else{var v=l.suspendedLanes,T=l.pingedLanes;d=(1<<31-Jt(42|t)+1)-1,d&=f&~(v&~T),d=d&201326677?d&201326677|1:d?d|2:0}d!==0&&(a=!0,c_(l,d))}else d=Le,d=Tn(l,l===We?d:0),!(d&3)||hr(l,d)||(a=!0,c_(l,d));l=l.next}while(a);Ed=!1}}function Jb(){_c=vd=!1;var t=0;qs!==0&&(lA()&&(t=qs),qs=0);for(var i=an(),a=null,l=yc;l!==null;){var f=l.next,d=l_(l,i);d===0?(l.next=null,a===null?yc=f:a.next=f,f===null&&(Ha=a)):(a=l,(t!==0||d&3)&&(_c=!0)),l=f}gl(t)}function l_(t,i){for(var a=t.suspendedLanes,l=t.pingedLanes,f=t.expirationTimes,d=t.pendingLanes&-62914561;0<d;){var v=31-Jt(d),T=1<<v,I=f[v];I===-1?(!(T&a)||T&l)&&(f[v]=oa(T,i)):I<=i&&(t.expiredLanes|=T),d&=~T}if(i=We,a=Le,a=Tn(t,t===i?a:0),l=t.callbackNode,a===0||t===i&&Ze===2||t.cancelPendingCommit!==null)return l!==null&&l!==null&&aa(l),t.callbackNode=null,t.callbackPriority=0;if(!(a&3)||hr(t,a)){if(i=a&-a,i===t.callbackPriority)return i;switch(l!==null&&aa(l),vu(a)){case 2:case 8:a=xt;break;case 32:a=Si;break;case 268435456:a=wo;break;default:a=Si}return l=u_.bind(null,t),a=fs(a,l),t.callbackPriority=i,t.callbackNode=a,i}return l!==null&&l!==null&&aa(l),t.callbackPriority=2,t.callbackNode=null,2}function u_(t,i){var a=t.callbackNode;if(qa()&&t.callbackNode!==a)return null;var l=Le;return l=Tn(t,t===We?l:0),l===0?null:(Xy(t,l,i),l_(t,an()),t.callbackNode!=null&&t.callbackNode===a?u_.bind(null,t):null)}function c_(t,i){if(qa())return null;Xy(t,i,!0)}function eA(t){cA(function(){st&6?fs(bt,t):t()})}function Td(){return qs===0&&(qs=Io()),qs}function f_(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:ti(""+t)}function h_(t,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,t.id&&a.setAttribute("form",t.id),i.parentNode.insertBefore(a,i),t=new FormData(t),a.parentNode.removeChild(a),t}function tA(t,i,a,l,f){if(i==="submit"&&a&&a.stateNode===f){var d=f_((f[At]||null).action),v=l.submitter;v&&(i=(i=v[At]||null)?f_(i.formAction):v.getAttribute("formAction"),i!==null&&(d=i,v=null));var T=new ma("action","action",null,l,f);t.push({event:T,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(qs!==0){var I=v?h_(f,v):new FormData(f);xh(a,{pending:!0,data:I,method:f.method,action:d},null,I)}}else typeof d=="function"&&(T.preventDefault(),I=v?h_(f,v):new FormData(f),xh(a,{pending:!0,data:I,method:f.method,action:d},d,I))},currentTarget:f}]})}}for(var bd=0;bd<rg.length;bd++){var Ad=rg[bd],nA=Ad.toLowerCase(),iA=Ad[0].toUpperCase()+Ad.slice(1);jn(nA,"on"+iA)}jn(Jp,"onAnimationEnd"),jn(eg,"onAnimationIteration"),jn(tg,"onAnimationStart"),jn("dblclick","onDoubleClick"),jn("focusin","onFocus"),jn("focusout","onBlur"),jn(Eb,"onTransitionRun"),jn(Tb,"onTransitionStart"),jn(bb,"onTransitionCancel"),jn(ng,"onTransitionEnd"),on("onMouseEnter",["mouseout","mouseover"]),on("onMouseLeave",["mouseout","mouseover"]),on("onPointerEnter",["pointerout","pointerover"]),on("onPointerLeave",["pointerout","pointerover"]),fn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),fn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),fn("onBeforeInput",["compositionend","keypress","textInput","paste"]),fn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),fn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),fn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var yl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),rA=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(yl));function d_(t,i){i=(i&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],f=l.event;l=l.listeners;e:{var d=void 0;if(i)for(var v=l.length-1;0<=v;v--){var T=l[v],I=T.instance,k=T.currentTarget;if(T=T.listener,I!==d&&f.isPropagationStopped())break e;d=T,f.currentTarget=k;try{d(f)}catch(W){rc(W)}f.currentTarget=null,d=I}else for(v=0;v<l.length;v++){if(T=l[v],I=T.instance,k=T.currentTarget,T=T.listener,I!==d&&f.isPropagationStopped())break e;d=T,f.currentTarget=k;try{d(f)}catch(W){rc(W)}f.currentTarget=null,d=I}}}}function Me(t,i){var a=i[ds];a===void 0&&(a=i[ds]=new Set);var l=t+"__bubble";a.has(l)||(m_(i,t,2,!1),a.add(l))}function wd(t,i,a){var l=0;i&&(l|=4),m_(a,t,l,i)}var vc="_reactListening"+Math.random().toString(36).slice(2);function Sd(t){if(!t[vc]){t[vc]=!0,Do.forEach(function(a){a!=="selectionchange"&&(rA.has(a)||wd(a,!1,t),wd(a,!0,t))});var i=t.nodeType===9?t:t.ownerDocument;i===null||i[vc]||(i[vc]=!0,wd("selectionchange",!1,i))}}function m_(t,i,a,l){switch(L_(i)){case 2:var f=xA;break;case 8:f=NA;break;default:f=Ud}a=f.bind(null,i,a,t),f=void 0,!Sn||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(f=!0),l?f!==void 0?t.addEventListener(i,a,{capture:!0,passive:f}):t.addEventListener(i,a,!0):f!==void 0?t.addEventListener(i,a,{passive:f}):t.addEventListener(i,a,!1)}function Rd(t,i,a,l,f){var d=l;if(!(i&1)&&!(i&2)&&l!==null)e:for(;;){if(l===null)return;var v=l.tag;if(v===3||v===4){var T=l.stateNode.containerInfo;if(T===f||T.nodeType===8&&T.parentNode===f)break;if(v===4)for(v=l.return;v!==null;){var I=v.tag;if((I===3||I===4)&&(I=v.stateNode.containerInfo,I===f||I.nodeType===8&&I.parentNode===f))return;v=v.return}for(;T!==null;){if(v=zn(T),v===null)return;if(I=v.tag,I===5||I===6||I===26||I===27){l=d=v;continue e}T=T.parentNode}}l=l.return}wu(function(){var k=d,W=da(a),te=[];e:{var G=ig.get(t);if(G!==void 0){var X=ma,me=t;switch(t){case"keypress":if(ii(a)===0)break e;case"keydown":case"keyup":X=Ea;break;case"focusin":me="focus",X=ya;break;case"focusout":me="blur",X=ya;break;case"beforeblur":case"afterblur":X=ya;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":X=Rn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":X=Zf;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":X=Ou;break;case Jp:case eg:case tg:X=_a;break;case ng:X=Vu;break;case"scroll":case"scrollend":X=Su;break;case"wheel":X=Ta;break;case"copy":case"cut":case"paste":X=va;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":X=Bo;break;case"toggle":case"beforetoggle":X=Pu}var Ae=(i&4)!==0,ht=!Ae&&(t==="scroll"||t==="scrollend"),j=Ae?G!==null?G+"Capture":null:G;Ae=[];for(var V=k,H;V!==null;){var Z=V;if(H=Z.stateNode,Z=Z.tag,Z!==5&&Z!==26&&Z!==27||H===null||j===null||(Z=_s(V,j),Z!=null&&Ae.push(_l(V,Z,H))),ht)break;V=V.return}0<Ae.length&&(G=new X(G,me,null,a,W),te.push({event:G,listeners:Ae}))}}if(!(i&7)){e:{if(G=t==="mouseover"||t==="pointerover",X=t==="mouseout"||t==="pointerout",G&&a!==wn&&(me=a.relatedTarget||a.fromElement)&&(zn(me)||me[Ri]))break e;if((X||G)&&(G=W.window===W?W:(G=W.ownerDocument)?G.defaultView||G.parentWindow:window,X?(me=a.relatedTarget||a.toElement,X=k,me=me?zn(me):null,me!==null&&(ht=de(me),Ae=me.tag,me!==ht||Ae!==5&&Ae!==27&&Ae!==6)&&(me=null)):(X=null,me=k),X!==me)){if(Ae=Rn,Z="onMouseLeave",j="onMouseEnter",V="mouse",(t==="pointerout"||t==="pointerover")&&(Ae=Bo,Z="onPointerLeave",j="onPointerEnter",V="pointer"),ht=X==null?G:_r(X),H=me==null?G:_r(me),G=new Ae(Z,V+"leave",X,a,W),G.target=ht,G.relatedTarget=H,Z=null,zn(W)===k&&(Ae=new Ae(j,V+"enter",me,a,W),Ae.target=H,Ae.relatedTarget=ht,Z=Ae),ht=Z,X&&me)t:{for(Ae=X,j=me,V=0,H=Ae;H;H=Fa(H))V++;for(H=0,Z=j;Z;Z=Fa(Z))H++;for(;0<V-H;)Ae=Fa(Ae),V--;for(;0<H-V;)j=Fa(j),H--;for(;V--;){if(Ae===j||j!==null&&Ae===j.alternate)break t;Ae=Fa(Ae),j=Fa(j)}Ae=null}else Ae=null;X!==null&&p_(te,G,X,Ae,!1),me!==null&&ht!==null&&p_(te,ht,me,Ae,!0)}}e:{if(G=k?_r(k):window,X=G.nodeName&&G.nodeName.toLowerCase(),X==="select"||X==="input"&&G.type==="file")var fe=qp;else if(St(G))if(Hp)fe=gb;else{fe=mb;var De=db}else X=G.nodeName,!X||X.toLowerCase()!=="input"||G.type!=="checkbox"&&G.type!=="radio"?k&&Vo(k.elementType)&&(fe=qp):fe=pb;if(fe&&(fe=fe(t,k))){Vi(te,fe,a,W);break e}De&&De(t,G,k),t==="focusout"&&k&&G.type==="number"&&k.memoizedProps.value!=null&&ha(G,"number",G.value)}switch(De=k?_r(k):window,t){case"focusin":(St(De)||De.contentEditable==="true")&&(ba=De,ih=k,Fo=null);break;case"focusout":Fo=ih=ba=null;break;case"mousedown":rh=!0;break;case"contextmenu":case"mouseup":case"dragend":rh=!1,Wp(te,a,W);break;case"selectionchange":if(vb)break;case"keydown":case"keyup":Wp(te,a,W)}var ge;if(ai)e:{switch(t){case"compositionstart":var ve="onCompositionStart";break e;case"compositionend":ve="onCompositionEnd";break e;case"compositionupdate":ve="onCompositionUpdate";break e}ve=void 0}else ke?$(t,a)&&(ve="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(ve="onCompositionStart");ve&&(_&&a.locale!=="ko"&&(ke||ve!=="onCompositionStart"?ve==="onCompositionEnd"&&ke&&(ge=Po()):(ni=W,wr="value"in ni?ni.value:ni.textContent,ke=!0)),De=Ec(k,ve),0<De.length&&(ve=new zo(ve,t,null,a,W),te.push({event:ve,listeners:De}),ge?ve.data=ge:(ge=se(a),ge!==null&&(ve.data=ge)))),(ge=y?wt(t,a):Pe(t,a))&&(ve=Ec(k,"onBeforeInput"),0<ve.length&&(De=new zo("onBeforeInput","beforeinput",null,a,W),te.push({event:De,listeners:ve}),De.data=ge)),tA(te,t,k,a,W)}d_(te,i)})}function _l(t,i,a){return{instance:t,listener:i,currentTarget:a}}function Ec(t,i){for(var a=i+"Capture",l=[];t!==null;){var f=t,d=f.stateNode;f=f.tag,f!==5&&f!==26&&f!==27||d===null||(f=_s(t,a),f!=null&&l.unshift(_l(t,f,d)),f=_s(t,i),f!=null&&l.push(_l(t,f,d))),t=t.return}return l}function Fa(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function p_(t,i,a,l,f){for(var d=i._reactName,v=[];a!==null&&a!==l;){var T=a,I=T.alternate,k=T.stateNode;if(T=T.tag,I!==null&&I===l)break;T!==5&&T!==26&&T!==27||k===null||(I=k,f?(k=_s(a,d),k!=null&&v.unshift(_l(a,k,I))):f||(k=_s(a,d),k!=null&&v.push(_l(a,k,I)))),a=a.return}v.length!==0&&t.push({event:i,listeners:v})}var sA=/\r\n?/g,aA=/\u0000|\uFFFD/g;function g_(t){return(typeof t=="string"?t:""+t).replace(sA,`
`).replace(aA,"")}function y_(t,i){return i=g_(i),g_(t)===i}function Tc(){}function $e(t,i,a,l,f,d){switch(a){case"children":typeof l=="string"?i==="body"||i==="textarea"&&l===""||An(t,l):(typeof l=="number"||typeof l=="bigint")&&i!=="body"&&An(t,""+l);break;case"className":Tr(t,"class",l);break;case"tabIndex":Tr(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Tr(t,a,l);break;case"style":Au(t,l,d);break;case"data":if(i!=="object"){Tr(t,"data",l);break}case"src":case"href":if(l===""&&(i!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=ti(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(i!=="input"&&$e(t,i,"name",f.name,f,null),$e(t,i,"formEncType",f.formEncType,f,null),$e(t,i,"formMethod",f.formMethod,f,null),$e(t,i,"formTarget",f.formTarget,f,null)):($e(t,i,"encType",f.encType,f,null),$e(t,i,"method",f.method,f,null),$e(t,i,"target",f.target,f,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=ti(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=Tc);break;case"onScroll":l!=null&&Me("scroll",t);break;case"onScrollEnd":l!=null&&Me("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=ti(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":Me("beforetoggle",t),Me("toggle",t),Er(t,"popover",l);break;case"xlinkActuate":bn(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":bn(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":bn(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":bn(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":bn(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":bn(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":bn(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":bn(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":bn(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Er(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Xf.get(a)||a,Er(t,a,l))}}function Id(t,i,a,l,f,d){switch(a){case"style":Au(t,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"children":typeof l=="string"?An(t,l):(typeof l=="number"||typeof l=="bigint")&&An(t,""+l);break;case"onScroll":l!=null&&Me("scroll",t);break;case"onScrollEnd":l!=null&&Me("scrollend",t);break;case"onClick":l!=null&&(t.onclick=Tc);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ca.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(f=a.endsWith("Capture"),i=a.slice(2,f?a.length-7:void 0),d=t[At]||null,d=d!=null?d[a]:null,typeof d=="function"&&t.removeEventListener(i,d,f),typeof l=="function")){typeof d!="function"&&d!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(i,l,f);break e}a in t?t[a]=l:l===!0?t.setAttribute(a,""):Er(t,a,l)}}}function Bt(t,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Me("error",t),Me("load",t);var l=!1,f=!1,d;for(d in a)if(a.hasOwnProperty(d)){var v=a[d];if(v!=null)switch(d){case"src":l=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:$e(t,i,d,v,a,null)}}f&&$e(t,i,"srcSet",a.srcSet,a,null),l&&$e(t,i,"src",a.src,a,null);return;case"input":Me("invalid",t);var T=d=v=f=null,I=null,k=null;for(l in a)if(a.hasOwnProperty(l)){var W=a[l];if(W!=null)switch(l){case"name":f=W;break;case"type":v=W;break;case"checked":I=W;break;case"defaultChecked":k=W;break;case"value":d=W;break;case"defaultValue":T=W;break;case"children":case"dangerouslySetInnerHTML":if(W!=null)throw Error(s(137,i));break;default:$e(t,i,l,W,a,null)}}gs(t,d,T,I,k,v,f,!1),ps(t);return;case"select":Me("invalid",t),l=v=d=null;for(f in a)if(a.hasOwnProperty(f)&&(T=a[f],T!=null))switch(f){case"value":d=T;break;case"defaultValue":v=T;break;case"multiple":l=T;default:$e(t,i,f,T,a,null)}i=d,a=v,t.multiple=!!l,i!=null?je(t,!!l,i,!1):a!=null&&je(t,!!l,a,!0);return;case"textarea":Me("invalid",t),d=f=l=null;for(v in a)if(a.hasOwnProperty(v)&&(T=a[v],T!=null))switch(v){case"value":l=T;break;case"defaultValue":f=T;break;case"children":d=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(s(91));break;default:$e(t,i,v,T,a,null)}Ar(t,l,f,d),ps(t);return;case"option":for(I in a)if(a.hasOwnProperty(I)&&(l=a[I],l!=null))switch(I){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:$e(t,i,I,l,a,null)}return;case"dialog":Me("cancel",t),Me("close",t);break;case"iframe":case"object":Me("load",t);break;case"video":case"audio":for(l=0;l<yl.length;l++)Me(yl[l],t);break;case"image":Me("error",t),Me("load",t);break;case"details":Me("toggle",t);break;case"embed":case"source":case"link":Me("error",t),Me("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(k in a)if(a.hasOwnProperty(k)&&(l=a[k],l!=null))switch(k){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:$e(t,i,k,l,a,null)}return;default:if(Vo(i)){for(W in a)a.hasOwnProperty(W)&&(l=a[W],l!==void 0&&Id(t,i,W,l,a,void 0));return}}for(T in a)a.hasOwnProperty(T)&&(l=a[T],l!=null&&$e(t,i,T,l,a,null))}function oA(t,i,a,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,d=null,v=null,T=null,I=null,k=null,W=null;for(X in a){var te=a[X];if(a.hasOwnProperty(X)&&te!=null)switch(X){case"checked":break;case"value":break;case"defaultValue":I=te;default:l.hasOwnProperty(X)||$e(t,i,X,null,l,te)}}for(var G in l){var X=l[G];if(te=a[G],l.hasOwnProperty(G)&&(X!=null||te!=null))switch(G){case"type":d=X;break;case"name":f=X;break;case"checked":k=X;break;case"defaultChecked":W=X;break;case"value":v=X;break;case"defaultValue":T=X;break;case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(s(137,i));break;default:X!==te&&$e(t,i,G,X,l,te)}}br(t,v,T,I,k,W,d,f);return;case"select":X=v=T=G=null;for(d in a)if(I=a[d],a.hasOwnProperty(d)&&I!=null)switch(d){case"value":break;case"multiple":X=I;default:l.hasOwnProperty(d)||$e(t,i,d,null,l,I)}for(f in l)if(d=l[f],I=a[f],l.hasOwnProperty(f)&&(d!=null||I!=null))switch(f){case"value":G=d;break;case"defaultValue":T=d;break;case"multiple":v=d;default:d!==I&&$e(t,i,f,d,l,I)}i=T,a=v,l=X,G!=null?je(t,!!a,G,!1):!!l!=!!a&&(i!=null?je(t,!!a,i,!0):je(t,!!a,a?[]:"",!1));return;case"textarea":X=G=null;for(T in a)if(f=a[T],a.hasOwnProperty(T)&&f!=null&&!l.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:$e(t,i,T,null,l,f)}for(v in l)if(f=l[v],d=a[v],l.hasOwnProperty(v)&&(f!=null||d!=null))switch(v){case"value":G=f;break;case"defaultValue":X=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(s(91));break;default:f!==d&&$e(t,i,v,f,l,d)}ys(t,G,X);return;case"option":for(var me in a)if(G=a[me],a.hasOwnProperty(me)&&G!=null&&!l.hasOwnProperty(me))switch(me){case"selected":t.selected=!1;break;default:$e(t,i,me,null,l,G)}for(I in l)if(G=l[I],X=a[I],l.hasOwnProperty(I)&&G!==X&&(G!=null||X!=null))switch(I){case"selected":t.selected=G&&typeof G!="function"&&typeof G!="symbol";break;default:$e(t,i,I,G,l,X)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ae in a)G=a[Ae],a.hasOwnProperty(Ae)&&G!=null&&!l.hasOwnProperty(Ae)&&$e(t,i,Ae,null,l,G);for(k in l)if(G=l[k],X=a[k],l.hasOwnProperty(k)&&G!==X&&(G!=null||X!=null))switch(k){case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(s(137,i));break;default:$e(t,i,k,G,l,X)}return;default:if(Vo(i)){for(var ht in a)G=a[ht],a.hasOwnProperty(ht)&&G!==void 0&&!l.hasOwnProperty(ht)&&Id(t,i,ht,void 0,l,G);for(W in l)G=l[W],X=a[W],!l.hasOwnProperty(W)||G===X||G===void 0&&X===void 0||Id(t,i,W,G,l,X);return}}for(var j in a)G=a[j],a.hasOwnProperty(j)&&G!=null&&!l.hasOwnProperty(j)&&$e(t,i,j,null,l,G);for(te in l)G=l[te],X=a[te],!l.hasOwnProperty(te)||G===X||G==null&&X==null||$e(t,i,te,G,l,X)}var Cd=null,Dd=null;function bc(t){return t.nodeType===9?t:t.ownerDocument}function __(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function v_(t,i){if(t===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&i==="foreignObject"?0:t}function xd(t,i){return t==="textarea"||t==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Nd=null;function lA(){var t=window.event;return t&&t.type==="popstate"?t===Nd?!1:(Nd=t,!0):(Nd=null,!1)}var E_=typeof setTimeout=="function"?setTimeout:void 0,uA=typeof clearTimeout=="function"?clearTimeout:void 0,T_=typeof Promise=="function"?Promise:void 0,cA=typeof queueMicrotask=="function"?queueMicrotask:typeof T_<"u"?function(t){return T_.resolve(null).then(t).catch(fA)}:E_;function fA(t){setTimeout(function(){throw t})}function Od(t,i){var a=i,l=0;do{var f=a.nextSibling;if(t.removeChild(a),f&&f.nodeType===8)if(a=f.data,a==="/$"){if(l===0){t.removeChild(f),Rl(i);return}l--}else a!=="$"&&a!=="$?"&&a!=="$!"||l++;a=f}while(a);Rl(i)}function Md(t){var i=t.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Md(a),ms(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function hA(t,i,a,l){for(;t.nodeType===1;){var f=a;if(t.nodeName.toLowerCase()!==i.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[yr])switch(i){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(d=t.getAttribute("rel"),d==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(d!==f.rel||t.getAttribute("href")!==(f.href==null?null:f.href)||t.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||t.getAttribute("title")!==(f.title==null?null:f.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(d=t.getAttribute("src"),(d!==(f.src==null?null:f.src)||t.getAttribute("type")!==(f.type==null?null:f.type)||t.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&d&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(i==="input"&&t.type==="hidden"){var d=f.name==null?null:""+f.name;if(f.type==="hidden"&&t.getAttribute("name")===d)return t}else return t;if(t=Hn(t.nextSibling),t===null)break}return null}function dA(t,i,a){if(i==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=Hn(t.nextSibling),t===null))return null;return t}function Hn(t){for(;t!=null;t=t.nextSibling){var i=t.nodeType;if(i===1||i===3)break;if(i===8){if(i=t.data,i==="$"||i==="$!"||i==="$?"||i==="F!"||i==="F")break;if(i==="/$")return null}}return t}function b_(t){t=t.previousSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"){if(i===0)return t;i--}else a==="/$"&&i++}t=t.previousSibling}return null}function A_(t,i,a){switch(i=bc(a),t){case"html":if(t=i.documentElement,!t)throw Error(s(452));return t;case"head":if(t=i.head,!t)throw Error(s(453));return t;case"body":if(t=i.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}var Pn=new Map,w_=new Set;function Ac(t){return typeof t.getRootNode=="function"?t.getRootNode():t.ownerDocument}var Yi=le.d;le.d={f:mA,r:pA,D:gA,C:yA,L:_A,m:vA,X:TA,S:EA,M:bA};function mA(){var t=Yi.f(),i=pc();return t||i}function pA(t){var i=Ii(t);i!==null&&i.tag===5&&i.type==="form"?Wg(i):Yi.r(t)}var Ga=typeof document>"u"?null:document;function S_(t,i,a){var l=Ga;if(l&&typeof i=="string"&&i){var f=ut(i);f='link[rel="'+t+'"][href="'+f+'"]',typeof a=="string"&&(f+='[crossorigin="'+a+'"]'),w_.has(f)||(w_.add(f),t={rel:t,crossOrigin:a,href:i},l.querySelector(f)===null&&(i=l.createElement("link"),Bt(i,"link",t),it(i),l.head.appendChild(i)))}}function gA(t){Yi.D(t),S_("dns-prefetch",t,null)}function yA(t,i){Yi.C(t,i),S_("preconnect",t,i)}function _A(t,i,a){Yi.L(t,i,a);var l=Ga;if(l&&t&&i){var f='link[rel="preload"][as="'+ut(i)+'"]';i==="image"&&a&&a.imageSrcSet?(f+='[imagesrcset="'+ut(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(f+='[imagesizes="'+ut(a.imageSizes)+'"]')):f+='[href="'+ut(t)+'"]';var d=f;switch(i){case"style":d=Ka(t);break;case"script":d=Qa(t)}Pn.has(d)||(t=D({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:t,as:i},a),Pn.set(d,t),l.querySelector(f)!==null||i==="style"&&l.querySelector(vl(d))||i==="script"&&l.querySelector(El(d))||(i=l.createElement("link"),Bt(i,"link",t),it(i),l.head.appendChild(i)))}}function vA(t,i){Yi.m(t,i);var a=Ga;if(a&&t){var l=i&&typeof i.as=="string"?i.as:"script",f='link[rel="modulepreload"][as="'+ut(l)+'"][href="'+ut(t)+'"]',d=f;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=Qa(t)}if(!Pn.has(d)&&(t=D({rel:"modulepreload",href:t},i),Pn.set(d,t),a.querySelector(f)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(El(d)))return}l=a.createElement("link"),Bt(l,"link",t),it(l),a.head.appendChild(l)}}}function EA(t,i,a){Yi.S(t,i,a);var l=Ga;if(l&&t){var f=vr(l).hoistableStyles,d=Ka(t);i=i||"default";var v=f.get(d);if(!v){var T={loading:0,preload:null};if(v=l.querySelector(vl(d)))T.loading=5;else{t=D({rel:"stylesheet",href:t,"data-precedence":i},a),(a=Pn.get(d))&&Vd(t,a);var I=v=l.createElement("link");it(I),Bt(I,"link",t),I._p=new Promise(function(k,W){I.onload=k,I.onerror=W}),I.addEventListener("load",function(){T.loading|=1}),I.addEventListener("error",function(){T.loading|=2}),T.loading|=4,wc(v,i,l)}v={type:"stylesheet",instance:v,count:1,state:T},f.set(d,v)}}}function TA(t,i){Yi.X(t,i);var a=Ga;if(a&&t){var l=vr(a).hoistableScripts,f=Qa(t),d=l.get(f);d||(d=a.querySelector(El(f)),d||(t=D({src:t,async:!0},i),(i=Pn.get(f))&&kd(t,i),d=a.createElement("script"),it(d),Bt(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(f,d))}}function bA(t,i){Yi.M(t,i);var a=Ga;if(a&&t){var l=vr(a).hoistableScripts,f=Qa(t),d=l.get(f);d||(d=a.querySelector(El(f)),d||(t=D({src:t,async:!0,type:"module"},i),(i=Pn.get(f))&&kd(t,i),d=a.createElement("script"),it(d),Bt(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(f,d))}}function R_(t,i,a,l){var f=(f=En.current)?Ac(f):null;if(!f)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=Ka(a.href),a=vr(f).hoistableStyles,l=a.get(i),l||(l={type:"style",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=Ka(a.href);var d=vr(f).hoistableStyles,v=d.get(t);if(v||(f=f.ownerDocument||f,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(t,v),(d=f.querySelector(vl(t)))&&!d._p&&(v.instance=d,v.state.loading=5),Pn.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Pn.set(t,a),d||AA(f,t,a,v.state))),i&&l===null)throw Error(s(528,""));return v}if(i&&l!==null)throw Error(s(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=Qa(a),a=vr(f).hoistableScripts,l=a.get(i),l||(l={type:"script",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function Ka(t){return'href="'+ut(t)+'"'}function vl(t){return'link[rel="stylesheet"]['+t+"]"}function I_(t){return D({},t,{"data-precedence":t.precedence,precedence:null})}function AA(t,i,a,l){t.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=t.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),Bt(i,"link",a),it(i),t.head.appendChild(i))}function Qa(t){return'[src="'+ut(t)+'"]'}function El(t){return"script[async]"+t}function C_(t,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var l=t.querySelector('style[data-href~="'+ut(a.href)+'"]');if(l)return i.instance=l,it(l),l;var f=D({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),it(l),Bt(l,"style",f),wc(l,a.precedence,t),i.instance=l;case"stylesheet":f=Ka(a.href);var d=t.querySelector(vl(f));if(d)return i.state.loading|=4,i.instance=d,it(d),d;l=I_(a),(f=Pn.get(f))&&Vd(l,f),d=(t.ownerDocument||t).createElement("link"),it(d);var v=d;return v._p=new Promise(function(T,I){v.onload=T,v.onerror=I}),Bt(d,"link",l),i.state.loading|=4,wc(d,a.precedence,t),i.instance=d;case"script":return d=Qa(a.src),(f=t.querySelector(El(d)))?(i.instance=f,it(f),f):(l=a,(f=Pn.get(d))&&(l=D({},a),kd(l,f)),t=t.ownerDocument||t,f=t.createElement("script"),it(f),Bt(f,"link",l),t.head.appendChild(f),i.instance=f);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&!(i.state.loading&4)&&(l=i.instance,i.state.loading|=4,wc(l,a.precedence,t));return i.instance}function wc(t,i,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=l.length?l[l.length-1]:null,d=f,v=0;v<l.length;v++){var T=l[v];if(T.dataset.precedence===i)d=T;else if(d!==f)break}d?d.parentNode.insertBefore(t,d.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(t,i.firstChild))}function Vd(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.title==null&&(t.title=i.title)}function kd(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.integrity==null&&(t.integrity=i.integrity)}var Sc=null;function D_(t,i,a){if(Sc===null){var l=new Map,f=Sc=new Map;f.set(a,l)}else f=Sc,l=f.get(a),l||(l=new Map,f.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),f=0;f<a.length;f++){var d=a[f];if(!(d[yr]||d[Nt]||t==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var v=d.getAttribute(i)||"";v=t+v;var T=l.get(v);T?T.push(d):l.set(v,[d])}}return l}function x_(t,i,a){t=t.ownerDocument||t,t.head.insertBefore(a,i==="title"?t.querySelector("head > title"):null)}function wA(t,i,a){if(a===1||i.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return t=i.disabled,typeof i.precedence=="string"&&t==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function N_(t){return!(t.type==="stylesheet"&&!(t.state.loading&3))}var Tl=null;function SA(){}function RA(t,i,a){if(Tl===null)throw Error(s(475));var l=Tl;if(i.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&!(i.state.loading&4)){if(i.instance===null){var f=Ka(a.href),d=t.querySelector(vl(f));if(d){t=d._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(l.count++,l=Rc.bind(l),t.then(l,l)),i.state.loading|=4,i.instance=d,it(d);return}d=t.ownerDocument||t,a=I_(a),(f=Pn.get(f))&&Vd(a,f),d=d.createElement("link"),it(d);var v=d;v._p=new Promise(function(T,I){v.onload=T,v.onerror=I}),Bt(d,"link",a),i.instance=d}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(i,t),(t=i.state.preload)&&!(i.state.loading&3)&&(l.count++,i=Rc.bind(l),t.addEventListener("load",i),t.addEventListener("error",i))}}function IA(){if(Tl===null)throw Error(s(475));var t=Tl;return t.stylesheets&&t.count===0&&Pd(t,t.stylesheets),0<t.count?function(i){var a=setTimeout(function(){if(t.stylesheets&&Pd(t,t.stylesheets),t.unsuspend){var l=t.unsuspend;t.unsuspend=null,l()}},6e4);return t.unsuspend=i,function(){t.unsuspend=null,clearTimeout(a)}}:null}function Rc(){if(this.count--,this.count===0){if(this.stylesheets)Pd(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Ic=null;function Pd(t,i){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Ic=new Map,i.forEach(CA,t),Ic=null,Rc.call(t))}function CA(t,i){if(!(i.state.loading&4)){var a=Ic.get(t);if(a)var l=a.get(null);else{a=new Map,Ic.set(t,a);for(var f=t.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<f.length;d++){var v=f[d];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(a.set(v.dataset.precedence,v),l=v)}l&&a.set(null,l)}f=i.instance,v=f.getAttribute("data-precedence"),d=a.get(v)||l,d===l&&a.set(null,f),a.set(v,f),this.count++,l=Rc.bind(this),f.addEventListener("load",l),f.addEventListener("error",l),d?d.parentNode.insertBefore(f,d.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(f,t.firstChild)),i.state.loading|=4}}var bl={$$typeof:N,Provider:null,Consumer:null,_currentValue:Ie,_currentValue2:Ie,_threadCount:0};function DA(t,i,a,l,f,d,v,T){this.tag=1,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=la(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=la(0),this.hiddenUpdates=la(null),this.identifierPrefix=l,this.onUncaughtError=f,this.onCaughtError=d,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=T,this.incompleteTransitions=new Map}function O_(t,i,a,l,f,d,v,T,I,k,W,te){return t=new DA(t,i,a,v,T,I,k,te),i=1,d===!0&&(i|=24),d=Vn(3,null,null,i),t.current=d,d.stateNode=t,i=mh(),i.refCount++,t.pooledCache=i,i.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:i},$h(d),t}function M_(t){return t?(t=Sa,t):Sa}function V_(t,i,a,l,f,d){f=M_(f),l.context===null?l.context=f:l.pendingContext=f,l=Or(i),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=Mr(t,l,i),a!==null&&(rn(a,t,i),sl(a,t,i))}function k_(t,i){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<i?a:i}}function Ld(t,i){k_(t,i),(t=t.alternate)&&k_(t,i)}function P_(t){if(t.tag===13){var i=Sr(t,67108864);i!==null&&rn(i,t,67108864),Ld(t,67108864)}}var Cc=!0;function xA(t,i,a,l){var f=w.T;w.T=null;var d=le.p;try{le.p=2,Ud(t,i,a,l)}finally{le.p=d,w.T=f}}function NA(t,i,a,l){var f=w.T;w.T=null;var d=le.p;try{le.p=8,Ud(t,i,a,l)}finally{le.p=d,w.T=f}}function Ud(t,i,a,l){if(Cc){var f=zd(l);if(f===null)Rd(t,i,l,Dc,a),U_(t,l);else if(MA(f,t,i,a,l))l.stopPropagation();else if(U_(t,l),i&4&&-1<OA.indexOf(t)){for(;f!==null;){var d=Ii(f);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var v=Un(d.pendingLanes);if(v!==0){var T=d;for(T.pendingLanes|=2,T.entangledLanes|=2;v;){var I=1<<31-Jt(v);T.entanglements[1]|=I,v&=~I}hi(d),!(st&6)&&(hc=an()+500,gl(0))}}break;case 13:T=Sr(d,2),T!==null&&rn(T,d,2),pc(),Ld(d,2)}if(d=zd(l),d===null&&Rd(t,i,l,Dc,a),d===f)break;f=d}f!==null&&l.stopPropagation()}else Rd(t,i,l,null,a)}}function zd(t){return t=da(t),jd(t)}var Dc=null;function jd(t){if(Dc=null,t=zn(t),t!==null){var i=de(t);if(i===null)t=null;else{var a=i.tag;if(a===13){if(t=He(i),t!==null)return t;t=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;t=null}else i!==t&&(t=null)}}return Dc=t,null}function L_(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(mu()){case bt:return 2;case xt:return 8;case Si:case pu:return 32;case wo:return 268435456;default:return 32}default:return 32}}var Bd=!1,jr=null,Br=null,qr=null,Al=new Map,wl=new Map,Hr=[],OA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function U_(t,i){switch(t){case"focusin":case"focusout":jr=null;break;case"dragenter":case"dragleave":Br=null;break;case"mouseover":case"mouseout":qr=null;break;case"pointerover":case"pointerout":Al.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":wl.delete(i.pointerId)}}function Sl(t,i,a,l,f,d){return t===null||t.nativeEvent!==d?(t={blockedOn:i,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[f]},i!==null&&(i=Ii(i),i!==null&&P_(i)),t):(t.eventSystemFlags|=l,i=t.targetContainers,f!==null&&i.indexOf(f)===-1&&i.push(f),t)}function MA(t,i,a,l,f){switch(i){case"focusin":return jr=Sl(jr,t,i,a,l,f),!0;case"dragenter":return Br=Sl(Br,t,i,a,l,f),!0;case"mouseover":return qr=Sl(qr,t,i,a,l,f),!0;case"pointerover":var d=f.pointerId;return Al.set(d,Sl(Al.get(d)||null,t,i,a,l,f)),!0;case"gotpointercapture":return d=f.pointerId,wl.set(d,Sl(wl.get(d)||null,t,i,a,l,f)),!0}return!1}function z_(t){var i=zn(t.target);if(i!==null){var a=de(i);if(a!==null){if(i=a.tag,i===13){if(i=He(a),i!==null){t.blockedOn=i,gr(t.priority,function(){if(a.tag===13){var l=yn(),f=Sr(a,l);f!==null&&rn(f,a,l),Ld(a,l)}});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function xc(t){if(t.blockedOn!==null)return!1;for(var i=t.targetContainers;0<i.length;){var a=zd(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);wn=l,a.target.dispatchEvent(l),wn=null}else return i=Ii(a),i!==null&&P_(i),t.blockedOn=a,!1;i.shift()}return!0}function j_(t,i,a){xc(t)&&a.delete(i)}function VA(){Bd=!1,jr!==null&&xc(jr)&&(jr=null),Br!==null&&xc(Br)&&(Br=null),qr!==null&&xc(qr)&&(qr=null),Al.forEach(j_),wl.forEach(j_)}function Nc(t,i){t.blockedOn===i&&(t.blockedOn=null,Bd||(Bd=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,VA)))}var Oc=null;function B_(t){Oc!==t&&(Oc=t,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Oc===t&&(Oc=null);for(var i=0;i<t.length;i+=3){var a=t[i],l=t[i+1],f=t[i+2];if(typeof l!="function"){if(jd(l||a)===null)continue;break}var d=Ii(a);d!==null&&(t.splice(i,3),i-=3,xh(d,{pending:!0,data:f,method:a.method,action:l},l,f))}}))}function Rl(t){function i(I){return Nc(I,t)}jr!==null&&Nc(jr,t),Br!==null&&Nc(Br,t),qr!==null&&Nc(qr,t),Al.forEach(i),wl.forEach(i);for(var a=0;a<Hr.length;a++){var l=Hr[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<Hr.length&&(a=Hr[0],a.blockedOn===null);)z_(a),a.blockedOn===null&&Hr.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var f=a[l],d=a[l+1],v=f[At]||null;if(typeof d=="function")v||B_(a);else if(v){var T=null;if(d&&d.hasAttribute("formAction")){if(f=d,v=d[At]||null)T=v.formAction;else if(jd(f)!==null)continue}else T=v.action;typeof T=="function"?a[l+1]=T:(a.splice(l,3),l-=3),B_(a)}}}function qd(t){this._internalRoot=t}Mc.prototype.render=qd.prototype.render=function(t){var i=this._internalRoot;if(i===null)throw Error(s(409));var a=i.current,l=yn();V_(a,l,t,i,null,null)},Mc.prototype.unmount=qd.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var i=t.containerInfo;t.tag===0&&qa(),V_(t.current,2,null,t,null,null),pc(),i[Ri]=null}};function Mc(t){this._internalRoot=t}Mc.prototype.unstable_scheduleHydration=function(t){if(t){var i=Eu();t={blockedOn:null,target:t,priority:i};for(var a=0;a<Hr.length&&i!==0&&i<Hr[a].priority;a++);Hr.splice(a,0,t),a===0&&z_(t)}};var q_=e.version;if(q_!=="19.0.0")throw Error(s(527,q_,"19.0.0"));le.findDOMNode=function(t){var i=t._reactInternals;if(i===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=ie(i),t=t!==null?pe(t):null,t=t===null?null:t.stateNode,t};var kA={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:w,findFiberByHostInstance:zn,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Vc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Vc.isDisabled&&Vc.supportsFiber)try{cr=Vc.inject(kA),Gt=Vc}catch{}}return Cl.createRoot=function(t,i){if(!o(t))throw Error(s(299));var a=!1,l="",f=sy,d=ay,v=oy,T=null;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onUncaughtError!==void 0&&(f=i.onUncaughtError),i.onCaughtError!==void 0&&(d=i.onCaughtError),i.onRecoverableError!==void 0&&(v=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(T=i.unstable_transitionCallbacks)),i=O_(t,1,!1,null,null,a,l,f,d,v,T,null),t[Ri]=i.current,Sd(t.nodeType===8?t.parentNode:t),new qd(i)},Cl.hydrateRoot=function(t,i,a){if(!o(t))throw Error(s(299));var l=!1,f="",d=sy,v=ay,T=oy,I=null,k=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(f=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(v=a.onCaughtError),a.onRecoverableError!==void 0&&(T=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(I=a.unstable_transitionCallbacks),a.formState!==void 0&&(k=a.formState)),i=O_(t,1,!0,i,a??null,l,f,d,v,T,I,k),i.context=M_(null),a=i.current,l=yn(),f=Or(l),f.callback=null,Mr(a,f,l),i.current.lanes=l,dt(i,l),hi(i),t[Ri]=i.current,Sd(t),new Mc(i)},Cl.version="19.0.0",Cl}var Z_;function KA(){if(Z_)return Gd.exports;Z_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Gd.exports=GA(),Gd.exports}var QA=KA(),Dl={},J_;function $A(){if(J_)return Dl;J_=1,Object.defineProperty(Dl,"__esModule",{value:!0}),Dl.parse=h,Dl.serialize=g;const r=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,s=/^[\u0020-\u003A\u003D-\u007E]*$/,o=Object.prototype.toString,u=(()=>{const R=function(){};return R.prototype=Object.create(null),R})();function h(R,N){const P=new u,Q=R.length;if(Q<2)return P;const L=(N==null?void 0:N.decode)||E;let K=0;do{const Y=R.indexOf("=",K);if(Y===-1)break;const z=R.indexOf(";",K),ne=z===-1?Q:z;if(Y>ne){K=R.lastIndexOf(";",Y-1)+1;continue}const re=m(R,K,Y),he=p(R,Y,re),C=R.slice(re,he);if(P[C]===void 0){let S=m(R,Y+1,ne),w=p(R,ne,S);const D=L(R.slice(S,w));P[C]=D}K=ne+1}while(K<Q);return P}function m(R,N,P){do{const Q=R.charCodeAt(N);if(Q!==32&&Q!==9)return N}while(++N<P);return P}function p(R,N,P){for(;N>P;){const Q=R.charCodeAt(--N);if(Q!==32&&Q!==9)return N+1}return P}function g(R,N,P){const Q=(P==null?void 0:P.encode)||encodeURIComponent;if(!r.test(R))throw new TypeError(`argument name is invalid: ${R}`);const L=Q(N);if(!e.test(L))throw new TypeError(`argument val is invalid: ${N}`);let K=R+"="+L;if(!P)return K;if(P.maxAge!==void 0){if(!Number.isInteger(P.maxAge))throw new TypeError(`option maxAge is invalid: ${P.maxAge}`);K+="; Max-Age="+P.maxAge}if(P.domain){if(!n.test(P.domain))throw new TypeError(`option domain is invalid: ${P.domain}`);K+="; Domain="+P.domain}if(P.path){if(!s.test(P.path))throw new TypeError(`option path is invalid: ${P.path}`);K+="; Path="+P.path}if(P.expires){if(!A(P.expires)||!Number.isFinite(P.expires.valueOf()))throw new TypeError(`option expires is invalid: ${P.expires}`);K+="; Expires="+P.expires.toUTCString()}if(P.httpOnly&&(K+="; HttpOnly"),P.secure&&(K+="; Secure"),P.partitioned&&(K+="; Partitioned"),P.priority)switch(typeof P.priority=="string"?P.priority.toLowerCase():void 0){case"low":K+="; Priority=Low";break;case"medium":K+="; Priority=Medium";break;case"high":K+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${P.priority}`)}if(P.sameSite)switch(typeof P.sameSite=="string"?P.sameSite.toLowerCase():P.sameSite){case!0:case"strict":K+="; SameSite=Strict";break;case"lax":K+="; SameSite=Lax";break;case"none":K+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${P.sameSite}`)}return K}function E(R){if(R.indexOf("%")===-1)return R;try{return decodeURIComponent(R)}catch{return R}}function A(R){return o.call(R)==="[object Date]"}return Dl}$A();/**
 * react-router v7.1.5
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var ev="popstate";function YA(r={}){function e(s,o){let{pathname:u,search:h,hash:m}=s.location;return fm("",{pathname:u,search:h,hash:m},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(s,o){return typeof o=="string"?o:ql(o)}return WA(e,n,null,r)}function nt(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function Kn(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function XA(){return Math.random().toString(36).substring(2,10)}function tv(r,e){return{usr:r.state,key:r.key,idx:e}}function fm(r,e,n=null,s){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof e=="string"?fo(e):e,state:n,key:e&&e.key||s||XA()}}function ql({pathname:r="/",search:e="",hash:n=""}){return e&&e!=="?"&&(r+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(r+=n.charAt(0)==="#"?n:"#"+n),r}function fo(r){let e={};if(r){let n=r.indexOf("#");n>=0&&(e.hash=r.substring(n),r=r.substring(0,n));let s=r.indexOf("?");s>=0&&(e.search=r.substring(s),r=r.substring(0,s)),r&&(e.pathname=r)}return e}function WA(r,e,n,s={}){let{window:o=document.defaultView,v5Compat:u=!1}=s,h=o.history,m="POP",p=null,g=E();g==null&&(g=0,h.replaceState({...h.state,idx:g},""));function E(){return(h.state||{idx:null}).idx}function A(){m="POP";let L=E(),K=L==null?null:L-g;g=L,p&&p({action:m,location:Q.location,delta:K})}function R(L,K){m="PUSH";let Y=fm(Q.location,L,K);g=E()+1;let z=tv(Y,g),ne=Q.createHref(Y);try{h.pushState(z,"",ne)}catch(re){if(re instanceof DOMException&&re.name==="DataCloneError")throw re;o.location.assign(ne)}u&&p&&p({action:m,location:Q.location,delta:1})}function N(L,K){m="REPLACE";let Y=fm(Q.location,L,K);g=E();let z=tv(Y,g),ne=Q.createHref(Y);h.replaceState(z,"",ne),u&&p&&p({action:m,location:Q.location,delta:0})}function P(L){let K=o.location.origin!=="null"?o.location.origin:o.location.href,Y=typeof L=="string"?L:ql(L);return Y=Y.replace(/ $/,"%20"),nt(K,`No window.location.(origin|href) available to create URL for href: ${Y}`),new URL(Y,K)}let Q={get action(){return m},get location(){return r(o,h)},listen(L){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(ev,A),p=L,()=>{o.removeEventListener(ev,A),p=null}},createHref(L){return e(o,L)},createURL:P,encodeLocation(L){let K=P(L);return{pathname:K.pathname,search:K.search,hash:K.hash}},push:R,replace:N,go(L){return h.go(L)}};return Q}function AE(r,e,n="/"){return ZA(r,e,n,!1)}function ZA(r,e,n,s){let o=typeof e=="string"?fo(e):e,u=ns(o.pathname||"/",n);if(u==null)return null;let h=wE(r);JA(h);let m=null;for(let p=0;m==null&&p<h.length;++p){let g=cw(u);m=lw(h[p],g,s)}return m}function wE(r,e=[],n=[],s=""){let o=(u,h,m)=>{let p={relativePath:m===void 0?u.path||"":m,caseSensitive:u.caseSensitive===!0,childrenIndex:h,route:u};p.relativePath.startsWith("/")&&(nt(p.relativePath.startsWith(s),`Absolute route path "${p.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(s.length));let g=Ji([s,p.relativePath]),E=n.concat(p);u.children&&u.children.length>0&&(nt(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),wE(u.children,e,E,g)),!(u.path==null&&!u.index)&&e.push({path:g,score:aw(g,u.index),routesMeta:E})};return r.forEach((u,h)=>{var m;if(u.path===""||!((m=u.path)!=null&&m.includes("?")))o(u,h);else for(let p of SE(u.path))o(u,h,p)}),e}function SE(r){let e=r.split("/");if(e.length===0)return[];let[n,...s]=e,o=n.endsWith("?"),u=n.replace(/\?$/,"");if(s.length===0)return o?[u,""]:[u];let h=SE(s.join("/")),m=[];return m.push(...h.map(p=>p===""?u:[u,p].join("/"))),o&&m.push(...h),m.map(p=>r.startsWith("/")&&p===""?"/":p)}function JA(r){r.sort((e,n)=>e.score!==n.score?n.score-e.score:ow(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var ew=/^:[\w-]+$/,tw=3,nw=2,iw=1,rw=10,sw=-2,nv=r=>r==="*";function aw(r,e){let n=r.split("/"),s=n.length;return n.some(nv)&&(s+=sw),e&&(s+=nw),n.filter(o=>!nv(o)).reduce((o,u)=>o+(ew.test(u)?tw:u===""?iw:rw),s)}function ow(r,e){return r.length===e.length&&r.slice(0,-1).every((s,o)=>s===e[o])?r[r.length-1]-e[e.length-1]:0}function lw(r,e,n=!1){let{routesMeta:s}=r,o={},u="/",h=[];for(let m=0;m<s.length;++m){let p=s[m],g=m===s.length-1,E=u==="/"?e:e.slice(u.length)||"/",A=ef({path:p.relativePath,caseSensitive:p.caseSensitive,end:g},E),R=p.route;if(!A&&g&&n&&!s[s.length-1].route.index&&(A=ef({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},E)),!A)return null;Object.assign(o,A.params),h.push({params:o,pathname:Ji([u,A.pathname]),pathnameBase:mw(Ji([u,A.pathnameBase])),route:R}),A.pathnameBase!=="/"&&(u=Ji([u,A.pathnameBase]))}return h}function ef(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[n,s]=uw(r.path,r.caseSensitive,r.end),o=e.match(n);if(!o)return null;let u=o[0],h=u.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:s.reduce((g,{paramName:E,isOptional:A},R)=>{if(E==="*"){let P=m[R]||"";h=u.slice(0,u.length-P.length).replace(/(.)\/+$/,"$1")}const N=m[R];return A&&!N?g[E]=void 0:g[E]=(N||"").replace(/%2F/g,"/"),g},{}),pathname:u,pathnameBase:h,pattern:r}}function uw(r,e=!1,n=!0){Kn(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let s=[],o="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(h,m,p)=>(s.push({paramName:m,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return r.endsWith("*")?(s.push({paramName:"*"}),o+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":r!==""&&r!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function cw(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Kn(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),r}}function ns(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=r.charAt(n);return s&&s!=="/"?null:r.slice(n)||"/"}function fw(r,e="/"){let{pathname:n,search:s="",hash:o=""}=typeof r=="string"?fo(r):r;return{pathname:n?n.startsWith("/")?n:hw(n,e):e,search:pw(s),hash:gw(o)}}function hw(r,e){let n=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function Yd(r,e,n,s){return`Cannot include a '${r}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function dw(r){return r.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Fm(r){let e=dw(r);return e.map((n,s)=>s===e.length-1?n.pathname:n.pathnameBase)}function Gm(r,e,n,s=!1){let o;typeof r=="string"?o=fo(r):(o={...r},nt(!o.pathname||!o.pathname.includes("?"),Yd("?","pathname","search",o)),nt(!o.pathname||!o.pathname.includes("#"),Yd("#","pathname","hash",o)),nt(!o.search||!o.search.includes("#"),Yd("#","search","hash",o)));let u=r===""||o.pathname==="",h=u?"/":o.pathname,m;if(h==null)m=n;else{let A=e.length-1;if(!s&&h.startsWith("..")){let R=h.split("/");for(;R[0]==="..";)R.shift(),A-=1;o.pathname=R.join("/")}m=A>=0?e[A]:"/"}let p=fw(o,m),g=h&&h!=="/"&&h.endsWith("/"),E=(u||h===".")&&n.endsWith("/");return!p.pathname.endsWith("/")&&(g||E)&&(p.pathname+="/"),p}var Ji=r=>r.join("/").replace(/\/\/+/g,"/"),mw=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),pw=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,gw=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function yw(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}var RE=["POST","PUT","PATCH","DELETE"];new Set(RE);var _w=["GET",...RE];new Set(_w);var ho=F.createContext(null);ho.displayName="DataRouter";var Ef=F.createContext(null);Ef.displayName="DataRouterState";var IE=F.createContext({isTransitioning:!1});IE.displayName="ViewTransition";var vw=F.createContext(new Map);vw.displayName="Fetchers";var Ew=F.createContext(null);Ew.displayName="Await";var Yn=F.createContext(null);Yn.displayName="Navigation";var Jl=F.createContext(null);Jl.displayName="Location";var Xn=F.createContext({outlet:null,matches:[],isDataRoute:!1});Xn.displayName="Route";var Km=F.createContext(null);Km.displayName="RouteError";function Tw(r,{relative:e}={}){nt(mo(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=F.useContext(Yn),{hash:o,pathname:u,search:h}=eu(r,{relative:e}),m=u;return n!=="/"&&(m=u==="/"?n:Ji([n,u])),s.createHref({pathname:m,search:h,hash:o})}function mo(){return F.useContext(Jl)!=null}function ls(){return nt(mo(),"useLocation() may be used only in the context of a <Router> component."),F.useContext(Jl).location}var CE="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function DE(r){F.useContext(Yn).static||F.useLayoutEffect(r)}function Tf(){let{isDataRoute:r}=F.useContext(Xn);return r?Vw():bw()}function bw(){nt(mo(),"useNavigate() may be used only in the context of a <Router> component.");let r=F.useContext(ho),{basename:e,navigator:n}=F.useContext(Yn),{matches:s}=F.useContext(Xn),{pathname:o}=ls(),u=JSON.stringify(Fm(s)),h=F.useRef(!1);return DE(()=>{h.current=!0}),F.useCallback((p,g={})=>{if(Kn(h.current,CE),!h.current)return;if(typeof p=="number"){n.go(p);return}let E=Gm(p,JSON.parse(u),o,g.relative==="path");r==null&&e!=="/"&&(E.pathname=E.pathname==="/"?e:Ji([e,E.pathname])),(g.replace?n.replace:n.push)(E,g.state,g)},[e,n,u,o,r])}F.createContext(null);function xE(){let{matches:r}=F.useContext(Xn),e=r[r.length-1];return e?e.params:{}}function eu(r,{relative:e}={}){let{matches:n}=F.useContext(Xn),{pathname:s}=ls(),o=JSON.stringify(Fm(n));return F.useMemo(()=>Gm(r,JSON.parse(o),s,e==="path"),[r,o,s,e])}function Aw(r,e){return NE(r,e)}function NE(r,e,n,s){var Y;nt(mo(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o,static:u}=F.useContext(Yn),{matches:h}=F.useContext(Xn),m=h[h.length-1],p=m?m.params:{},g=m?m.pathname:"/",E=m?m.pathnameBase:"/",A=m&&m.route;{let z=A&&A.path||"";OE(g,!A||z.endsWith("*")||z.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${z}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${z}"> to <Route path="${z==="/"?"*":`${z}/*`}">.`)}let R=ls(),N;if(e){let z=typeof e=="string"?fo(e):e;nt(E==="/"||((Y=z.pathname)==null?void 0:Y.startsWith(E)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${E}" but pathname "${z.pathname}" was given in the \`location\` prop.`),N=z}else N=R;let P=N.pathname||"/",Q=P;if(E!=="/"){let z=E.replace(/^\//,"").split("/");Q="/"+P.replace(/^\//,"").split("/").slice(z.length).join("/")}let L=!u&&n&&n.matches&&n.matches.length>0?n.matches:AE(r,{pathname:Q});Kn(A||L!=null,`No routes matched location "${N.pathname}${N.search}${N.hash}" `),Kn(L==null||L[L.length-1].route.element!==void 0||L[L.length-1].route.Component!==void 0||L[L.length-1].route.lazy!==void 0,`Matched leaf route at location "${N.pathname}${N.search}${N.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let K=Cw(L&&L.map(z=>Object.assign({},z,{params:Object.assign({},p,z.params),pathname:Ji([E,o.encodeLocation?o.encodeLocation(z.pathname).pathname:z.pathname]),pathnameBase:z.pathnameBase==="/"?E:Ji([E,o.encodeLocation?o.encodeLocation(z.pathnameBase).pathname:z.pathnameBase])})),h,n,s);return e&&K?F.createElement(Jl.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...N},navigationType:"POP"}},K):K}function ww(){let r=Mw(),e=yw(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),n=r instanceof Error?r.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},h=null;return console.error("Error handled by React Router default ErrorBoundary:",r),h=F.createElement(F.Fragment,null,F.createElement("p",null,"💿 Hey developer 👋"),F.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",F.createElement("code",{style:u},"ErrorBoundary")," or"," ",F.createElement("code",{style:u},"errorElement")," prop on your route.")),F.createElement(F.Fragment,null,F.createElement("h2",null,"Unexpected Application Error!"),F.createElement("h3",{style:{fontStyle:"italic"}},e),n?F.createElement("pre",{style:o},n):null,h)}var Sw=F.createElement(ww,null),Rw=class extends F.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,e){return e.location!==r.location||e.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:e.error,location:e.location,revalidation:r.revalidation||e.revalidation}}componentDidCatch(r,e){console.error("React Router caught the following error during render",r,e)}render(){return this.state.error!==void 0?F.createElement(Xn.Provider,{value:this.props.routeContext},F.createElement(Km.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function Iw({routeContext:r,match:e,children:n}){let s=F.useContext(ho);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),F.createElement(Xn.Provider,{value:r},n)}function Cw(r,e=[],n=null,s=null){if(r==null){if(!n)return null;if(n.errors)r=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)r=n.matches;else return null}let o=r,u=n==null?void 0:n.errors;if(u!=null){let p=o.findIndex(g=>g.route.id&&(u==null?void 0:u[g.route.id])!==void 0);nt(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),o=o.slice(0,Math.min(o.length,p+1))}let h=!1,m=-1;if(n)for(let p=0;p<o.length;p++){let g=o[p];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(m=p),g.route.id){let{loaderData:E,errors:A}=n,R=g.route.loader&&!E.hasOwnProperty(g.route.id)&&(!A||A[g.route.id]===void 0);if(g.route.lazy||R){h=!0,m>=0?o=o.slice(0,m+1):o=[o[0]];break}}}return o.reduceRight((p,g,E)=>{let A,R=!1,N=null,P=null;n&&(A=u&&g.route.id?u[g.route.id]:void 0,N=g.route.errorElement||Sw,h&&(m<0&&E===0?(OE("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),R=!0,P=null):m===E&&(R=!0,P=g.route.hydrateFallbackElement||null)));let Q=e.concat(o.slice(0,E+1)),L=()=>{let K;return A?K=N:R?K=P:g.route.Component?K=F.createElement(g.route.Component,null):g.route.element?K=g.route.element:K=p,F.createElement(Iw,{match:g,routeContext:{outlet:p,matches:Q,isDataRoute:n!=null},children:K})};return n&&(g.route.ErrorBoundary||g.route.errorElement||E===0)?F.createElement(Rw,{location:n.location,revalidation:n.revalidation,component:N,error:A,children:L(),routeContext:{outlet:null,matches:Q,isDataRoute:!0}}):L()},null)}function Qm(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Dw(r){let e=F.useContext(ho);return nt(e,Qm(r)),e}function xw(r){let e=F.useContext(Ef);return nt(e,Qm(r)),e}function Nw(r){let e=F.useContext(Xn);return nt(e,Qm(r)),e}function $m(r){let e=Nw(r),n=e.matches[e.matches.length-1];return nt(n.route.id,`${r} can only be used on routes that contain a unique "id"`),n.route.id}function Ow(){return $m("useRouteId")}function Mw(){var s;let r=F.useContext(Km),e=xw("useRouteError"),n=$m("useRouteError");return r!==void 0?r:(s=e.errors)==null?void 0:s[n]}function Vw(){let{router:r}=Dw("useNavigate"),e=$m("useNavigate"),n=F.useRef(!1);return DE(()=>{n.current=!0}),F.useCallback(async(o,u={})=>{Kn(n.current,CE),n.current&&(typeof o=="number"?r.navigate(o):await r.navigate(o,{fromRouteId:e,...u}))},[r,e])}var iv={};function OE(r,e,n){!e&&!iv[r]&&(iv[r]=!0,Kn(!1,n))}F.memo(kw);function kw({routes:r,future:e,state:n}){return NE(r,void 0,n,e)}function Pw({to:r,replace:e,state:n,relative:s}){nt(mo(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=F.useContext(Yn);Kn(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:u}=F.useContext(Xn),{pathname:h}=ls(),m=Tf(),p=Gm(r,Fm(u),h,s==="path"),g=JSON.stringify(p);return F.useEffect(()=>{m(JSON.parse(g),{replace:e,state:n,relative:s})},[m,g,s,e,n]),null}function di(r){nt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Lw({basename:r="/",children:e=null,location:n,navigationType:s="POP",navigator:o,static:u=!1}){nt(!mo(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let h=r.replace(/^\/*/,"/"),m=F.useMemo(()=>({basename:h,navigator:o,static:u,future:{}}),[h,o,u]);typeof n=="string"&&(n=fo(n));let{pathname:p="/",search:g="",hash:E="",state:A=null,key:R="default"}=n,N=F.useMemo(()=>{let P=ns(p,h);return P==null?null:{location:{pathname:P,search:g,hash:E,state:A,key:R},navigationType:s}},[h,p,g,E,A,R,s]);return Kn(N!=null,`<Router basename="${h}"> is not able to match the URL "${p}${g}${E}" because it does not start with the basename, so the <Router> won't render anything.`),N==null?null:F.createElement(Yn.Provider,{value:m},F.createElement(Jl.Provider,{children:e,value:N}))}function Uw({children:r,location:e}){return Aw(hm(r),e)}function hm(r,e=[]){let n=[];return F.Children.forEach(r,(s,o)=>{if(!F.isValidElement(s))return;let u=[...e,o];if(s.type===F.Fragment){n.push.apply(n,hm(s.props.children,u));return}nt(s.type===di,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),nt(!s.props.index||!s.props.children,"An index route cannot have child routes.");let h={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(h.children=hm(s.props.children,u)),n.push(h)}),n}var qc="get",Hc="application/x-www-form-urlencoded";function bf(r){return r!=null&&typeof r.tagName=="string"}function zw(r){return bf(r)&&r.tagName.toLowerCase()==="button"}function jw(r){return bf(r)&&r.tagName.toLowerCase()==="form"}function Bw(r){return bf(r)&&r.tagName.toLowerCase()==="input"}function qw(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function Hw(r,e){return r.button===0&&(!e||e==="_self")&&!qw(r)}var kc=null;function Fw(){if(kc===null)try{new FormData(document.createElement("form"),0),kc=!1}catch{kc=!0}return kc}var Gw=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Xd(r){return r!=null&&!Gw.has(r)?(Kn(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Hc}"`),null):r}function Kw(r,e){let n,s,o,u,h;if(jw(r)){let m=r.getAttribute("action");s=m?ns(m,e):null,n=r.getAttribute("method")||qc,o=Xd(r.getAttribute("enctype"))||Hc,u=new FormData(r)}else if(zw(r)||Bw(r)&&(r.type==="submit"||r.type==="image")){let m=r.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=r.getAttribute("formaction")||m.getAttribute("action");if(s=p?ns(p,e):null,n=r.getAttribute("formmethod")||m.getAttribute("method")||qc,o=Xd(r.getAttribute("formenctype"))||Xd(m.getAttribute("enctype"))||Hc,u=new FormData(m,r),!Fw()){let{name:g,type:E,value:A}=r;if(E==="image"){let R=g?`${g}.`:"";u.append(`${R}x`,"0"),u.append(`${R}y`,"0")}else g&&u.append(g,A)}}else{if(bf(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=qc,s=null,o=Hc,h=r}return u&&o==="text/plain"&&(h=u,u=void 0),{action:s,method:n.toLowerCase(),encType:o,formData:u,body:h}}function Ym(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}async function Qw(r,e){if(r.id in e)return e[r.id];try{let n=await import(r.module);return e[r.id]=n,n}catch(n){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function $w(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function Yw(r,e,n){let s=await Promise.all(r.map(async o=>{let u=e.routes[o.route.id];if(u){let h=await Qw(u,n);return h.links?h.links():[]}return[]}));return Jw(s.flat(1).filter($w).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function rv(r,e,n,s,o,u){let h=(p,g)=>n[g]?p.route.id!==n[g].route.id:!0,m=(p,g)=>{var E;return n[g].pathname!==p.pathname||((E=n[g].route.path)==null?void 0:E.endsWith("*"))&&n[g].params["*"]!==p.params["*"]};return u==="assets"?e.filter((p,g)=>h(p,g)||m(p,g)):u==="data"?e.filter((p,g)=>{var A;let E=s.routes[p.route.id];if(!E||!E.hasLoader)return!1;if(h(p,g)||m(p,g))return!0;if(p.route.shouldRevalidate){let R=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((A=n[0])==null?void 0:A.params)||{},nextUrl:new URL(r,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof R=="boolean")return R}return!0}):[]}function Xw(r,e){return Ww(r.map(n=>{let s=e.routes[n.route.id];if(!s)return[];let o=[s.module];return s.imports&&(o=o.concat(s.imports)),o}).flat(1))}function Ww(r){return[...new Set(r)]}function Zw(r){let e={},n=Object.keys(r).sort();for(let s of n)e[s]=r[s];return e}function Jw(r,e){let n=new Set;return new Set(e),r.reduce((s,o)=>{let u=JSON.stringify(Zw(o));return n.has(u)||(n.add(u),s.push({key:u,link:o})),s},[])}function eS(r){let e=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return e.pathname==="/"?e.pathname="_root.data":e.pathname=`${e.pathname.replace(/\/$/,"")}.data`,e}function tS(){let r=F.useContext(ho);return Ym(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function nS(){let r=F.useContext(Ef);return Ym(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var Xm=F.createContext(void 0);Xm.displayName="FrameworkContext";function ME(){let r=F.useContext(Xm);return Ym(r,"You must render this element inside a <HydratedRouter> element"),r}function iS(r,e){let n=F.useContext(Xm),[s,o]=F.useState(!1),[u,h]=F.useState(!1),{onFocus:m,onBlur:p,onMouseEnter:g,onMouseLeave:E,onTouchStart:A}=e,R=F.useRef(null);F.useEffect(()=>{if(r==="render"&&h(!0),r==="viewport"){let Q=K=>{K.forEach(Y=>{h(Y.isIntersecting)})},L=new IntersectionObserver(Q,{threshold:.5});return R.current&&L.observe(R.current),()=>{L.disconnect()}}},[r]),F.useEffect(()=>{if(s){let Q=setTimeout(()=>{h(!0)},100);return()=>{clearTimeout(Q)}}},[s]);let N=()=>{o(!0)},P=()=>{o(!1),h(!1)};return n?r!=="intent"?[u,R,{}]:[u,R,{onFocus:xl(m,N),onBlur:xl(p,P),onMouseEnter:xl(g,N),onMouseLeave:xl(E,P),onTouchStart:xl(A,N)}]:[!1,R,{}]}function xl(r,e){return n=>{r&&r(n),n.defaultPrevented||e(n)}}function rS({page:r,...e}){let{router:n}=tS(),s=F.useMemo(()=>AE(n.routes,r,n.basename),[n.routes,r,n.basename]);return s?F.createElement(aS,{page:r,matches:s,...e}):null}function sS(r){let{manifest:e,routeModules:n}=ME(),[s,o]=F.useState([]);return F.useEffect(()=>{let u=!1;return Yw(r,e,n).then(h=>{u||o(h)}),()=>{u=!0}},[r,e,n]),s}function aS({page:r,matches:e,...n}){let s=ls(),{manifest:o,routeModules:u}=ME(),{loaderData:h,matches:m}=nS(),p=F.useMemo(()=>rv(r,e,m,o,s,"data"),[r,e,m,o,s]),g=F.useMemo(()=>rv(r,e,m,o,s,"assets"),[r,e,m,o,s]),E=F.useMemo(()=>{if(r===s.pathname+s.search+s.hash)return[];let N=new Set,P=!1;if(e.forEach(L=>{var Y;let K=o.routes[L.route.id];!K||!K.hasLoader||(!p.some(z=>z.route.id===L.route.id)&&L.route.id in h&&((Y=u[L.route.id])!=null&&Y.shouldRevalidate)||K.hasClientLoader?P=!0:N.add(L.route.id))}),N.size===0)return[];let Q=eS(r);return P&&N.size>0&&Q.searchParams.set("_routes",e.filter(L=>N.has(L.route.id)).map(L=>L.route.id).join(",")),[Q.pathname+Q.search]},[h,s,o,p,e,r,u]),A=F.useMemo(()=>Xw(g,o),[g,o]),R=sS(g);return F.createElement(F.Fragment,null,E.map(N=>F.createElement("link",{key:N,rel:"prefetch",as:"fetch",href:N,...n})),A.map(N=>F.createElement("link",{key:N,rel:"modulepreload",href:N,...n})),R.map(({key:N,link:P})=>F.createElement("link",{key:N,...P})))}function oS(...r){return e=>{r.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var VE=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{VE&&(window.__reactRouterVersion="7.1.5")}catch{}function lS({basename:r,children:e,window:n}){let s=F.useRef();s.current==null&&(s.current=YA({window:n,v5Compat:!0}));let o=s.current,[u,h]=F.useState({action:o.action,location:o.location}),m=F.useCallback(p=>{F.startTransition(()=>h(p))},[h]);return F.useLayoutEffect(()=>o.listen(m),[o,m]),F.createElement(Lw,{basename:r,children:e,location:u.location,navigationType:u.action,navigator:o})}var kE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,tf=F.forwardRef(function({onClick:e,discover:n="render",prefetch:s="none",relative:o,reloadDocument:u,replace:h,state:m,target:p,to:g,preventScrollReset:E,viewTransition:A,...R},N){let{basename:P}=F.useContext(Yn),Q=typeof g=="string"&&kE.test(g),L,K=!1;if(typeof g=="string"&&Q&&(L=g,VE))try{let w=new URL(window.location.href),D=g.startsWith("//")?new URL(w.protocol+g):new URL(g),O=ns(D.pathname,P);D.origin===w.origin&&O!=null?g=O+D.search+D.hash:K=!0}catch{Kn(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let Y=Tw(g,{relative:o}),[z,ne,re]=iS(s,R),he=hS(g,{replace:h,state:m,target:p,preventScrollReset:E,relative:o,viewTransition:A});function C(w){e&&e(w),w.defaultPrevented||he(w)}let S=F.createElement("a",{...R,...re,href:L||Y,onClick:K||u?e:C,ref:oS(N,ne),target:p,"data-discover":!Q&&n==="render"?"true":void 0});return z&&!Q?F.createElement(F.Fragment,null,S,F.createElement(rS,{page:Y})):S});tf.displayName="Link";var uS=F.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:s="",end:o=!1,style:u,to:h,viewTransition:m,children:p,...g},E){let A=eu(h,{relative:g.relative}),R=ls(),N=F.useContext(Ef),{navigator:P,basename:Q}=F.useContext(Yn),L=N!=null&&yS(A)&&m===!0,K=P.encodeLocation?P.encodeLocation(A).pathname:A.pathname,Y=R.pathname,z=N&&N.navigation&&N.navigation.location?N.navigation.location.pathname:null;n||(Y=Y.toLowerCase(),z=z?z.toLowerCase():null,K=K.toLowerCase()),z&&Q&&(z=ns(z,Q)||z);const ne=K!=="/"&&K.endsWith("/")?K.length-1:K.length;let re=Y===K||!o&&Y.startsWith(K)&&Y.charAt(ne)==="/",he=z!=null&&(z===K||!o&&z.startsWith(K)&&z.charAt(K.length)==="/"),C={isActive:re,isPending:he,isTransitioning:L},S=re?e:void 0,w;typeof s=="function"?w=s(C):w=[s,re?"active":null,he?"pending":null,L?"transitioning":null].filter(Boolean).join(" ");let D=typeof u=="function"?u(C):u;return F.createElement(tf,{...g,"aria-current":S,className:w,ref:E,style:D,to:h,viewTransition:m},typeof p=="function"?p(C):p)});uS.displayName="NavLink";var cS=F.forwardRef(({discover:r="render",fetcherKey:e,navigate:n,reloadDocument:s,replace:o,state:u,method:h=qc,action:m,onSubmit:p,relative:g,preventScrollReset:E,viewTransition:A,...R},N)=>{let P=pS(),Q=gS(m,{relative:g}),L=h.toLowerCase()==="get"?"get":"post",K=typeof m=="string"&&kE.test(m),Y=z=>{if(p&&p(z),z.defaultPrevented)return;z.preventDefault();let ne=z.nativeEvent.submitter,re=(ne==null?void 0:ne.getAttribute("formmethod"))||h;P(ne||z.currentTarget,{fetcherKey:e,method:re,navigate:n,replace:o,state:u,relative:g,preventScrollReset:E,viewTransition:A})};return F.createElement("form",{ref:N,method:L,action:Q,onSubmit:s?p:Y,...R,"data-discover":!K&&r==="render"?"true":void 0})});cS.displayName="Form";function fS(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function PE(r){let e=F.useContext(ho);return nt(e,fS(r)),e}function hS(r,{target:e,replace:n,state:s,preventScrollReset:o,relative:u,viewTransition:h}={}){let m=Tf(),p=ls(),g=eu(r,{relative:u});return F.useCallback(E=>{if(Hw(E,e)){E.preventDefault();let A=n!==void 0?n:ql(p)===ql(g);m(r,{replace:A,state:s,preventScrollReset:o,relative:u,viewTransition:h})}},[p,m,g,n,s,e,r,o,u,h])}var dS=0,mS=()=>`__${String(++dS)}__`;function pS(){let{router:r}=PE("useSubmit"),{basename:e}=F.useContext(Yn),n=Ow();return F.useCallback(async(s,o={})=>{let{action:u,method:h,encType:m,formData:p,body:g}=Kw(s,e);if(o.navigate===!1){let E=o.fetcherKey||mS();await r.fetch(E,n,o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:g,formMethod:o.method||h,formEncType:o.encType||m,flushSync:o.flushSync})}else await r.navigate(o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:g,formMethod:o.method||h,formEncType:o.encType||m,replace:o.replace,state:o.state,fromRouteId:n,flushSync:o.flushSync,viewTransition:o.viewTransition})},[r,e,n])}function gS(r,{relative:e}={}){let{basename:n}=F.useContext(Yn),s=F.useContext(Xn);nt(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),u={...eu(r||".",{relative:e})},h=ls();if(r==null){u.search=h.search;let m=new URLSearchParams(u.search),p=m.getAll("index");if(p.some(E=>E==="")){m.delete("index"),p.filter(A=>A).forEach(A=>m.append("index",A));let E=m.toString();u.search=E?`?${E}`:""}}return(!r||r===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:Ji([n,u.pathname])),ql(u)}function yS(r,e={}){let n=F.useContext(IE);nt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=PE("useViewTransitionState"),o=eu(r,{relative:e.relative});if(!n.isTransitioning)return!1;let u=ns(n.currentLocation.pathname,s)||n.currentLocation.pathname,h=ns(n.nextLocation.pathname,s)||n.nextLocation.pathname;return ef(o.pathname,h)!=null||ef(o.pathname,u)!=null}new TextEncoder;var sv={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LE=function(r){const e=[];let n=0;for(let s=0;s<r.length;s++){let o=r.charCodeAt(s);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++s)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},_S=function(r){const e=[];let n=0,s=0;for(;n<r.length;){const o=r[n++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=r[n++];e[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=r[n++],h=r[n++],m=r[n++],p=((o&7)<<18|(u&63)<<12|(h&63)<<6|m&63)-65536;e[s++]=String.fromCharCode(55296+(p>>10)),e[s++]=String.fromCharCode(56320+(p&1023))}else{const u=r[n++],h=r[n++];e[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|h&63)}}return e.join("")},UE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<r.length;o+=3){const u=r[o],h=o+1<r.length,m=h?r[o+1]:0,p=o+2<r.length,g=p?r[o+2]:0,E=u>>2,A=(u&3)<<4|m>>4;let R=(m&15)<<2|g>>6,N=g&63;p||(N=64,h||(R=64)),s.push(n[E],n[A],n[R],n[N])}return s.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(LE(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):_S(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<r.length;){const u=n[r.charAt(o++)],m=o<r.length?n[r.charAt(o)]:0;++o;const g=o<r.length?n[r.charAt(o)]:64;++o;const A=o<r.length?n[r.charAt(o)]:64;if(++o,u==null||m==null||g==null||A==null)throw new vS;const R=u<<2|m>>4;if(s.push(R),g!==64){const N=m<<4&240|g>>2;if(s.push(N),A!==64){const P=g<<6&192|A;s.push(P)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class vS extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const ES=function(r){const e=LE(r);return UE.encodeByteArray(e,!0)},nf=function(r){return ES(r).replace(/\./g,"")},zE=function(r){try{return UE.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TS(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bS=()=>TS().__FIREBASE_DEFAULTS__,AS=()=>{if(typeof process>"u"||typeof sv>"u")return;const r=sv.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},wS=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&zE(r[1]);return e&&JSON.parse(e)},Af=()=>{try{return bS()||AS()||wS()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},jE=r=>{var e,n;return(n=(e=Af())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[r]},SS=r=>{const e=jE(r);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},BE=()=>{var r;return(r=Af())===null||r===void 0?void 0:r.config},qE=r=>{var e;return(e=Af())===null||e===void 0?void 0:e[`_${r}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RS{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IS(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",o=r.iat||0,u=r.sub||r.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const h=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}}},r);return[nf(JSON.stringify(n)),nf(JSON.stringify(h)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function CS(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Wt())}function DS(){var r;const e=(r=Af())===null||r===void 0?void 0:r.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function xS(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function NS(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function OS(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function MS(){const r=Wt();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function VS(){return!DS()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function kS(){try{return typeof indexedDB=="object"}catch{return!1}}function PS(){return new Promise((r,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(s),r(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{var u;e(((u=o.error)===null||u===void 0?void 0:u.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LS="FirebaseError";class or extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=LS,Object.setPrototypeOf(this,or.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,tu.prototype.create)}}class tu{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},o=`${this.service}/${e}`,u=this.errors[e],h=u?US(u,s):"Error",m=`${this.serviceName}: ${h} (${o}).`;return new or(o,m,s)}}function US(r,e){return r.replace(zS,(n,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const zS=/\{\$([^}]+)}/g;function jS(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function rf(r,e){if(r===e)return!0;const n=Object.keys(r),s=Object.keys(e);for(const o of n){if(!s.includes(o))return!1;const u=r[o],h=e[o];if(av(u)&&av(h)){if(!rf(u,h))return!1}else if(u!==h)return!1}for(const o of s)if(!n.includes(o))return!1;return!0}function av(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nu(r){const e=[];for(const[n,s]of Object.entries(r))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function Nl(r){const e={};return r.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[o,u]=s.split("=");e[decodeURIComponent(o)]=decodeURIComponent(u)}}),e}function Ol(r){const e=r.indexOf("?");if(!e)return"";const n=r.indexOf("#",e);return r.substring(e,n>0?n:void 0)}function BS(r,e){const n=new qS(r,e);return n.subscribe.bind(n)}class qS{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let o;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");HS(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:s},o.next===void 0&&(o.next=Wd),o.error===void 0&&(o.error=Wd),o.complete===void 0&&(o.complete=Wd);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function HS(r,e){if(typeof r!="object"||r===null)return!1;for(const n of e)if(n in r&&typeof r[n]=="function")return!0;return!1}function Wd(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cn(r){return r&&r._delegate?r._delegate:r}class Ks{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hs="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FS{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new RS;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const s=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(u){if(o)return null;throw u}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(KS(e))try{this.getOrInitializeService({instanceIdentifier:Hs})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(e=Hs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Hs){return this.instances.has(e)}getOptions(e=Hs){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[u,h]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);s===m&&h.resolve(o)}return o}onInit(e,n){var s;const o=this.normalizeInstanceIdentifier(n),u=(s=this.onInitCallbacks.get(o))!==null&&s!==void 0?s:new Set;u.add(e),this.onInitCallbacks.set(o,u);const h=this.instances.get(o);return h&&e(h,o),()=>{u.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const o of s)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:GS(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Hs){return this.component?this.component.multipleInstances?e:Hs:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function GS(r){return r===Hs?void 0:r}function KS(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QS{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new FS(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ne;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Ne||(Ne={}));const $S={debug:Ne.DEBUG,verbose:Ne.VERBOSE,info:Ne.INFO,warn:Ne.WARN,error:Ne.ERROR,silent:Ne.SILENT},YS=Ne.INFO,XS={[Ne.DEBUG]:"log",[Ne.VERBOSE]:"log",[Ne.INFO]:"info",[Ne.WARN]:"warn",[Ne.ERROR]:"error"},WS=(r,e,...n)=>{if(e<r.logLevel)return;const s=new Date().toISOString(),o=XS[e];if(o)console[o](`[${s}]  ${r.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Wm{constructor(e){this.name=e,this._logLevel=YS,this._logHandler=WS,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ne))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?$S[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ne.DEBUG,...e),this._logHandler(this,Ne.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ne.VERBOSE,...e),this._logHandler(this,Ne.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ne.INFO,...e),this._logHandler(this,Ne.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ne.WARN,...e),this._logHandler(this,Ne.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ne.ERROR,...e),this._logHandler(this,Ne.ERROR,...e)}}const ZS=(r,e)=>e.some(n=>r instanceof n);let ov,lv;function JS(){return ov||(ov=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function eR(){return lv||(lv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const HE=new WeakMap,dm=new WeakMap,FE=new WeakMap,Zd=new WeakMap,Zm=new WeakMap;function tR(r){const e=new Promise((n,s)=>{const o=()=>{r.removeEventListener("success",u),r.removeEventListener("error",h)},u=()=>{n(Wr(r.result)),o()},h=()=>{s(r.error),o()};r.addEventListener("success",u),r.addEventListener("error",h)});return e.then(n=>{n instanceof IDBCursor&&HE.set(n,r)}).catch(()=>{}),Zm.set(e,r),e}function nR(r){if(dm.has(r))return;const e=new Promise((n,s)=>{const o=()=>{r.removeEventListener("complete",u),r.removeEventListener("error",h),r.removeEventListener("abort",h)},u=()=>{n(),o()},h=()=>{s(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",u),r.addEventListener("error",h),r.addEventListener("abort",h)});dm.set(r,e)}let mm={get(r,e,n){if(r instanceof IDBTransaction){if(e==="done")return dm.get(r);if(e==="objectStoreNames")return r.objectStoreNames||FE.get(r);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Wr(r[e])},set(r,e,n){return r[e]=n,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function iR(r){mm=r(mm)}function rR(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=r.call(Jd(this),e,...n);return FE.set(s,e.sort?e.sort():[e]),Wr(s)}:eR().includes(r)?function(...e){return r.apply(Jd(this),e),Wr(HE.get(this))}:function(...e){return Wr(r.apply(Jd(this),e))}}function sR(r){return typeof r=="function"?rR(r):(r instanceof IDBTransaction&&nR(r),ZS(r,JS())?new Proxy(r,mm):r)}function Wr(r){if(r instanceof IDBRequest)return tR(r);if(Zd.has(r))return Zd.get(r);const e=sR(r);return e!==r&&(Zd.set(r,e),Zm.set(e,r)),e}const Jd=r=>Zm.get(r);function aR(r,e,{blocked:n,upgrade:s,blocking:o,terminated:u}={}){const h=indexedDB.open(r,e),m=Wr(h);return s&&h.addEventListener("upgradeneeded",p=>{s(Wr(h.result),p.oldVersion,p.newVersion,Wr(h.transaction),p)}),n&&h.addEventListener("blocked",p=>n(p.oldVersion,p.newVersion,p)),m.then(p=>{u&&p.addEventListener("close",()=>u()),o&&p.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),m}const oR=["get","getKey","getAll","getAllKeys","count"],lR=["put","add","delete","clear"],em=new Map;function uv(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(em.get(e))return em.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,o=lR.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(o||oR.includes(n)))return;const u=async function(h,...m){const p=this.transaction(h,o?"readwrite":"readonly");let g=p.store;return s&&(g=g.index(m.shift())),(await Promise.all([g[n](...m),o&&p.done]))[0]};return em.set(e,u),u}iR(r=>({...r,get:(e,n,s)=>uv(e,n)||r.get(e,n,s),has:(e,n)=>!!uv(e,n)||r.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uR{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(cR(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function cR(r){const e=r.getComponent();return(e==null?void 0:e.type)==="VERSION"}const pm="@firebase/app",cv="0.10.18";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nr=new Wm("@firebase/app"),fR="@firebase/app-compat",hR="@firebase/analytics-compat",dR="@firebase/analytics",mR="@firebase/app-check-compat",pR="@firebase/app-check",gR="@firebase/auth",yR="@firebase/auth-compat",_R="@firebase/database",vR="@firebase/data-connect",ER="@firebase/database-compat",TR="@firebase/functions",bR="@firebase/functions-compat",AR="@firebase/installations",wR="@firebase/installations-compat",SR="@firebase/messaging",RR="@firebase/messaging-compat",IR="@firebase/performance",CR="@firebase/performance-compat",DR="@firebase/remote-config",xR="@firebase/remote-config-compat",NR="@firebase/storage",OR="@firebase/storage-compat",MR="@firebase/firestore",VR="@firebase/vertexai",kR="@firebase/firestore-compat",PR="firebase",LR="11.2.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gm="[DEFAULT]",UR={[pm]:"fire-core",[fR]:"fire-core-compat",[dR]:"fire-analytics",[hR]:"fire-analytics-compat",[pR]:"fire-app-check",[mR]:"fire-app-check-compat",[gR]:"fire-auth",[yR]:"fire-auth-compat",[_R]:"fire-rtdb",[vR]:"fire-data-connect",[ER]:"fire-rtdb-compat",[TR]:"fire-fn",[bR]:"fire-fn-compat",[AR]:"fire-iid",[wR]:"fire-iid-compat",[SR]:"fire-fcm",[RR]:"fire-fcm-compat",[IR]:"fire-perf",[CR]:"fire-perf-compat",[DR]:"fire-rc",[xR]:"fire-rc-compat",[NR]:"fire-gcs",[OR]:"fire-gcs-compat",[MR]:"fire-fst",[kR]:"fire-fst-compat",[VR]:"fire-vertex","fire-js":"fire-js",[PR]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sf=new Map,zR=new Map,ym=new Map;function fv(r,e){try{r.container.addComponent(e)}catch(n){nr.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,n)}}function io(r){const e=r.name;if(ym.has(e))return nr.debug(`There were multiple attempts to register component ${e}.`),!1;ym.set(e,r);for(const n of sf.values())fv(n,r);for(const n of zR.values())fv(n,r);return!0}function Jm(r,e){const n=r.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),r.container.getProvider(e)}function gi(r){return r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jR={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Zr=new tu("app","Firebase",jR);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BR{constructor(e,n,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Ks("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Zr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const po=LR;function GE(r,e={}){let n=r;typeof e!="object"&&(e={name:e});const s=Object.assign({name:gm,automaticDataCollectionEnabled:!1},e),o=s.name;if(typeof o!="string"||!o)throw Zr.create("bad-app-name",{appName:String(o)});if(n||(n=BE()),!n)throw Zr.create("no-options");const u=sf.get(o);if(u){if(rf(n,u.options)&&rf(s,u.config))return u;throw Zr.create("duplicate-app",{appName:o})}const h=new QS(o);for(const p of ym.values())h.addComponent(p);const m=new BR(n,s,h);return sf.set(o,m),m}function KE(r=gm){const e=sf.get(r);if(!e&&r===gm&&BE())return GE();if(!e)throw Zr.create("no-app",{appName:r});return e}function Jr(r,e,n){var s;let o=(s=UR[r])!==null&&s!==void 0?s:r;n&&(o+=`-${n}`);const u=o.match(/\s|\//),h=e.match(/\s|\//);if(u||h){const m=[`Unable to register library "${o}" with version "${e}":`];u&&m.push(`library name "${o}" contains illegal characters (whitespace or "/")`),u&&h&&m.push("and"),h&&m.push(`version name "${e}" contains illegal characters (whitespace or "/")`),nr.warn(m.join(" "));return}io(new Ks(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qR="firebase-heartbeat-database",HR=1,Hl="firebase-heartbeat-store";let tm=null;function QE(){return tm||(tm=aR(qR,HR,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(Hl)}catch(n){console.warn(n)}}}}).catch(r=>{throw Zr.create("idb-open",{originalErrorMessage:r.message})})),tm}async function FR(r){try{const n=(await QE()).transaction(Hl),s=await n.objectStore(Hl).get($E(r));return await n.done,s}catch(e){if(e instanceof or)nr.warn(e.message);else{const n=Zr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});nr.warn(n.message)}}}async function hv(r,e){try{const s=(await QE()).transaction(Hl,"readwrite");await s.objectStore(Hl).put(e,$E(r)),await s.done}catch(n){if(n instanceof or)nr.warn(n.message);else{const s=Zr.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});nr.warn(s.message)}}}function $E(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GR=1024,KR=30*24*60*60*1e3;class QR{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new YR(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,n;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=dv();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(h=>h.date===u)?void 0:(this._heartbeatsCache.heartbeats.push({date:u,agent:o}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(h=>{const m=new Date(h.date).valueOf();return Date.now()-m<=KR}),this._storage.overwrite(this._heartbeatsCache))}catch(s){nr.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=dv(),{heartbeatsToSend:s,unsentEntries:o}=$R(this._heartbeatsCache.heartbeats),u=nf(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=n,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(n){return nr.warn(n),""}}}function dv(){return new Date().toISOString().substring(0,10)}function $R(r,e=GR){const n=[];let s=r.slice();for(const o of r){const u=n.find(h=>h.agent===o.agent);if(u){if(u.dates.push(o.date),mv(n)>e){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),mv(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class YR{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return kS()?PS().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await FR(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return hv(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return hv(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function mv(r){return nf(JSON.stringify({version:2,heartbeats:r})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XR(r){io(new Ks("platform-logger",e=>new uR(e),"PRIVATE")),io(new Ks("heartbeat",e=>new QR(e),"PRIVATE")),Jr(pm,cv,r),Jr(pm,cv,"esm2017"),Jr("fire-js","")}XR("");var pv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var es,YE;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(C,S){function w(){}w.prototype=S.prototype,C.D=S.prototype,C.prototype=new w,C.prototype.constructor=C,C.C=function(D,O,U){for(var x=Array(arguments.length-2),ot=2;ot<arguments.length;ot++)x[ot-2]=arguments[ot];return S.prototype[O].apply(D,x)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,n),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(C,S,w){w||(w=0);var D=Array(16);if(typeof S=="string")for(var O=0;16>O;++O)D[O]=S.charCodeAt(w++)|S.charCodeAt(w++)<<8|S.charCodeAt(w++)<<16|S.charCodeAt(w++)<<24;else for(O=0;16>O;++O)D[O]=S[w++]|S[w++]<<8|S[w++]<<16|S[w++]<<24;S=C.g[0],w=C.g[1],O=C.g[2];var U=C.g[3],x=S+(U^w&(O^U))+D[0]+3614090360&4294967295;S=w+(x<<7&4294967295|x>>>25),x=U+(O^S&(w^O))+D[1]+3905402710&4294967295,U=S+(x<<12&4294967295|x>>>20),x=O+(w^U&(S^w))+D[2]+606105819&4294967295,O=U+(x<<17&4294967295|x>>>15),x=w+(S^O&(U^S))+D[3]+3250441966&4294967295,w=O+(x<<22&4294967295|x>>>10),x=S+(U^w&(O^U))+D[4]+4118548399&4294967295,S=w+(x<<7&4294967295|x>>>25),x=U+(O^S&(w^O))+D[5]+1200080426&4294967295,U=S+(x<<12&4294967295|x>>>20),x=O+(w^U&(S^w))+D[6]+2821735955&4294967295,O=U+(x<<17&4294967295|x>>>15),x=w+(S^O&(U^S))+D[7]+4249261313&4294967295,w=O+(x<<22&4294967295|x>>>10),x=S+(U^w&(O^U))+D[8]+1770035416&4294967295,S=w+(x<<7&4294967295|x>>>25),x=U+(O^S&(w^O))+D[9]+2336552879&4294967295,U=S+(x<<12&4294967295|x>>>20),x=O+(w^U&(S^w))+D[10]+4294925233&4294967295,O=U+(x<<17&4294967295|x>>>15),x=w+(S^O&(U^S))+D[11]+2304563134&4294967295,w=O+(x<<22&4294967295|x>>>10),x=S+(U^w&(O^U))+D[12]+1804603682&4294967295,S=w+(x<<7&4294967295|x>>>25),x=U+(O^S&(w^O))+D[13]+4254626195&4294967295,U=S+(x<<12&4294967295|x>>>20),x=O+(w^U&(S^w))+D[14]+2792965006&4294967295,O=U+(x<<17&4294967295|x>>>15),x=w+(S^O&(U^S))+D[15]+1236535329&4294967295,w=O+(x<<22&4294967295|x>>>10),x=S+(O^U&(w^O))+D[1]+4129170786&4294967295,S=w+(x<<5&4294967295|x>>>27),x=U+(w^O&(S^w))+D[6]+3225465664&4294967295,U=S+(x<<9&4294967295|x>>>23),x=O+(S^w&(U^S))+D[11]+643717713&4294967295,O=U+(x<<14&4294967295|x>>>18),x=w+(U^S&(O^U))+D[0]+3921069994&4294967295,w=O+(x<<20&4294967295|x>>>12),x=S+(O^U&(w^O))+D[5]+3593408605&4294967295,S=w+(x<<5&4294967295|x>>>27),x=U+(w^O&(S^w))+D[10]+38016083&4294967295,U=S+(x<<9&4294967295|x>>>23),x=O+(S^w&(U^S))+D[15]+3634488961&4294967295,O=U+(x<<14&4294967295|x>>>18),x=w+(U^S&(O^U))+D[4]+3889429448&4294967295,w=O+(x<<20&4294967295|x>>>12),x=S+(O^U&(w^O))+D[9]+568446438&4294967295,S=w+(x<<5&4294967295|x>>>27),x=U+(w^O&(S^w))+D[14]+3275163606&4294967295,U=S+(x<<9&4294967295|x>>>23),x=O+(S^w&(U^S))+D[3]+4107603335&4294967295,O=U+(x<<14&4294967295|x>>>18),x=w+(U^S&(O^U))+D[8]+1163531501&4294967295,w=O+(x<<20&4294967295|x>>>12),x=S+(O^U&(w^O))+D[13]+2850285829&4294967295,S=w+(x<<5&4294967295|x>>>27),x=U+(w^O&(S^w))+D[2]+4243563512&4294967295,U=S+(x<<9&4294967295|x>>>23),x=O+(S^w&(U^S))+D[7]+1735328473&4294967295,O=U+(x<<14&4294967295|x>>>18),x=w+(U^S&(O^U))+D[12]+2368359562&4294967295,w=O+(x<<20&4294967295|x>>>12),x=S+(w^O^U)+D[5]+4294588738&4294967295,S=w+(x<<4&4294967295|x>>>28),x=U+(S^w^O)+D[8]+2272392833&4294967295,U=S+(x<<11&4294967295|x>>>21),x=O+(U^S^w)+D[11]+1839030562&4294967295,O=U+(x<<16&4294967295|x>>>16),x=w+(O^U^S)+D[14]+4259657740&4294967295,w=O+(x<<23&4294967295|x>>>9),x=S+(w^O^U)+D[1]+2763975236&4294967295,S=w+(x<<4&4294967295|x>>>28),x=U+(S^w^O)+D[4]+1272893353&4294967295,U=S+(x<<11&4294967295|x>>>21),x=O+(U^S^w)+D[7]+4139469664&4294967295,O=U+(x<<16&4294967295|x>>>16),x=w+(O^U^S)+D[10]+3200236656&4294967295,w=O+(x<<23&4294967295|x>>>9),x=S+(w^O^U)+D[13]+681279174&4294967295,S=w+(x<<4&4294967295|x>>>28),x=U+(S^w^O)+D[0]+3936430074&4294967295,U=S+(x<<11&4294967295|x>>>21),x=O+(U^S^w)+D[3]+3572445317&4294967295,O=U+(x<<16&4294967295|x>>>16),x=w+(O^U^S)+D[6]+76029189&4294967295,w=O+(x<<23&4294967295|x>>>9),x=S+(w^O^U)+D[9]+3654602809&4294967295,S=w+(x<<4&4294967295|x>>>28),x=U+(S^w^O)+D[12]+3873151461&4294967295,U=S+(x<<11&4294967295|x>>>21),x=O+(U^S^w)+D[15]+530742520&4294967295,O=U+(x<<16&4294967295|x>>>16),x=w+(O^U^S)+D[2]+3299628645&4294967295,w=O+(x<<23&4294967295|x>>>9),x=S+(O^(w|~U))+D[0]+4096336452&4294967295,S=w+(x<<6&4294967295|x>>>26),x=U+(w^(S|~O))+D[7]+1126891415&4294967295,U=S+(x<<10&4294967295|x>>>22),x=O+(S^(U|~w))+D[14]+2878612391&4294967295,O=U+(x<<15&4294967295|x>>>17),x=w+(U^(O|~S))+D[5]+4237533241&4294967295,w=O+(x<<21&4294967295|x>>>11),x=S+(O^(w|~U))+D[12]+1700485571&4294967295,S=w+(x<<6&4294967295|x>>>26),x=U+(w^(S|~O))+D[3]+2399980690&4294967295,U=S+(x<<10&4294967295|x>>>22),x=O+(S^(U|~w))+D[10]+4293915773&4294967295,O=U+(x<<15&4294967295|x>>>17),x=w+(U^(O|~S))+D[1]+2240044497&4294967295,w=O+(x<<21&4294967295|x>>>11),x=S+(O^(w|~U))+D[8]+1873313359&4294967295,S=w+(x<<6&4294967295|x>>>26),x=U+(w^(S|~O))+D[15]+4264355552&4294967295,U=S+(x<<10&4294967295|x>>>22),x=O+(S^(U|~w))+D[6]+2734768916&4294967295,O=U+(x<<15&4294967295|x>>>17),x=w+(U^(O|~S))+D[13]+1309151649&4294967295,w=O+(x<<21&4294967295|x>>>11),x=S+(O^(w|~U))+D[4]+4149444226&4294967295,S=w+(x<<6&4294967295|x>>>26),x=U+(w^(S|~O))+D[11]+3174756917&4294967295,U=S+(x<<10&4294967295|x>>>22),x=O+(S^(U|~w))+D[2]+718787259&4294967295,O=U+(x<<15&4294967295|x>>>17),x=w+(U^(O|~S))+D[9]+3951481745&4294967295,C.g[0]=C.g[0]+S&4294967295,C.g[1]=C.g[1]+(O+(x<<21&4294967295|x>>>11))&4294967295,C.g[2]=C.g[2]+O&4294967295,C.g[3]=C.g[3]+U&4294967295}s.prototype.u=function(C,S){S===void 0&&(S=C.length);for(var w=S-this.blockSize,D=this.B,O=this.h,U=0;U<S;){if(O==0)for(;U<=w;)o(this,C,U),U+=this.blockSize;if(typeof C=="string"){for(;U<S;)if(D[O++]=C.charCodeAt(U++),O==this.blockSize){o(this,D),O=0;break}}else for(;U<S;)if(D[O++]=C[U++],O==this.blockSize){o(this,D),O=0;break}}this.h=O,this.o+=S},s.prototype.v=function(){var C=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);C[0]=128;for(var S=1;S<C.length-8;++S)C[S]=0;var w=8*this.o;for(S=C.length-8;S<C.length;++S)C[S]=w&255,w/=256;for(this.u(C),C=Array(16),S=w=0;4>S;++S)for(var D=0;32>D;D+=8)C[w++]=this.g[S]>>>D&255;return C};function u(C,S){var w=m;return Object.prototype.hasOwnProperty.call(w,C)?w[C]:w[C]=S(C)}function h(C,S){this.h=S;for(var w=[],D=!0,O=C.length-1;0<=O;O--){var U=C[O]|0;D&&U==S||(w[O]=U,D=!1)}this.g=w}var m={};function p(C){return-128<=C&&128>C?u(C,function(S){return new h([S|0],0>S?-1:0)}):new h([C|0],0>C?-1:0)}function g(C){if(isNaN(C)||!isFinite(C))return A;if(0>C)return L(g(-C));for(var S=[],w=1,D=0;C>=w;D++)S[D]=C/w|0,w*=4294967296;return new h(S,0)}function E(C,S){if(C.length==0)throw Error("number format error: empty string");if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(C.charAt(0)=="-")return L(E(C.substring(1),S));if(0<=C.indexOf("-"))throw Error('number format error: interior "-" character');for(var w=g(Math.pow(S,8)),D=A,O=0;O<C.length;O+=8){var U=Math.min(8,C.length-O),x=parseInt(C.substring(O,O+U),S);8>U?(U=g(Math.pow(S,U)),D=D.j(U).add(g(x))):(D=D.j(w),D=D.add(g(x)))}return D}var A=p(0),R=p(1),N=p(16777216);r=h.prototype,r.m=function(){if(Q(this))return-L(this).m();for(var C=0,S=1,w=0;w<this.g.length;w++){var D=this.i(w);C+=(0<=D?D:4294967296+D)*S,S*=4294967296}return C},r.toString=function(C){if(C=C||10,2>C||36<C)throw Error("radix out of range: "+C);if(P(this))return"0";if(Q(this))return"-"+L(this).toString(C);for(var S=g(Math.pow(C,6)),w=this,D="";;){var O=ne(w,S).g;w=K(w,O.j(S));var U=((0<w.g.length?w.g[0]:w.h)>>>0).toString(C);if(w=O,P(w))return U+D;for(;6>U.length;)U="0"+U;D=U+D}},r.i=function(C){return 0>C?0:C<this.g.length?this.g[C]:this.h};function P(C){if(C.h!=0)return!1;for(var S=0;S<C.g.length;S++)if(C.g[S]!=0)return!1;return!0}function Q(C){return C.h==-1}r.l=function(C){return C=K(this,C),Q(C)?-1:P(C)?0:1};function L(C){for(var S=C.g.length,w=[],D=0;D<S;D++)w[D]=~C.g[D];return new h(w,~C.h).add(R)}r.abs=function(){return Q(this)?L(this):this},r.add=function(C){for(var S=Math.max(this.g.length,C.g.length),w=[],D=0,O=0;O<=S;O++){var U=D+(this.i(O)&65535)+(C.i(O)&65535),x=(U>>>16)+(this.i(O)>>>16)+(C.i(O)>>>16);D=x>>>16,U&=65535,x&=65535,w[O]=x<<16|U}return new h(w,w[w.length-1]&-2147483648?-1:0)};function K(C,S){return C.add(L(S))}r.j=function(C){if(P(this)||P(C))return A;if(Q(this))return Q(C)?L(this).j(L(C)):L(L(this).j(C));if(Q(C))return L(this.j(L(C)));if(0>this.l(N)&&0>C.l(N))return g(this.m()*C.m());for(var S=this.g.length+C.g.length,w=[],D=0;D<2*S;D++)w[D]=0;for(D=0;D<this.g.length;D++)for(var O=0;O<C.g.length;O++){var U=this.i(D)>>>16,x=this.i(D)&65535,ot=C.i(O)>>>16,Je=C.i(O)&65535;w[2*D+2*O]+=x*Je,Y(w,2*D+2*O),w[2*D+2*O+1]+=U*Je,Y(w,2*D+2*O+1),w[2*D+2*O+1]+=x*ot,Y(w,2*D+2*O+1),w[2*D+2*O+2]+=U*ot,Y(w,2*D+2*O+2)}for(D=0;D<S;D++)w[D]=w[2*D+1]<<16|w[2*D];for(D=S;D<2*S;D++)w[D]=0;return new h(w,0)};function Y(C,S){for(;(C[S]&65535)!=C[S];)C[S+1]+=C[S]>>>16,C[S]&=65535,S++}function z(C,S){this.g=C,this.h=S}function ne(C,S){if(P(S))throw Error("division by zero");if(P(C))return new z(A,A);if(Q(C))return S=ne(L(C),S),new z(L(S.g),L(S.h));if(Q(S))return S=ne(C,L(S)),new z(L(S.g),S.h);if(30<C.g.length){if(Q(C)||Q(S))throw Error("slowDivide_ only works with positive integers.");for(var w=R,D=S;0>=D.l(C);)w=re(w),D=re(D);var O=he(w,1),U=he(D,1);for(D=he(D,2),w=he(w,2);!P(D);){var x=U.add(D);0>=x.l(C)&&(O=O.add(w),U=x),D=he(D,1),w=he(w,1)}return S=K(C,O.j(S)),new z(O,S)}for(O=A;0<=C.l(S);){for(w=Math.max(1,Math.floor(C.m()/S.m())),D=Math.ceil(Math.log(w)/Math.LN2),D=48>=D?1:Math.pow(2,D-48),U=g(w),x=U.j(S);Q(x)||0<x.l(C);)w-=D,U=g(w),x=U.j(S);P(U)&&(U=R),O=O.add(U),C=K(C,x)}return new z(O,C)}r.A=function(C){return ne(this,C).h},r.and=function(C){for(var S=Math.max(this.g.length,C.g.length),w=[],D=0;D<S;D++)w[D]=this.i(D)&C.i(D);return new h(w,this.h&C.h)},r.or=function(C){for(var S=Math.max(this.g.length,C.g.length),w=[],D=0;D<S;D++)w[D]=this.i(D)|C.i(D);return new h(w,this.h|C.h)},r.xor=function(C){for(var S=Math.max(this.g.length,C.g.length),w=[],D=0;D<S;D++)w[D]=this.i(D)^C.i(D);return new h(w,this.h^C.h)};function re(C){for(var S=C.g.length+1,w=[],D=0;D<S;D++)w[D]=C.i(D)<<1|C.i(D-1)>>>31;return new h(w,C.h)}function he(C,S){var w=S>>5;S%=32;for(var D=C.g.length-w,O=[],U=0;U<D;U++)O[U]=0<S?C.i(U+w)>>>S|C.i(U+w+1)<<32-S:C.i(U+w);return new h(O,C.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,YE=s,h.prototype.add=h.prototype.add,h.prototype.multiply=h.prototype.j,h.prototype.modulo=h.prototype.A,h.prototype.compare=h.prototype.l,h.prototype.toNumber=h.prototype.m,h.prototype.toString=h.prototype.toString,h.prototype.getBits=h.prototype.i,h.fromNumber=g,h.fromString=E,es=h}).apply(typeof pv<"u"?pv:typeof self<"u"?self:typeof window<"u"?window:{});var Pc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var XE,Ml,WE,Fc,_m,ZE,JE,eT;(function(){var r,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,y,_){return c==Array.prototype||c==Object.prototype||(c[y]=_.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Pc=="object"&&Pc];for(var y=0;y<c.length;++y){var _=c[y];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var s=n(this);function o(c,y){if(y)e:{var _=s;c=c.split(".");for(var b=0;b<c.length-1;b++){var B=c[b];if(!(B in _))break e;_=_[B]}c=c[c.length-1],b=_[c],y=y(b),y!=b&&y!=null&&e(_,c,{configurable:!0,writable:!0,value:y})}}function u(c,y){c instanceof String&&(c+="");var _=0,b=!1,B={next:function(){if(!b&&_<c.length){var $=_++;return{value:y($,c[$]),done:!1}}return b=!0,{done:!0,value:void 0}}};return B[Symbol.iterator]=function(){return B},B}o("Array.prototype.values",function(c){return c||function(){return u(this,function(y,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var h=h||{},m=this||self;function p(c){var y=typeof c;return y=y!="object"?y:c?Array.isArray(c)?"array":y:"null",y=="array"||y=="object"&&typeof c.length=="number"}function g(c){var y=typeof c;return y=="object"&&c!=null||y=="function"}function E(c,y,_){return c.call.apply(c.bind,arguments)}function A(c,y,_){if(!c)throw Error();if(2<arguments.length){var b=Array.prototype.slice.call(arguments,2);return function(){var B=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(B,b),c.apply(y,B)}}return function(){return c.apply(y,arguments)}}function R(c,y,_){return R=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?E:A,R.apply(null,arguments)}function N(c,y){var _=Array.prototype.slice.call(arguments,1);return function(){var b=_.slice();return b.push.apply(b,arguments),c.apply(this,b)}}function P(c,y){function _(){}_.prototype=y.prototype,c.aa=y.prototype,c.prototype=new _,c.prototype.constructor=c,c.Qb=function(b,B,$){for(var se=Array(arguments.length-2),ke=2;ke<arguments.length;ke++)se[ke-2]=arguments[ke];return y.prototype[B].apply(b,se)}}function Q(c){const y=c.length;if(0<y){const _=Array(y);for(let b=0;b<y;b++)_[b]=c[b];return _}return[]}function L(c,y){for(let _=1;_<arguments.length;_++){const b=arguments[_];if(p(b)){const B=c.length||0,$=b.length||0;c.length=B+$;for(let se=0;se<$;se++)c[B+se]=b[se]}else c.push(b)}}class K{constructor(y,_){this.i=y,this.j=_,this.h=0,this.g=null}get(){let y;return 0<this.h?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function Y(c){return/^[\s\xa0]*$/.test(c)}function z(){var c=m.navigator;return c&&(c=c.userAgent)?c:""}function ne(c){return ne[" "](c),c}ne[" "]=function(){};var re=z().indexOf("Gecko")!=-1&&!(z().toLowerCase().indexOf("webkit")!=-1&&z().indexOf("Edge")==-1)&&!(z().indexOf("Trident")!=-1||z().indexOf("MSIE")!=-1)&&z().indexOf("Edge")==-1;function he(c,y,_){for(const b in c)y.call(_,c[b],b,c)}function C(c,y){for(const _ in c)y.call(void 0,c[_],_,c)}function S(c){const y={};for(const _ in c)y[_]=c[_];return y}const w="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function D(c,y){let _,b;for(let B=1;B<arguments.length;B++){b=arguments[B];for(_ in b)c[_]=b[_];for(let $=0;$<w.length;$++)_=w[$],Object.prototype.hasOwnProperty.call(b,_)&&(c[_]=b[_])}}function O(c){var y=1;c=c.split(":");const _=[];for(;0<y&&c.length;)_.push(c.shift()),y--;return c.length&&_.push(c.join(":")),_}function U(c){m.setTimeout(()=>{throw c},0)}function x(){var c=He;let y=null;return c.g&&(y=c.g,c.g=c.g.next,c.g||(c.h=null),y.next=null),y}class ot{constructor(){this.h=this.g=null}add(y,_){const b=Je.get();b.set(y,_),this.h?this.h.next=b:this.g=b,this.h=b}}var Je=new K(()=>new ae,c=>c.reset());class ae{constructor(){this.next=this.g=this.h=null}set(y,_){this.h=y,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let _e,de=!1,He=new ot,M=()=>{const c=m.Promise.resolve(void 0);_e=()=>{c.then(ie)}};var ie=()=>{for(var c;c=x();){try{c.h.call(c.g)}catch(_){U(_)}var y=Je;y.j(c),100>y.h&&(y.h++,c.next=y.g,y.g=c)}de=!1};function pe(){this.s=this.s,this.C=this.C}pe.prototype.s=!1,pe.prototype.ma=function(){this.s||(this.s=!0,this.N())},pe.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function oe(c,y){this.type=c,this.g=this.target=y,this.defaultPrevented=!1}oe.prototype.h=function(){this.defaultPrevented=!0};var le=function(){if(!m.addEventListener||!Object.defineProperty)return!1;var c=!1,y=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const _=()=>{};m.addEventListener("test",_,y),m.removeEventListener("test",_,y)}catch{}return c}();function Ie(c,y){if(oe.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var _=this.type=c.type,b=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=y,y=c.relatedTarget){if(re){e:{try{ne(y.nodeName);var B=!0;break e}catch{}B=!1}B||(y=null)}}else _=="mouseover"?y=c.fromElement:_=="mouseout"&&(y=c.toElement);this.relatedTarget=y,b?(this.clientX=b.clientX!==void 0?b.clientX:b.pageX,this.clientY=b.clientY!==void 0?b.clientY:b.pageY,this.screenX=b.screenX||0,this.screenY=b.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:Se[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&Ie.aa.h.call(this)}}P(Ie,oe);var Se={2:"touch",3:"pen",4:"mouse"};Ie.prototype.h=function(){Ie.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var gt="closure_listenable_"+(1e6*Math.random()|0),ze=0;function lt(c,y,_,b,B){this.listener=c,this.proxy=null,this.src=y,this.type=_,this.capture=!!b,this.ha=B,this.key=++ze,this.da=this.fa=!1}function Ke(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Zt(c){this.src=c,this.g={},this.h=0}Zt.prototype.add=function(c,y,_,b,B){var $=c.toString();c=this.g[$],c||(c=this.g[$]=[],this.h++);var se=En(c,y,b,B);return-1<se?(y=c[se],_||(y.fa=!1)):(y=new lt(y,this.src,$,!!b,B),y.fa=_,c.push(y)),y};function Ai(c,y){var _=y.type;if(_ in c.g){var b=c.g[_],B=Array.prototype.indexOf.call(b,y,void 0),$;($=0<=B)&&Array.prototype.splice.call(b,B,1),$&&(Ke(y),c.g[_].length==0&&(delete c.g[_],c.h--))}}function En(c,y,_,b){for(var B=0;B<c.length;++B){var $=c[B];if(!$.da&&$.listener==y&&$.capture==!!_&&$.ha==b)return B}return-1}var lr="closure_lm_"+(1e6*Math.random()|0),ur={};function wi(c,y,_,b,B){if(Array.isArray(y)){for(var $=0;$<y.length;$++)wi(c,y[$],_,b,B);return null}return _=mu(_),c&&c[gt]?c.K(y,_,g(b)?!!b.capture:!1,B):bo(c,y,_,!1,b,B)}function bo(c,y,_,b,B,$){if(!y)throw Error("Invalid event type");var se=g(B)?!!B.capture:!!B,ke=Ao(c);if(ke||(c[lr]=ke=new Zt(c)),_=ke.add(y,_,b,se,$),_.proxy)return _;if(b=ra(),_.proxy=b,b.src=c,b.listener=_,c.addEventListener)le||(B=se),B===void 0&&(B=!1),c.addEventListener(y.toString(),b,B);else if(c.attachEvent)c.attachEvent(aa(y.toString()),b);else if(c.addListener&&c.removeListener)c.addListener(b);else throw Error("addEventListener and attachEvent are unavailable.");return _}function ra(){function c(_){return y.call(c.src,c.listener,_)}const y=Gf;return c}function sa(c,y,_,b,B){if(Array.isArray(y))for(var $=0;$<y.length;$++)sa(c,y[$],_,b,B);else b=g(b)?!!b.capture:!!b,_=mu(_),c&&c[gt]?(c=c.i,y=String(y).toString(),y in c.g&&($=c.g[y],_=En($,_,b,B),-1<_&&(Ke($[_]),Array.prototype.splice.call($,_,1),$.length==0&&(delete c.g[y],c.h--)))):c&&(c=Ao(c))&&(y=c.g[y.toString()],c=-1,y&&(c=En(y,_,b,B)),(_=-1<c?y[c]:null)&&fs(_))}function fs(c){if(typeof c!="number"&&c&&!c.da){var y=c.src;if(y&&y[gt])Ai(y.i,c);else{var _=c.type,b=c.proxy;y.removeEventListener?y.removeEventListener(_,b,c.capture):y.detachEvent?y.detachEvent(aa(_),b):y.addListener&&y.removeListener&&y.removeListener(b),(_=Ao(y))?(Ai(_,c),_.h==0&&(_.src=null,y[lr]=null)):Ke(c)}}}function aa(c){return c in ur?ur[c]:ur[c]="on"+c}function Gf(c,y){if(c.da)c=!0;else{y=new Ie(y,this);var _=c.listener,b=c.ha||c.src;c.fa&&fs(c),c=_.call(b,y)}return c}function Ao(c){return c=c[lr],c instanceof Zt?c:null}var an="__closure_events_fn_"+(1e9*Math.random()>>>0);function mu(c){return typeof c=="function"?c:(c[an]||(c[an]=function(y){return c.handleEvent(y)}),c[an])}function bt(){pe.call(this),this.i=new Zt(this),this.M=this,this.F=null}P(bt,pe),bt.prototype[gt]=!0,bt.prototype.removeEventListener=function(c,y,_,b){sa(this,c,y,_,b)};function xt(c,y){var _,b=c.F;if(b)for(_=[];b;b=b.F)_.push(b);if(c=c.M,b=y.type||y,typeof y=="string")y=new oe(y,c);else if(y instanceof oe)y.target=y.target||c;else{var B=y;y=new oe(b,c),D(y,B)}if(B=!0,_)for(var $=_.length-1;0<=$;$--){var se=y.g=_[$];B=Si(se,b,!0,y)&&B}if(se=y.g=c,B=Si(se,b,!0,y)&&B,B=Si(se,b,!1,y)&&B,_)for($=0;$<_.length;$++)se=y.g=_[$],B=Si(se,b,!1,y)&&B}bt.prototype.N=function(){if(bt.aa.N.call(this),this.i){var c=this.i,y;for(y in c.g){for(var _=c.g[y],b=0;b<_.length;b++)Ke(_[b]);delete c.g[y],c.h--}}this.F=null},bt.prototype.K=function(c,y,_,b){return this.i.add(String(c),y,!1,_,b)},bt.prototype.L=function(c,y,_,b){return this.i.add(String(c),y,!0,_,b)};function Si(c,y,_,b){if(y=c.i.g[String(y)],!y)return!0;y=y.concat();for(var B=!0,$=0;$<y.length;++$){var se=y[$];if(se&&!se.da&&se.capture==_){var ke=se.listener,wt=se.ha||se.src;se.fa&&Ai(c.i,se),B=ke.call(wt,b)!==!1&&B}}return B&&!b.defaultPrevented}function pu(c,y,_){if(typeof c=="function")_&&(c=R(c,_));else if(c&&typeof c.handleEvent=="function")c=R(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(y)?-1:m.setTimeout(c,y||0)}function wo(c){c.g=pu(()=>{c.g=null,c.i&&(c.i=!1,wo(c))},c.l);const y=c.h;c.h=null,c.m.apply(null,y)}class Kf extends pe{constructor(y,_){super(),this.m=y,this.l=_,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:wo(this)}N(){super.N(),this.g&&(m.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function hs(c){pe.call(this),this.h=c,this.g={}}P(hs,pe);var cr=[];function Gt(c){he(c.g,function(y,_){this.g.hasOwnProperty(_)&&fs(y)},c),c.g={}}hs.prototype.N=function(){hs.aa.N.call(this),Gt(this)},hs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var So=m.JSON.stringify,Wn=m.JSON.parse,Jt=class{stringify(c){return m.JSON.stringify(c,void 0)}parse(c){return m.JSON.parse(c,void 0)}};function Ro(){}Ro.prototype.h=null;function gu(c){return c.h||(c.h=c.i())}function yu(){}var Zn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function fr(){oe.call(this,"d")}P(fr,oe);function Un(){oe.call(this,"c")}P(Un,oe);var Tn={},hr=null;function oa(){return hr=hr||new bt}Tn.La="serverreachability";function Io(c){oe.call(this,Tn.La,c)}P(Io,oe);function dr(c){const y=oa();xt(y,new Io(y))}Tn.STAT_EVENT="statevent";function la(c,y){oe.call(this,Tn.STAT_EVENT,c),this.stat=y}P(la,oe);function dt(c){const y=oa();xt(y,new la(y,c))}Tn.Ma="timingevent";function _u(c,y){oe.call(this,Tn.Ma,c),this.size=y}P(_u,oe);function mr(c,y){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return m.setTimeout(function(){c()},y)}function pr(){this.g=!0}pr.prototype.xa=function(){this.g=!1};function vu(c,y,_,b,B,$){c.info(function(){if(c.g)if($)for(var se="",ke=$.split("&"),wt=0;wt<ke.length;wt++){var Pe=ke[wt].split("=");if(1<Pe.length){var Mt=Pe[0];Pe=Pe[1];var St=Mt.split("_");se=2<=St.length&&St[1]=="type"?se+(Mt+"="+Pe+"&"):se+(Mt+"=redacted&")}}else se=null;else se=$;return"XMLHTTP REQ ("+b+") [attempt "+B+"]: "+y+`
`+_+`
`+se})}function Eu(c,y,_,b,B,$,se){c.info(function(){return"XMLHTTP RESP ("+b+") [ attempt "+B+"]: "+y+`
`+_+`
`+$+" "+se})}function gr(c,y,_,b){c.info(function(){return"XMLHTTP TEXT ("+y+"): "+Nt(c,_)+(b?" "+b:"")})}function Jn(c,y){c.info(function(){return"TIMEOUT: "+y})}pr.prototype.info=function(){};function Nt(c,y){if(!c.g)return y;if(!y)return null;try{var _=JSON.parse(y);if(_){for(c=0;c<_.length;c++)if(Array.isArray(_[c])){var b=_[c];if(!(2>b.length)){var B=b[1];if(Array.isArray(B)&&!(1>B.length)){var $=B[0];if($!="noop"&&$!="stop"&&$!="close")for(var se=1;se<B.length;se++)B[se]=""}}}}return So(_)}catch{return y}}var At={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Ri={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},ds;function ua(){}P(ua,Ro),ua.prototype.g=function(){return new XMLHttpRequest},ua.prototype.i=function(){return{}},ds=new ua;function ei(c,y,_,b){this.j=c,this.i=y,this.l=_,this.R=b||1,this.U=new hs(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Co}function Co(){this.i=null,this.g="",this.h=!1}var yr={},ms={};function zn(c,y,_){c.L=1,c.v=ys(ut(y)),c.m=_,c.P=!0,Ii(c,null)}function Ii(c,y){c.F=Date.now(),it(c),c.A=ut(c.v);var _=c.A,b=c.R;Array.isArray(b)||(b=[String(b)]),xi(_.i,"t",b),c.C=0,_=c.j.J,c.h=new Co,c.g=Vu(c.j,_?y:null,!c.m),0<c.O&&(c.M=new Kf(R(c.Y,c,c.g),c.O)),y=c.U,_=c.g,b=c.ca;var B="readystatechange";Array.isArray(B)||(B&&(cr[0]=B.toString()),B=cr);for(var $=0;$<B.length;$++){var se=wi(_,B[$],b||y.handleEvent,!1,y.h||y);if(!se)break;y.g[se.key]=se}y=c.H?S(c.H):{},c.m?(c.u||(c.u="POST"),y["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,y)):(c.u="GET",c.g.ea(c.A,c.u,null,y)),dr(),vu(c.i,c.u,c.A,c.l,c.R,c.m)}ei.prototype.ca=function(c){c=c.target;const y=this.M;y&&Rn(c)==3?y.j():this.Y(c)},ei.prototype.Y=function(c){try{if(c==this.g)e:{const St=Rn(this.g);var y=this.g.Ba();const Vi=this.g.Z();if(!(3>St)&&(St!=3||this.g&&(this.h.h||this.g.oa()||Ru(this.g)))){this.J||St!=4||y==7||(y==8||0>=Vi?dr(3):dr(2)),ca(this);var _=this.g.Z();this.X=_;t:if(_r(this)){var b=Ru(this.g);c="";var B=b.length,$=Rn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){on(this),fn(this);var se="";break t}this.h.i=new m.TextDecoder}for(y=0;y<B;y++)this.h.h=!0,c+=this.h.i.decode(b[y],{stream:!($&&y==B-1)});b.length=0,this.h.g+=c,this.C=0,se=this.h.g}else se=this.g.oa();if(this.o=_==200,Eu(this.i,this.u,this.A,this.l,this.R,St,_),this.o){if(this.T&&!this.K){t:{if(this.g){var ke,wt=this.g;if((ke=wt.g?wt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Y(ke)){var Pe=ke;break t}}Pe=null}if(_=Pe)gr(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,hn(this,_);else{this.o=!1,this.s=3,dt(12),on(this),fn(this);break e}}if(this.P){_=!0;let Ut;for(;!this.J&&this.C<se.length;)if(Ut=vr(this,se),Ut==ms){St==4&&(this.s=4,dt(14),_=!1),gr(this.i,this.l,null,"[Incomplete Response]");break}else if(Ut==yr){this.s=4,dt(15),gr(this.i,this.l,se,"[Invalid Chunk]"),_=!1;break}else gr(this.i,this.l,Ut,null),hn(this,Ut);if(_r(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),St!=4||se.length!=0||this.h.h||(this.s=1,dt(16),_=!1),this.o=this.o&&_,!_)gr(this.i,this.l,se,"[Invalid Chunked Response]"),on(this),fn(this);else if(0<se.length&&!this.W){this.W=!0;var Mt=this.j;Mt.g==this&&Mt.ba&&!Mt.M&&(Mt.j.info("Great, no buffering proxy detected. Bytes received: "+se.length),ws(Mt),Mt.M=!0,dt(11))}}else gr(this.i,this.l,se,null),hn(this,se);St==4&&on(this),this.o&&!this.J&&(St==4?Nu(this.j,this):(this.o=!1,it(this)))}else Zf(this.g),_==400&&0<se.indexOf("Unknown SID")?(this.s=3,dt(12)):(this.s=0,dt(13)),on(this),fn(this)}}}catch{}finally{}};function _r(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function vr(c,y){var _=c.C,b=y.indexOf(`
`,_);return b==-1?ms:(_=Number(y.substring(_,b)),isNaN(_)?yr:(b+=1,b+_>y.length?ms:(y=y.slice(b,b+_),c.C=b+_,y)))}ei.prototype.cancel=function(){this.J=!0,on(this)};function it(c){c.S=Date.now()+c.I,Do(c,c.I)}function Do(c,y){if(c.B!=null)throw Error("WatchDog timer not null");c.B=mr(R(c.ba,c),y)}function ca(c){c.B&&(m.clearTimeout(c.B),c.B=null)}ei.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(Jn(this.i,this.A),this.L!=2&&(dr(),dt(17)),on(this),this.s=2,fn(this)):Do(this,this.S-c)};function fn(c){c.j.G==0||c.J||Nu(c.j,c)}function on(c){ca(c);var y=c.M;y&&typeof y.ma=="function"&&y.ma(),c.M=null,Gt(c.U),c.g&&(y=c.g,c.g=null,y.abort(),y.ma())}function hn(c,y){try{var _=c.j;if(_.G!=0&&(_.g==c||Er(_.h,c))){if(!c.K&&Er(_.h,c)&&_.G==3){try{var b=_.Da.g.parse(y)}catch{b=null}if(Array.isArray(b)&&b.length==3){var B=b;if(B[0]==0){e:if(!_.u){if(_.g)if(_.g.F+3e3<c.F)Ea(_),_a(_);else break e;jo(_),dt(18)}}else _.za=B[1],0<_.za-_.T&&37500>B[2]&&_.F&&_.v==0&&!_.C&&(_.C=mr(R(_.Za,_),6e3));if(1>=Tu(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else Mi(_,11)}else if((c.K||_.g==c)&&Ea(_),!Y(y))for(B=_.Da.g.parse(y),y=0;y<B.length;y++){let Pe=B[y];if(_.T=Pe[0],Pe=Pe[1],_.G==2)if(Pe[0]=="c"){_.K=Pe[1],_.ia=Pe[2];const Mt=Pe[3];Mt!=null&&(_.la=Mt,_.j.info("VER="+_.la));const St=Pe[4];St!=null&&(_.Aa=St,_.j.info("SVER="+_.Aa));const Vi=Pe[5];Vi!=null&&typeof Vi=="number"&&0<Vi&&(b=1.5*Vi,_.L=b,_.j.info("backChannelRequestTimeoutMs_="+b)),b=_;const Ut=c.g;if(Ut){const oi=Ut.g?Ut.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(oi){var $=b.h;$.g||oi.indexOf("spdy")==-1&&oi.indexOf("quic")==-1&&oi.indexOf("h2")==-1||($.j=$.l,$.g=new Set,$.h&&(Tr($,$.h),$.h=null))}if(b.D){const qo=Ut.g?Ut.g.getResponseHeader("X-HTTP-Session-Id"):null;qo&&(b.ya=qo,je(b.I,b.D,qo))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-c.F,_.j.info("Handshake RTT: "+_.R+"ms")),b=_;var se=c;if(b.qa=Mu(b,b.J?b.ia:null,b.W),se.K){bn(b.h,se);var ke=se,wt=b.L;wt&&(ke.I=wt),ke.B&&(ca(ke),it(ke)),b.g=se}else Du(b);0<_.i.length&&va(_)}else Pe[0]!="stop"&&Pe[0]!="close"||Mi(_,7);else _.G==3&&(Pe[0]=="stop"||Pe[0]=="close"?Pe[0]=="stop"?Mi(_,7):Uo(_):Pe[0]!="noop"&&_.l&&_.l.ta(Pe),_.v=0)}}dr(4)}catch{}}var Qf=class{constructor(c,y){this.g=c,this.map=y}};function xo(c){this.l=c||10,m.PerformanceNavigationTiming?(c=m.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(m.chrome&&m.chrome.loadTimes&&m.chrome.loadTimes()&&m.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function No(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function Tu(c){return c.h?1:c.g?c.g.size:0}function Er(c,y){return c.h?c.h==y:c.g?c.g.has(y):!1}function Tr(c,y){c.g?c.g.add(y):c.h=y}function bn(c,y){c.h&&c.h==y?c.h=null:c.g&&c.g.has(y)&&c.g.delete(y)}xo.prototype.cancel=function(){if(this.i=en(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function en(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let y=c.i;for(const _ of c.g.values())y=y.concat(_.D);return y}return Q(c.i)}function bu(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(p(c)){for(var y=[],_=c.length,b=0;b<_;b++)y.push(c[b]);return y}y=[],_=0;for(b in c)y[_++]=c[b];return y}function $f(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(p(c)||typeof c=="string"){var y=[];c=c.length;for(var _=0;_<c;_++)y.push(_);return y}y=[],_=0;for(const b in c)y[_++]=b;return y}}}function ps(c,y){if(c.forEach&&typeof c.forEach=="function")c.forEach(y,void 0);else if(p(c)||typeof c=="string")Array.prototype.forEach.call(c,y,void 0);else for(var _=$f(c),b=bu(c),B=b.length,$=0;$<B;$++)y.call(void 0,b[$],_&&_[$],c)}var Oo=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function fa(c,y){if(c){c=c.split("&");for(var _=0;_<c.length;_++){var b=c[_].indexOf("="),B=null;if(0<=b){var $=c[_].substring(0,b);B=c[_].substring(b+1)}else $=c[_];y($,B?decodeURIComponent(B.replace(/\+/g," ")):"")}}}function Ci(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof Ci){this.h=c.h,br(this,c.j),this.o=c.o,this.g=c.g,gs(this,c.s),this.l=c.l;var y=c.i,_=new ti;_.i=y.i,y.g&&(_.g=new Map(y.g),_.h=y.h),ha(this,_),this.m=c.m}else c&&(y=String(c).match(Oo))?(this.h=!1,br(this,y[1]||"",!0),this.o=Ar(y[2]||""),this.g=Ar(y[3]||"",!0),gs(this,y[4]),this.l=Ar(y[5]||"",!0),ha(this,y[6]||"",!0),this.m=Ar(y[7]||"")):(this.h=!1,this.i=new ti(null,this.h))}Ci.prototype.toString=function(){var c=[],y=this.j;y&&c.push(An(y,Mo,!0),":");var _=this.g;return(_||y=="file")&&(c.push("//"),(y=this.o)&&c.push(An(y,Mo,!0),"@"),c.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&c.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&c.push("/"),c.push(An(_,_.charAt(0)=="/"?Vo:Au,!0))),(_=this.i.toString())&&c.push("?",_),(_=this.m)&&c.push("#",An(_,Wf)),c.join("")};function ut(c){return new Ci(c)}function br(c,y,_){c.j=_?Ar(y,!0):y,c.j&&(c.j=c.j.replace(/:$/,""))}function gs(c,y){if(y){if(y=Number(y),isNaN(y)||0>y)throw Error("Bad port number "+y);c.s=y}else c.s=null}function ha(c,y,_){y instanceof ti?(c.i=y,ko(c.i,c.h)):(_||(y=An(y,Xf)),c.i=new ti(y,c.h))}function je(c,y,_){c.i.set(y,_)}function ys(c){return je(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function Ar(c,y){return c?y?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function An(c,y,_){return typeof c=="string"?(c=encodeURI(c).replace(y,Yf),_&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function Yf(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Mo=/[#\/\?@]/g,Au=/[#\?:]/g,Vo=/[#\?]/g,Xf=/[#\?@]/g,Wf=/#/g;function ti(c,y){this.h=this.g=null,this.i=c||null,this.j=!!y}function wn(c){c.g||(c.g=new Map,c.h=0,c.i&&fa(c.i,function(y,_){c.add(decodeURIComponent(y.replace(/\+/g," ")),_)}))}r=ti.prototype,r.add=function(c,y){wn(this),this.i=null,c=Ni(this,c);var _=this.g.get(c);return _||this.g.set(c,_=[]),_.push(y),this.h+=1,this};function da(c,y){wn(c),y=Ni(c,y),c.g.has(y)&&(c.i=null,c.h-=c.g.get(y).length,c.g.delete(y))}function Di(c,y){return wn(c),y=Ni(c,y),c.g.has(y)}r.forEach=function(c,y){wn(this),this.g.forEach(function(_,b){_.forEach(function(B){c.call(y,B,b,this)},this)},this)},r.na=function(){wn(this);const c=Array.from(this.g.values()),y=Array.from(this.g.keys()),_=[];for(let b=0;b<y.length;b++){const B=c[b];for(let $=0;$<B.length;$++)_.push(y[b])}return _},r.V=function(c){wn(this);let y=[];if(typeof c=="string")Di(this,c)&&(y=y.concat(this.g.get(Ni(this,c))));else{c=Array.from(this.g.values());for(let _=0;_<c.length;_++)y=y.concat(c[_])}return y},r.set=function(c,y){return wn(this),this.i=null,c=Ni(this,c),Di(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[y]),this.h+=1,this},r.get=function(c,y){return c?(c=this.V(c),0<c.length?String(c[0]):y):y};function xi(c,y,_){da(c,y),0<_.length&&(c.i=null,c.g.set(Ni(c,y),Q(_)),c.h+=_.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],y=Array.from(this.g.keys());for(var _=0;_<y.length;_++){var b=y[_];const $=encodeURIComponent(String(b)),se=this.V(b);for(b=0;b<se.length;b++){var B=$;se[b]!==""&&(B+="="+encodeURIComponent(String(se[b]))),c.push(B)}}return this.i=c.join("&")};function Ni(c,y){return y=String(y),c.j&&(y=y.toLowerCase()),y}function ko(c,y){y&&!c.j&&(wn(c),c.i=null,c.g.forEach(function(_,b){var B=b.toLowerCase();b!=B&&(da(this,b),xi(this,B,_))},c)),c.j=y}function wu(c,y){const _=new pr;if(m.Image){const b=new Image;b.onload=N(Sn,_,"TestLoadImage: loaded",!0,y,b),b.onerror=N(Sn,_,"TestLoadImage: error",!1,y,b),b.onabort=N(Sn,_,"TestLoadImage: abort",!1,y,b),b.ontimeout=N(Sn,_,"TestLoadImage: timeout",!1,y,b),m.setTimeout(function(){b.ontimeout&&b.ontimeout()},1e4),b.src=c}else y(!1)}function _s(c,y){const _=new pr,b=new AbortController,B=setTimeout(()=>{b.abort(),Sn(_,"TestPingServer: timeout",!1,y)},1e4);fetch(c,{signal:b.signal}).then($=>{clearTimeout(B),$.ok?Sn(_,"TestPingServer: ok",!0,y):Sn(_,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(B),Sn(_,"TestPingServer: error",!1,y)})}function Sn(c,y,_,b,B){try{B&&(B.onload=null,B.onerror=null,B.onabort=null,B.ontimeout=null),b(_)}catch{}}function vs(){this.g=new Jt}function ni(c,y,_){const b=_||"";try{ps(c,function(B,$){let se=B;g(B)&&(se=So(B)),y.push(b+$+"="+encodeURIComponent(se))})}catch(B){throw y.push(b+"type="+encodeURIComponent("_badmap")),B}}function wr(c){this.l=c.Ub||null,this.j=c.eb||!1}P(wr,Ro),wr.prototype.g=function(){return new Oi(this.l,this.j)},wr.prototype.i=function(c){return function(){return c}}({});function Oi(c,y){bt.call(this),this.D=c,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}P(Oi,bt),r=Oi.prototype,r.open=function(c,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=y,this.readyState=1,ri(this)},r.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const y={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(y.body=c),(this.D||m).fetch(new Request(this.A,y)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ii(this)),this.readyState=0},r.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,ri(this)),this.g&&(this.readyState=3,ri(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof m.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Po(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function Po(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}r.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var y=c.value?c.value:new Uint8Array(0);(y=this.v.decode(y,{stream:!c.done}))&&(this.response=this.responseText+=y)}c.done?ii(this):ri(this),this.readyState==3&&Po(this)}},r.Ra=function(c){this.g&&(this.response=this.responseText=c,ii(this))},r.Qa=function(c){this.g&&(this.response=c,ii(this))},r.ga=function(){this.g&&ii(this)};function ii(c){c.readyState=4,c.l=null,c.j=null,c.v=null,ri(c)}r.setRequestHeader=function(c,y){this.u.append(c,y)},r.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],y=this.h.entries();for(var _=y.next();!_.done;)_=_.value,c.push(_[0]+": "+_[1]),_=y.next();return c.join(`\r
`)};function ri(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Oi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Lo(c){let y="";return he(c,function(_,b){y+=b,y+=":",y+=_,y+=`\r
`}),y}function Ot(c,y,_){e:{for(b in _){var b=!1;break e}b=!0}b||(_=Lo(_),typeof c=="string"?_!=null&&encodeURIComponent(String(_)):je(c,y,_))}function Fe(c){bt.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}P(Fe,bt);var ma=/^https?$/i,Es=["POST","PUT"];r=Fe.prototype,r.Ha=function(c){this.J=c},r.ea=function(c,y,_,b){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);y=y?y.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():ds.g(),this.v=this.o?gu(this.o):gu(ds),this.g.onreadystatechange=R(this.Ea,this);try{this.B=!0,this.g.open(y,String(c),!0),this.B=!1}catch($){Su(this,$);return}if(c=_||"",_=new Map(this.headers),b)if(Object.getPrototypeOf(b)===Object.prototype)for(var B in b)_.set(B,b[B]);else if(typeof b.keys=="function"&&typeof b.get=="function")for(const $ of b.keys())_.set($,b.get($));else throw Error("Unknown input type for opt_headers: "+String(b));b=Array.from(_.keys()).find($=>$.toLowerCase()=="content-type"),B=m.FormData&&c instanceof m.FormData,!(0<=Array.prototype.indexOf.call(Es,y,void 0))||b||B||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[$,se]of _)this.g.setRequestHeader($,se);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Ts(this),this.u=!0,this.g.send(c),this.u=!1}catch($){Su(this,$)}};function Su(c,y){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=y,c.m=5,pa(c),si(c)}function pa(c){c.A||(c.A=!0,xt(c,"complete"),xt(c,"error"))}r.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,xt(this,"complete"),xt(this,"abort"),si(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),si(this,!0)),Fe.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?ga(this):this.bb())},r.bb=function(){ga(this)};function ga(c){if(c.h&&typeof h<"u"&&(!c.v[1]||Rn(c)!=4||c.Z()!=2)){if(c.u&&Rn(c)==4)pu(c.Ea,0,c);else if(xt(c,"readystatechange"),Rn(c)==4){c.h=!1;try{const se=c.Z();e:switch(se){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var _;if(!(_=y)){var b;if(b=se===0){var B=String(c.D).match(Oo)[1]||null;!B&&m.self&&m.self.location&&(B=m.self.location.protocol.slice(0,-1)),b=!ma.test(B?B.toLowerCase():"")}_=b}if(_)xt(c,"complete"),xt(c,"success");else{c.m=6;try{var $=2<Rn(c)?c.g.statusText:""}catch{$=""}c.l=$+" ["+c.Z()+"]",pa(c)}}finally{si(c)}}}}function si(c,y){if(c.g){Ts(c);const _=c.g,b=c.v[0]?()=>{}:null;c.g=null,c.v=null,y||xt(c,"ready");try{_.onreadystatechange=b}catch{}}}function Ts(c){c.I&&(m.clearTimeout(c.I),c.I=null)}r.isActive=function(){return!!this.g};function Rn(c){return c.g?c.g.readyState:0}r.Z=function(){try{return 2<Rn(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(c){if(this.g){var y=this.g.responseText;return c&&y.indexOf(c)==0&&(y=y.substring(c.length)),Wn(y)}};function Ru(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Zf(c){const y={};c=(c.g&&2<=Rn(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let b=0;b<c.length;b++){if(Y(c[b]))continue;var _=O(c[b]);const B=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const $=y[B]||[];y[B]=$,$.push(_)}C(y,function(b){return b.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function bs(c,y,_){return _&&_.internalChannelParams&&_.internalChannelParams[c]||y}function ya(c){this.Aa=0,this.i=[],this.j=new pr,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=bs("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=bs("baseRetryDelayMs",5e3,c),this.cb=bs("retryDelaySeedMs",1e4,c),this.Wa=bs("forwardChannelMaxRetries",2,c),this.wa=bs("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new xo(c&&c.concurrentRequestLimit),this.Da=new vs,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=ya.prototype,r.la=8,r.G=1,r.connect=function(c,y,_,b){dt(0),this.W=c,this.H=y||{},_&&b!==void 0&&(this.H.OSID=_,this.H.OAID=b),this.F=this.X,this.I=Mu(this,null,this.W),va(this)};function Uo(c){if(Iu(c),c.G==3){var y=c.U++,_=ut(c.I);if(je(_,"SID",c.K),je(_,"RID",y),je(_,"TYPE","terminate"),As(c,_),y=new ei(c,c.j,y),y.L=2,y.v=ys(ut(_)),_=!1,m.navigator&&m.navigator.sendBeacon)try{_=m.navigator.sendBeacon(y.v.toString(),"")}catch{}!_&&m.Image&&(new Image().src=y.v,_=!0),_||(y.g=Vu(y.j,null),y.g.ea(y.v)),y.F=Date.now(),it(y)}Ou(c)}function _a(c){c.g&&(ws(c),c.g.cancel(),c.g=null)}function Iu(c){_a(c),c.u&&(m.clearTimeout(c.u),c.u=null),Ea(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&m.clearTimeout(c.s),c.s=null)}function va(c){if(!No(c.h)&&!c.s){c.s=!0;var y=c.Ga;_e||M(),de||(_e(),de=!0),He.add(y,c),c.B=0}}function Jf(c,y){return Tu(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=y.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=mr(R(c.Ga,c,y),Bo(c,c.B)),c.B++,!0)}r.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const B=new ei(this,this.j,c);let $=this.o;if(this.S&&($?($=S($),D($,this.S)):$=this.S),this.m!==null||this.O||(B.H=$,$=null),this.P)e:{for(var y=0,_=0;_<this.i.length;_++){t:{var b=this.i[_];if("__data__"in b.map&&(b=b.map.__data__,typeof b=="string")){b=b.length;break t}b=void 0}if(b===void 0)break;if(y+=b,4096<y){y=_;break e}if(y===4096||_===this.i.length-1){y=_+1;break e}}y=1e3}else y=1e3;y=Cu(this,B,y),_=ut(this.I),je(_,"RID",c),je(_,"CVER",22),this.D&&je(_,"X-HTTP-Session-Id",this.D),As(this,_),$&&(this.O?y="headers="+encodeURIComponent(String(Lo($)))+"&"+y:this.m&&Ot(_,this.m,$)),Tr(this.h,B),this.Ua&&je(_,"TYPE","init"),this.P?(je(_,"$req",y),je(_,"SID","null"),B.T=!0,zn(B,_,null)):zn(B,_,y),this.G=2}}else this.G==3&&(c?zo(this,c):this.i.length==0||No(this.h)||zo(this))};function zo(c,y){var _;y?_=y.l:_=c.U++;const b=ut(c.I);je(b,"SID",c.K),je(b,"RID",_),je(b,"AID",c.T),As(c,b),c.m&&c.o&&Ot(b,c.m,c.o),_=new ei(c,c.j,_,c.B+1),c.m===null&&(_.H=c.o),y&&(c.i=y.D.concat(c.i)),y=Cu(c,_,1e3),_.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),Tr(c.h,_),zn(_,b,y)}function As(c,y){c.H&&he(c.H,function(_,b){je(y,b,_)}),c.l&&ps({},function(_,b){je(y,b,_)})}function Cu(c,y,_){_=Math.min(c.i.length,_);var b=c.l?R(c.l.Na,c.l,c):null;e:{var B=c.i;let $=-1;for(;;){const se=["count="+_];$==-1?0<_?($=B[0].g,se.push("ofs="+$)):$=0:se.push("ofs="+$);let ke=!0;for(let wt=0;wt<_;wt++){let Pe=B[wt].g;const Mt=B[wt].map;if(Pe-=$,0>Pe)$=Math.max(0,B[wt].g-100),ke=!1;else try{ni(Mt,se,"req"+Pe+"_")}catch{b&&b(Mt)}}if(ke){b=se.join("&");break e}}}return c=c.i.splice(0,_),y.D=c,b}function Du(c){if(!c.g&&!c.u){c.Y=1;var y=c.Fa;_e||M(),de||(_e(),de=!0),He.add(y,c),c.v=0}}function jo(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=mr(R(c.Fa,c),Bo(c,c.v)),c.v++,!0)}r.Fa=function(){if(this.u=null,xu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=mr(R(this.ab,this),c)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,dt(10),_a(this),xu(this))};function ws(c){c.A!=null&&(m.clearTimeout(c.A),c.A=null)}function xu(c){c.g=new ei(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var y=ut(c.qa);je(y,"RID","rpc"),je(y,"SID",c.K),je(y,"AID",c.T),je(y,"CI",c.F?"0":"1"),!c.F&&c.ja&&je(y,"TO",c.ja),je(y,"TYPE","xmlhttp"),As(c,y),c.m&&c.o&&Ot(y,c.m,c.o),c.L&&(c.g.I=c.L);var _=c.g;c=c.ia,_.L=1,_.v=ys(ut(y)),_.m=null,_.P=!0,Ii(_,c)}r.Za=function(){this.C!=null&&(this.C=null,_a(this),jo(this),dt(19))};function Ea(c){c.C!=null&&(m.clearTimeout(c.C),c.C=null)}function Nu(c,y){var _=null;if(c.g==y){Ea(c),ws(c),c.g=null;var b=2}else if(Er(c.h,y))_=y.D,bn(c.h,y),b=1;else return;if(c.G!=0){if(y.o)if(b==1){_=y.m?y.m.length:0,y=Date.now()-y.F;var B=c.B;b=oa(),xt(b,new _u(b,_)),va(c)}else Du(c);else if(B=y.s,B==3||B==0&&0<y.X||!(b==1&&Jf(c,y)||b==2&&jo(c)))switch(_&&0<_.length&&(y=c.h,y.i=y.i.concat(_)),B){case 1:Mi(c,5);break;case 4:Mi(c,10);break;case 3:Mi(c,6);break;default:Mi(c,2)}}}function Bo(c,y){let _=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(_*=2),_*y}function Mi(c,y){if(c.j.info("Error code "+y),y==2){var _=R(c.fb,c),b=c.Xa;const B=!b;b=new Ci(b||"//www.google.com/images/cleardot.gif"),m.location&&m.location.protocol=="http"||br(b,"https"),ys(b),B?wu(b.toString(),_):_s(b.toString(),_)}else dt(2);c.G=0,c.l&&c.l.sa(y),Ou(c),Iu(c)}r.fb=function(c){c?(this.j.info("Successfully pinged google.com"),dt(2)):(this.j.info("Failed to ping google.com"),dt(1))};function Ou(c){if(c.G=0,c.ka=[],c.l){const y=en(c.h);(y.length!=0||c.i.length!=0)&&(L(c.ka,y),L(c.ka,c.i),c.h.i.length=0,Q(c.i),c.i.length=0),c.l.ra()}}function Mu(c,y,_){var b=_ instanceof Ci?ut(_):new Ci(_);if(b.g!="")y&&(b.g=y+"."+b.g),gs(b,b.s);else{var B=m.location;b=B.protocol,y=y?y+"."+B.hostname:B.hostname,B=+B.port;var $=new Ci(null);b&&br($,b),y&&($.g=y),B&&gs($,B),_&&($.l=_),b=$}return _=c.D,y=c.ya,_&&y&&je(b,_,y),je(b,"VER",c.la),As(c,b),b}function Vu(c,y,_){if(y&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return y=c.Ca&&!c.pa?new Fe(new wr({eb:_})):new Fe(c.pa),y.Ha(c.J),y}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function ku(){}r=ku.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function Ta(){}Ta.prototype.g=function(c,y){return new tn(c,y)};function tn(c,y){bt.call(this),this.g=new ya(y),this.l=c,this.h=y&&y.messageUrlParams||null,c=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(c?c["X-WebChannel-Content-Type"]=y.messageContentType:c={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.va&&(c?c["X-WebChannel-Client-Profile"]=y.va:c={"X-WebChannel-Client-Profile":y.va}),this.g.S=c,(c=y&&y.Sb)&&!Y(c)&&(this.g.m=c),this.v=y&&y.supportsCrossDomainXhr||!1,this.u=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!Y(y)&&(this.g.D=y,c=this.h,c!==null&&y in c&&(c=this.h,y in c&&delete c[y])),this.j=new ai(this)}P(tn,bt),tn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},tn.prototype.close=function(){Uo(this.g)},tn.prototype.o=function(c){var y=this.g;if(typeof c=="string"){var _={};_.__data__=c,c=_}else this.u&&(_={},_.__data__=So(c),c=_);y.i.push(new Qf(y.Ya++,c)),y.G==3&&va(y)},tn.prototype.N=function(){this.g.l=null,delete this.j,Uo(this.g),delete this.g,tn.aa.N.call(this)};function Pu(c){fr.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var y=c.__sm__;if(y){e:{for(const _ in y){c=_;break e}c=void 0}(this.i=c)&&(c=this.i,y=y!==null&&c in y?y[c]:void 0),this.data=y}else this.data=c}P(Pu,fr);function Lu(){Un.call(this),this.status=1}P(Lu,Un);function ai(c){this.g=c}P(ai,ku),ai.prototype.ua=function(){xt(this.g,"a")},ai.prototype.ta=function(c){xt(this.g,new Pu(c))},ai.prototype.sa=function(c){xt(this.g,new Lu)},ai.prototype.ra=function(){xt(this.g,"b")},Ta.prototype.createWebChannel=Ta.prototype.g,tn.prototype.send=tn.prototype.o,tn.prototype.open=tn.prototype.m,tn.prototype.close=tn.prototype.close,eT=function(){return new Ta},JE=function(){return oa()},ZE=Tn,_m={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},At.NO_ERROR=0,At.TIMEOUT=8,At.HTTP_ERROR=6,Fc=At,Ri.COMPLETE="complete",WE=Ri,yu.EventType=Zn,Zn.OPEN="a",Zn.CLOSE="b",Zn.ERROR="c",Zn.MESSAGE="d",bt.prototype.listen=bt.prototype.K,Ml=yu,Fe.prototype.listenOnce=Fe.prototype.L,Fe.prototype.getLastError=Fe.prototype.Ka,Fe.prototype.getLastErrorCode=Fe.prototype.Ba,Fe.prototype.getStatus=Fe.prototype.Z,Fe.prototype.getResponseJson=Fe.prototype.Oa,Fe.prototype.getResponseText=Fe.prototype.oa,Fe.prototype.send=Fe.prototype.ea,Fe.prototype.setWithCredentials=Fe.prototype.Ha,XE=Fe}).apply(typeof Pc<"u"?Pc:typeof self<"u"?self:typeof window<"u"?window:{});const gv="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Yt.UNAUTHENTICATED=new Yt(null),Yt.GOOGLE_CREDENTIALS=new Yt("google-credentials-uid"),Yt.FIRST_PARTY=new Yt("first-party-uid"),Yt.MOCK_USER=new Yt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let go="11.2.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qs=new Wm("@firebase/firestore");function $a(){return Qs.logLevel}function ue(r,...e){if(Qs.logLevel<=Ne.DEBUG){const n=e.map(ep);Qs.debug(`Firestore (${go}): ${r}`,...n)}}function ir(r,...e){if(Qs.logLevel<=Ne.ERROR){const n=e.map(ep);Qs.error(`Firestore (${go}): ${r}`,...n)}}function ro(r,...e){if(Qs.logLevel<=Ne.WARN){const n=e.map(ep);Qs.warn(`Firestore (${go}): ${r}`,...n)}}function ep(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Te(r="Unexpected state"){const e=`FIRESTORE (${go}) INTERNAL ASSERTION FAILED: `+r;throw ir(e),new Error(e)}function Ge(r,e){r||Te()}function we(r,e){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ee={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ce extends or{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class er{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tT{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class WR{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Yt.UNAUTHENTICATED))}shutdown(){}}class ZR{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class JR{constructor(e){this.t=e,this.currentUser=Yt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Ge(this.o===void 0);let s=this.i;const o=p=>this.i!==s?(s=this.i,n(p)):Promise.resolve();let u=new er;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new er,e.enqueueRetryable(()=>o(this.currentUser))};const h=()=>{const p=u;e.enqueueRetryable(async()=>{await p.promise,await o(this.currentUser)})},m=p=>{ue("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),h())};this.t.onInit(p=>m(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?m(p):(ue("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new er)}},0),h()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(s=>this.i!==e?(ue("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Ge(typeof s.accessToken=="string"),new tT(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ge(e===null||typeof e=="string"),new Yt(e)}}class e1{constructor(e,n,s){this.l=e,this.h=n,this.P=s,this.type="FirstParty",this.user=Yt.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class t1{constructor(e,n,s){this.l=e,this.h=n,this.P=s}getToken(){return Promise.resolve(new e1(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Yt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class n1{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class i1{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){Ge(this.o===void 0);const s=u=>{u.error!=null&&ue("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const h=u.token!==this.R;return this.R=u.token,ue("FirebaseAppCheckTokenProvider",`Received ${h?"new":"existing"} token.`),h?n(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable(()=>s(u))};const o=u=>{ue("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(u=>o(u)),setTimeout(()=>{if(!this.appCheck){const u=this.A.getImmediate({optional:!0});u?o(u):ue("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Ge(typeof n.token=="string"),this.R=n.token,new n1(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r1(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<r;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nT{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let s="";for(;s.length<20;){const o=r1(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<n&&(s+=e.charAt(o[u]%e.length))}return s}}function Ve(r,e){return r<e?-1:r>e?1:0}function so(r,e,n){return r.length===e.length&&r.every((s,o)=>n(s,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ct{static now(){return Ct.fromMillis(Date.now())}static fromDate(e){return Ct.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor(1e6*(e-1e3*n));return new Ct(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ce(ee.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ce(ee.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new ce(ee.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ce(ee.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Ve(this.nanoseconds,e.nanoseconds):Ve(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class be{static fromTimestamp(e){return new be(e)}static min(){return new be(new Ct(0,0))}static max(){return new be(new Ct(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mi{constructor(e,n,s){n===void 0?n=0:n>e.length&&Te(),s===void 0?s=e.length-n:s>e.length-n&&Te(),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return mi.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof mi?e.forEach(s=>{n.push(s)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let o=0;o<s;o++){const u=mi.compareSegments(e.get(o),n.get(o));if(u!==0)return u}return Math.sign(e.length-n.length)}static compareSegments(e,n){const s=mi.isNumericId(e),o=mi.isNumericId(n);return s&&!o?-1:!s&&o?1:s&&o?mi.extractNumericId(e).compare(mi.extractNumericId(n)):e<n?-1:e>n?1:0}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return es.fromString(e.substring(4,e.length-2))}}class et extends mi{construct(e,n,s){return new et(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new ce(ee.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter(o=>o.length>0))}return new et(n)}static emptyPath(){return new et([])}}const s1=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ht extends mi{construct(e,n,s){return new Ht(e,n,s)}static isValidIdentifier(e){return s1.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ht.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Ht(["__name__"])}static fromServerFormat(e){const n=[];let s="",o=0;const u=()=>{if(s.length===0)throw new ce(ee.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let h=!1;for(;o<e.length;){const m=e[o];if(m==="\\"){if(o+1===e.length)throw new ce(ee.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new ce(ee.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=p,o+=2}else m==="`"?(h=!h,o++):m!=="."||h?(s+=m,o++):(u(),o++)}if(u(),h)throw new ce(ee.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ht(n)}static emptyPath(){return new Ht([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ye{constructor(e){this.path=e}static fromPath(e){return new ye(et.fromString(e))}static fromName(e){return new ye(et.fromString(e).popFirst(5))}static empty(){return new ye(et.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&et.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return et.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ye(new et(e.slice()))}}function a1(r,e){const n=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,o=be.fromTimestamp(s===1e9?new Ct(n+1,0):new Ct(n,s));return new is(o,ye.empty(),e)}function o1(r){return new is(r.readTime,r.key,-1)}class is{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new is(be.min(),ye.empty(),-1)}static max(){return new is(be.max(),ye.empty(),-1)}}function l1(r,e){let n=r.readTime.compareTo(e.readTime);return n!==0?n:(n=ye.comparator(r.documentKey,e.documentKey),n!==0?n:Ve(r.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u1="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class c1{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yo(r){if(r.code!==ee.FAILED_PRECONDITION||r.message!==u1)throw r;ue("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Te(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new J((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(s,o)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof J?n:J.resolve(n)}catch(n){return J.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):J.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):J.reject(n)}static resolve(e){return new J((n,s)=>{n(e)})}static reject(e){return new J((n,s)=>{s(e)})}static waitFor(e){return new J((n,s)=>{let o=0,u=0,h=!1;e.forEach(m=>{++o,m.next(()=>{++u,h&&u===o&&n()},p=>s(p))}),h=!0,u===o&&n()})}static or(e){let n=J.resolve(!1);for(const s of e)n=n.next(o=>o?J.resolve(o):s());return n}static forEach(e,n){const s=[];return e.forEach((o,u)=>{s.push(n.call(this,o,u))}),this.waitFor(s)}static mapArray(e,n){return new J((s,o)=>{const u=e.length,h=new Array(u);let m=0;for(let p=0;p<u;p++){const g=p;n(e[g]).next(E=>{h[g]=E,++m,m===u&&s(h)},E=>o(E))}})}static doWhile(e,n){return new J((s,o)=>{const u=()=>{e()===!0?n().next(()=>{u()},o):s()};u()})}}function f1(r){const e=r.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function _o(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wf{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ie(s),this.se=s=>n.writeSequenceNumber(s))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}wf.oe=-1;function Sf(r){return r==null}function af(r){return r===0&&1/r==-1/0}function h1(r){return typeof r=="number"&&Number.isInteger(r)&&!af(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d1(r){let e="";for(let n=0;n<r.length;n++)e.length>0&&(e=yv(e)),e=m1(r.get(n),e);return yv(e)}function m1(r,e){let n=e;const s=r.length;for(let o=0;o<s;o++){const u=r.charAt(o);switch(u){case"\0":n+="";break;case"":n+="";break;default:n+=u}}return n}function yv(r){return r+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _v(r){let e=0;for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e++;return e}function Zs(r,e){for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e(n,r[n])}function iT(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class at{constructor(e,n){this.comparator=e,this.root=n||qt.EMPTY}insert(e,n){return new at(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,qt.BLACK,null,null))}remove(e){return new at(this.comparator,this.root.remove(e,this.comparator).copy(null,null,qt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return n+s.left.size;o<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,s)=>(e(n,s),!1))}toString(){const e=[];return this.inorderTraversal((n,s)=>(e.push(`${n}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Lc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Lc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Lc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Lc(this.root,e,this.comparator,!0)}}class Lc{constructor(e,n,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=n?s(e.key,n):1,n&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class qt{constructor(e,n,s,o,u){this.key=e,this.value=n,this.color=s??qt.RED,this.left=o??qt.EMPTY,this.right=u??qt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,o,u){return new qt(e??this.key,n??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let o=this;const u=s(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,n,s),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return qt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return qt.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,qt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,qt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Te();const e=this.left.check();if(e!==this.right.check())throw Te();return e+(this.isRed()?0:1)}}qt.EMPTY=null,qt.RED=!0,qt.BLACK=!1;qt.EMPTY=new class{constructor(){this.size=0}get key(){throw Te()}get value(){throw Te()}get color(){throw Te()}get left(){throw Te()}get right(){throw Te()}copy(e,n,s,o,u){return this}insert(e,n,s){return new qt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dt{constructor(e){this.comparator=e,this.data=new at(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,s)=>(e(n),!1))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new vv(this.data.getIterator())}getIteratorFrom(e){return new vv(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(s=>{n=n.add(s)}),n}isEqual(e){if(!(e instanceof Dt)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Dt(this.comparator);return n.data=e,n}}class vv{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gn{constructor(e){this.fields=e,e.sort(Ht.comparator)}static empty(){return new Gn([])}unionWith(e){let n=new Dt(Ht.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new Gn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return so(this.fields,e.fields,(n,s)=>n.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ft{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new rT("Invalid base64 string: "+u):u}}(e);return new Ft(n)}static fromUint8Array(e){const n=function(o){let u="";for(let h=0;h<o.length;++h)u+=String.fromCharCode(o[h]);return u}(e);return new Ft(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ve(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ft.EMPTY_BYTE_STRING=new Ft("");const p1=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function rs(r){if(Ge(!!r),typeof r=="string"){let e=0;const n=p1.exec(r);if(Ge(!!n),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:pt(r.seconds),nanos:pt(r.nanos)}}function pt(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function ss(r){return typeof r=="string"?Ft.fromBase64String(r):Ft.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tp(r){var e,n;return((n=(((e=r==null?void 0:r.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function Rf(r){const e=r.mapValue.fields.__previous_value__;return tp(e)?Rf(e):e}function Fl(r){const e=rs(r.mapValue.fields.__local_write_time__.timestampValue);return new Ct(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g1{constructor(e,n,s,o,u,h,m,p,g){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=h,this.autoDetectLongPolling=m,this.longPollingOptions=p,this.useFetchStreams=g}}class Gl{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Gl("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Gl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uc={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function as(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?tp(r)?4:_1(r)?9007199254740991:y1(r)?10:11:Te()}function bi(r,e){if(r===e)return!0;const n=as(r);if(n!==as(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return Fl(r).isEqual(Fl(e));case 3:return function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const h=rs(o.timestampValue),m=rs(u.timestampValue);return h.seconds===m.seconds&&h.nanos===m.nanos}(r,e);case 5:return r.stringValue===e.stringValue;case 6:return function(o,u){return ss(o.bytesValue).isEqual(ss(u.bytesValue))}(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return function(o,u){return pt(o.geoPointValue.latitude)===pt(u.geoPointValue.latitude)&&pt(o.geoPointValue.longitude)===pt(u.geoPointValue.longitude)}(r,e);case 2:return function(o,u){if("integerValue"in o&&"integerValue"in u)return pt(o.integerValue)===pt(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const h=pt(o.doubleValue),m=pt(u.doubleValue);return h===m?af(h)===af(m):isNaN(h)&&isNaN(m)}return!1}(r,e);case 9:return so(r.arrayValue.values||[],e.arrayValue.values||[],bi);case 10:case 11:return function(o,u){const h=o.mapValue.fields||{},m=u.mapValue.fields||{};if(_v(h)!==_v(m))return!1;for(const p in h)if(h.hasOwnProperty(p)&&(m[p]===void 0||!bi(h[p],m[p])))return!1;return!0}(r,e);default:return Te()}}function Kl(r,e){return(r.values||[]).find(n=>bi(n,e))!==void 0}function ao(r,e){if(r===e)return 0;const n=as(r),s=as(e);if(n!==s)return Ve(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ve(r.booleanValue,e.booleanValue);case 2:return function(u,h){const m=pt(u.integerValue||u.doubleValue),p=pt(h.integerValue||h.doubleValue);return m<p?-1:m>p?1:m===p?0:isNaN(m)?isNaN(p)?0:-1:1}(r,e);case 3:return Ev(r.timestampValue,e.timestampValue);case 4:return Ev(Fl(r),Fl(e));case 5:return Ve(r.stringValue,e.stringValue);case 6:return function(u,h){const m=ss(u),p=ss(h);return m.compareTo(p)}(r.bytesValue,e.bytesValue);case 7:return function(u,h){const m=u.split("/"),p=h.split("/");for(let g=0;g<m.length&&g<p.length;g++){const E=Ve(m[g],p[g]);if(E!==0)return E}return Ve(m.length,p.length)}(r.referenceValue,e.referenceValue);case 8:return function(u,h){const m=Ve(pt(u.latitude),pt(h.latitude));return m!==0?m:Ve(pt(u.longitude),pt(h.longitude))}(r.geoPointValue,e.geoPointValue);case 9:return Tv(r.arrayValue,e.arrayValue);case 10:return function(u,h){var m,p,g,E;const A=u.fields||{},R=h.fields||{},N=(m=A.value)===null||m===void 0?void 0:m.arrayValue,P=(p=R.value)===null||p===void 0?void 0:p.arrayValue,Q=Ve(((g=N==null?void 0:N.values)===null||g===void 0?void 0:g.length)||0,((E=P==null?void 0:P.values)===null||E===void 0?void 0:E.length)||0);return Q!==0?Q:Tv(N,P)}(r.mapValue,e.mapValue);case 11:return function(u,h){if(u===Uc.mapValue&&h===Uc.mapValue)return 0;if(u===Uc.mapValue)return 1;if(h===Uc.mapValue)return-1;const m=u.fields||{},p=Object.keys(m),g=h.fields||{},E=Object.keys(g);p.sort(),E.sort();for(let A=0;A<p.length&&A<E.length;++A){const R=Ve(p[A],E[A]);if(R!==0)return R;const N=ao(m[p[A]],g[E[A]]);if(N!==0)return N}return Ve(p.length,E.length)}(r.mapValue,e.mapValue);default:throw Te()}}function Ev(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return Ve(r,e);const n=rs(r),s=rs(e),o=Ve(n.seconds,s.seconds);return o!==0?o:Ve(n.nanos,s.nanos)}function Tv(r,e){const n=r.values||[],s=e.values||[];for(let o=0;o<n.length&&o<s.length;++o){const u=ao(n[o],s[o]);if(u)return u}return Ve(n.length,s.length)}function oo(r){return vm(r)}function vm(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(n){const s=rs(n);return`time(${s.seconds},${s.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?function(n){return ss(n).toBase64()}(r.bytesValue):"referenceValue"in r?function(n){return ye.fromName(n).toString()}(r.referenceValue):"geoPointValue"in r?function(n){return`geo(${n.latitude},${n.longitude})`}(r.geoPointValue):"arrayValue"in r?function(n){let s="[",o=!0;for(const u of n.values||[])o?o=!1:s+=",",s+=vm(u);return s+"]"}(r.arrayValue):"mapValue"in r?function(n){const s=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const h of s)u?u=!1:o+=",",o+=`${h}:${vm(n.fields[h])}`;return o+"}"}(r.mapValue):Te()}function Gc(r){switch(as(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Rf(r);return e?16+Gc(e):16;case 5:return 2*r.stringValue.length;case 6:return ss(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((o,u)=>o+Gc(u),0)}(r.arrayValue);case 10:case 11:return function(s){let o=0;return Zs(s.fields,(u,h)=>{o+=u.length+Gc(h)}),o}(r.mapValue);default:throw Te()}}function bv(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function Em(r){return!!r&&"integerValue"in r}function np(r){return!!r&&"arrayValue"in r}function Av(r){return!!r&&"nullValue"in r}function wv(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Kc(r){return!!r&&"mapValue"in r}function y1(r){var e,n;return((n=(((e=r==null?void 0:r.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function Ll(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const e={mapValue:{fields:{}}};return Zs(r.mapValue.fields,(n,s)=>e.mapValue.fields[n]=Ll(s)),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(r.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Ll(r.arrayValue.values[n]);return e}return Object.assign({},r)}function _1(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ln{constructor(e){this.value=e}static empty(){return new Ln({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!Kc(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ll(n)}setAll(e){let n=Ht.emptyPath(),s={},o=[];e.forEach((h,m)=>{if(!n.isImmediateParentOf(m)){const p=this.getFieldsMap(n);this.applyChanges(p,s,o),s={},o=[],n=m.popLast()}h?s[m.lastSegment()]=Ll(h):o.push(m.lastSegment())});const u=this.getFieldsMap(n);this.applyChanges(u,s,o)}delete(e){const n=this.field(e.popLast());Kc(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return bi(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=n.mapValue.fields[e.get(s)];Kc(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,s){Zs(n,(o,u)=>e[o]=u);for(const o of s)delete e[o]}clone(){return new Ln(Ll(this.value))}}function sT(r){const e=[];return Zs(r.fields,(n,s)=>{const o=new Ht([n]);if(Kc(s)){const u=sT(s.mapValue).fields;if(u.length===0)e.push(o);else for(const h of u)e.push(o.child(h))}else e.push(o)}),new Gn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xt{constructor(e,n,s,o,u,h,m){this.key=e,this.documentType=n,this.version=s,this.readTime=o,this.createTime=u,this.data=h,this.documentState=m}static newInvalidDocument(e){return new Xt(e,0,be.min(),be.min(),be.min(),Ln.empty(),0)}static newFoundDocument(e,n,s,o){return new Xt(e,1,n,be.min(),s,o,0)}static newNoDocument(e,n){return new Xt(e,2,n,be.min(),be.min(),Ln.empty(),0)}static newUnknownDocument(e,n){return new Xt(e,3,n,be.min(),be.min(),Ln.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(be.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ln.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ln.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=be.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Xt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Xt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class of{constructor(e,n){this.position=e,this.inclusive=n}}function Sv(r,e,n){let s=0;for(let o=0;o<r.position.length;o++){const u=e[o],h=r.position[o];if(u.field.isKeyField()?s=ye.comparator(ye.fromName(h.referenceValue),n.key):s=ao(h,n.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function Rv(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let n=0;n<r.position.length;n++)if(!bi(r.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ql{constructor(e,n="asc"){this.field=e,this.dir=n}}function v1(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aT{}class Tt extends aT{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new T1(e,n,s):n==="array-contains"?new w1(e,s):n==="in"?new S1(e,s):n==="not-in"?new R1(e,s):n==="array-contains-any"?new I1(e,s):new Tt(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new b1(e,s):new A1(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(ao(n,this.value)):n!==null&&as(this.value)===as(n)&&this.matchesComparison(ao(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Te()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Qn extends aT{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new Qn(e,n)}matches(e){return oT(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function oT(r){return r.op==="and"}function lT(r){return E1(r)&&oT(r)}function E1(r){for(const e of r.filters)if(e instanceof Qn)return!1;return!0}function Tm(r){if(r instanceof Tt)return r.field.canonicalString()+r.op.toString()+oo(r.value);if(lT(r))return r.filters.map(e=>Tm(e)).join(",");{const e=r.filters.map(n=>Tm(n)).join(",");return`${r.op}(${e})`}}function uT(r,e){return r instanceof Tt?function(s,o){return o instanceof Tt&&s.op===o.op&&s.field.isEqual(o.field)&&bi(s.value,o.value)}(r,e):r instanceof Qn?function(s,o){return o instanceof Qn&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce((u,h,m)=>u&&uT(h,o.filters[m]),!0):!1}(r,e):void Te()}function cT(r){return r instanceof Tt?function(n){return`${n.field.canonicalString()} ${n.op} ${oo(n.value)}`}(r):r instanceof Qn?function(n){return n.op.toString()+" {"+n.getFilters().map(cT).join(" ,")+"}"}(r):"Filter"}class T1 extends Tt{constructor(e,n,s){super(e,n,s),this.key=ye.fromName(s.referenceValue)}matches(e){const n=ye.comparator(e.key,this.key);return this.matchesComparison(n)}}class b1 extends Tt{constructor(e,n){super(e,"in",n),this.keys=fT("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class A1 extends Tt{constructor(e,n){super(e,"not-in",n),this.keys=fT("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function fT(r,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(s=>ye.fromName(s.referenceValue))}class w1 extends Tt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return np(n)&&Kl(n.arrayValue,this.value)}}class S1 extends Tt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Kl(this.value.arrayValue,n)}}class R1 extends Tt{constructor(e,n){super(e,"not-in",n)}matches(e){if(Kl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Kl(this.value.arrayValue,n)}}class I1 extends Tt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!np(n)||!n.arrayValue.values)&&n.arrayValue.values.some(s=>Kl(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C1{constructor(e,n=null,s=[],o=[],u=null,h=null,m=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=h,this.endAt=m,this.ue=null}}function Iv(r,e=null,n=[],s=[],o=null,u=null,h=null){return new C1(r,e,n,s,o,u,h)}function ip(r){const e=we(r);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(s=>Tm(s)).join(","),n+="|ob:",n+=e.orderBy.map(s=>function(u){return u.field.canonicalString()+u.dir}(s)).join(","),Sf(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(s=>oo(s)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(s=>oo(s)).join(",")),e.ue=n}return e.ue}function rp(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<r.orderBy.length;n++)if(!v1(r.orderBy[n],e.orderBy[n]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let n=0;n<r.filters.length;n++)if(!uT(r.filters[n],e.filters[n]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!Rv(r.startAt,e.startAt)&&Rv(r.endAt,e.endAt)}function bm(r){return ye.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vo{constructor(e,n=null,s=[],o=[],u=null,h="F",m=null,p=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=h,this.startAt=m,this.endAt=p,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function D1(r,e,n,s,o,u,h,m){return new vo(r,e,n,s,o,u,h,m)}function sp(r){return new vo(r)}function Cv(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function hT(r){return r.collectionGroup!==null}function Ul(r){const e=we(r);if(e.ce===null){e.ce=[];const n=new Set;for(const u of e.explicitOrderBy)e.ce.push(u),n.add(u.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(h){let m=new Dt(Ht.comparator);return h.filters.forEach(p=>{p.getFlattenedFilters().forEach(g=>{g.isInequality()&&(m=m.add(g.field))})}),m})(e).forEach(u=>{n.has(u.canonicalString())||u.isKeyField()||e.ce.push(new Ql(u,s))}),n.has(Ht.keyField().canonicalString())||e.ce.push(new Ql(Ht.keyField(),s))}return e.ce}function yi(r){const e=we(r);return e.le||(e.le=x1(e,Ul(r))),e.le}function x1(r,e){if(r.limitType==="F")return Iv(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map(o=>{const u=o.dir==="desc"?"asc":"desc";return new Ql(o.field,u)});const n=r.endAt?new of(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new of(r.startAt.position,r.startAt.inclusive):null;return Iv(r.path,r.collectionGroup,e,r.filters,r.limit,n,s)}}function Am(r,e){const n=r.filters.concat([e]);return new vo(r.path,r.collectionGroup,r.explicitOrderBy.slice(),n,r.limit,r.limitType,r.startAt,r.endAt)}function wm(r,e,n){return new vo(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,n,r.startAt,r.endAt)}function If(r,e){return rp(yi(r),yi(e))&&r.limitType===e.limitType}function dT(r){return`${ip(yi(r))}|lt:${r.limitType}`}function Ya(r){return`Query(target=${function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map(o=>cT(o)).join(", ")}]`),Sf(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map(o=>function(h){return`${h.field.canonicalString()} (${h.dir})`}(o)).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map(o=>oo(o)).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map(o=>oo(o)).join(",")),`Target(${s})`}(yi(r))}; limitType=${r.limitType})`}function Cf(r,e){return e.isFoundDocument()&&function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):ye.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)}(r,e)&&function(s,o){for(const u of Ul(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0}(r,e)&&function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0}(r,e)&&function(s,o){return!(s.startAt&&!function(h,m,p){const g=Sv(h,m,p);return h.inclusive?g<=0:g<0}(s.startAt,Ul(s),o)||s.endAt&&!function(h,m,p){const g=Sv(h,m,p);return h.inclusive?g>=0:g>0}(s.endAt,Ul(s),o))}(r,e)}function N1(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function mT(r){return(e,n)=>{let s=!1;for(const o of Ul(r)){const u=O1(o,e,n);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function O1(r,e,n){const s=r.field.isKeyField()?ye.comparator(e.key,n.key):function(u,h,m){const p=h.data.field(u),g=m.data.field(u);return p!==null&&g!==null?ao(p,g):Te()}(r.field,e,n);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return Te()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Js{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[n]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Zs(this.inner,(n,s)=>{for(const[o,u]of s)e(o,u)})}isEmpty(){return iT(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M1=new at(ye.comparator);function rr(){return M1}const pT=new at(ye.comparator);function Vl(...r){let e=pT;for(const n of r)e=e.insert(n.key,n);return e}function gT(r){let e=pT;return r.forEach((n,s)=>e=e.insert(n,s.overlayedDocument)),e}function Fs(){return zl()}function yT(){return zl()}function zl(){return new Js(r=>r.toString(),(r,e)=>r.isEqual(e))}const V1=new at(ye.comparator),k1=new Dt(ye.comparator);function Oe(...r){let e=k1;for(const n of r)e=e.add(n);return e}const P1=new Dt(Ve);function L1(){return P1}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ap(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:af(e)?"-0":e}}function _T(r){return{integerValue:""+r}}function U1(r,e){return h1(e)?_T(e):ap(r,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Df{constructor(){this._=void 0}}function z1(r,e,n){return r instanceof lf?function(o,u){const h={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&tp(u)&&(u=Rf(u)),u&&(h.fields.__previous_value__=u),{mapValue:h}}(n,e):r instanceof $l?ET(r,e):r instanceof Yl?TT(r,e):function(o,u){const h=vT(o,u),m=Dv(h)+Dv(o.Pe);return Em(h)&&Em(o.Pe)?_T(m):ap(o.serializer,m)}(r,e)}function j1(r,e,n){return r instanceof $l?ET(r,e):r instanceof Yl?TT(r,e):n}function vT(r,e){return r instanceof uf?function(s){return Em(s)||function(u){return!!u&&"doubleValue"in u}(s)}(e)?e:{integerValue:0}:null}class lf extends Df{}class $l extends Df{constructor(e){super(),this.elements=e}}function ET(r,e){const n=bT(e);for(const s of r.elements)n.some(o=>bi(o,s))||n.push(s);return{arrayValue:{values:n}}}class Yl extends Df{constructor(e){super(),this.elements=e}}function TT(r,e){let n=bT(e);for(const s of r.elements)n=n.filter(o=>!bi(o,s));return{arrayValue:{values:n}}}class uf extends Df{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function Dv(r){return pt(r.integerValue||r.doubleValue)}function bT(r){return np(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function B1(r,e){return r.field.isEqual(e.field)&&function(s,o){return s instanceof $l&&o instanceof $l||s instanceof Yl&&o instanceof Yl?so(s.elements,o.elements,bi):s instanceof uf&&o instanceof uf?bi(s.Pe,o.Pe):s instanceof lf&&o instanceof lf}(r.transform,e.transform)}class q1{constructor(e,n){this.version=e,this.transformResults=n}}class _i{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new _i}static exists(e){return new _i(void 0,e)}static updateTime(e){return new _i(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Qc(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class xf{}function AT(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new op(r.key,_i.none()):new iu(r.key,r.data,_i.none());{const n=r.data,s=Ln.empty();let o=new Dt(Ht.comparator);for(let u of e.fields)if(!o.has(u)){let h=n.field(u);h===null&&u.length>1&&(u=u.popLast(),h=n.field(u)),h===null?s.delete(u):s.set(u,h),o=o.add(u)}return new ea(r.key,s,new Gn(o.toArray()),_i.none())}}function H1(r,e,n){r instanceof iu?function(o,u,h){const m=o.value.clone(),p=Nv(o.fieldTransforms,u,h.transformResults);m.setAll(p),u.convertToFoundDocument(h.version,m).setHasCommittedMutations()}(r,e,n):r instanceof ea?function(o,u,h){if(!Qc(o.precondition,u))return void u.convertToUnknownDocument(h.version);const m=Nv(o.fieldTransforms,u,h.transformResults),p=u.data;p.setAll(wT(o)),p.setAll(m),u.convertToFoundDocument(h.version,p).setHasCommittedMutations()}(r,e,n):function(o,u,h){u.convertToNoDocument(h.version).setHasCommittedMutations()}(0,e,n)}function jl(r,e,n,s){return r instanceof iu?function(u,h,m,p){if(!Qc(u.precondition,h))return m;const g=u.value.clone(),E=Ov(u.fieldTransforms,p,h);return g.setAll(E),h.convertToFoundDocument(h.version,g).setHasLocalMutations(),null}(r,e,n,s):r instanceof ea?function(u,h,m,p){if(!Qc(u.precondition,h))return m;const g=Ov(u.fieldTransforms,p,h),E=h.data;return E.setAll(wT(u)),E.setAll(g),h.convertToFoundDocument(h.version,E).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map(A=>A.field))}(r,e,n,s):function(u,h,m){return Qc(u.precondition,h)?(h.convertToNoDocument(h.version).setHasLocalMutations(),null):m}(r,e,n)}function F1(r,e){let n=null;for(const s of r.fieldTransforms){const o=e.data.field(s.field),u=vT(s.transform,o||null);u!=null&&(n===null&&(n=Ln.empty()),n.set(s.field,u))}return n||null}function xv(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&so(s,o,(u,h)=>B1(u,h))}(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class iu extends xf{constructor(e,n,s,o=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class ea extends xf{constructor(e,n,s,o,u=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function wT(r){const e=new Map;return r.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const s=r.data.field(n);e.set(n,s)}}),e}function Nv(r,e,n){const s=new Map;Ge(r.length===n.length);for(let o=0;o<n.length;o++){const u=r[o],h=u.transform,m=e.data.field(u.field);s.set(u.field,j1(h,m,n[o]))}return s}function Ov(r,e,n){const s=new Map;for(const o of r){const u=o.transform,h=n.data.field(o.field);s.set(o.field,z1(u,h,e))}return s}class op extends xf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class G1 extends xf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K1{constructor(e,n,s,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&H1(u,e,s[o])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=jl(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=jl(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=yT();return this.mutations.forEach(o=>{const u=e.get(o.key),h=u.overlayedDocument;let m=this.applyToLocalView(h,u.mutatedFields);m=n.has(o.key)?null:m;const p=AT(h,m);p!==null&&s.set(o.key,p),h.isValidDocument()||h.convertToNoDocument(be.min())}),s}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Oe())}isEqual(e){return this.batchId===e.batchId&&so(this.mutations,e.mutations,(n,s)=>xv(n,s))&&so(this.baseMutations,e.baseMutations,(n,s)=>xv(n,s))}}class lp{constructor(e,n,s,o){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=o}static from(e,n,s){Ge(e.mutations.length===s.length);let o=function(){return V1}();const u=e.mutations;for(let h=0;h<u.length;h++)o=o.insert(u[h].key,s[h].version);return new lp(e,n,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q1{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $1{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Et,Ue;function Y1(r){switch(r){default:return Te();case ee.CANCELLED:case ee.UNKNOWN:case ee.DEADLINE_EXCEEDED:case ee.RESOURCE_EXHAUSTED:case ee.INTERNAL:case ee.UNAVAILABLE:case ee.UNAUTHENTICATED:return!1;case ee.INVALID_ARGUMENT:case ee.NOT_FOUND:case ee.ALREADY_EXISTS:case ee.PERMISSION_DENIED:case ee.FAILED_PRECONDITION:case ee.ABORTED:case ee.OUT_OF_RANGE:case ee.UNIMPLEMENTED:case ee.DATA_LOSS:return!0}}function ST(r){if(r===void 0)return ir("GRPC error has no .code"),ee.UNKNOWN;switch(r){case Et.OK:return ee.OK;case Et.CANCELLED:return ee.CANCELLED;case Et.UNKNOWN:return ee.UNKNOWN;case Et.DEADLINE_EXCEEDED:return ee.DEADLINE_EXCEEDED;case Et.RESOURCE_EXHAUSTED:return ee.RESOURCE_EXHAUSTED;case Et.INTERNAL:return ee.INTERNAL;case Et.UNAVAILABLE:return ee.UNAVAILABLE;case Et.UNAUTHENTICATED:return ee.UNAUTHENTICATED;case Et.INVALID_ARGUMENT:return ee.INVALID_ARGUMENT;case Et.NOT_FOUND:return ee.NOT_FOUND;case Et.ALREADY_EXISTS:return ee.ALREADY_EXISTS;case Et.PERMISSION_DENIED:return ee.PERMISSION_DENIED;case Et.FAILED_PRECONDITION:return ee.FAILED_PRECONDITION;case Et.ABORTED:return ee.ABORTED;case Et.OUT_OF_RANGE:return ee.OUT_OF_RANGE;case Et.UNIMPLEMENTED:return ee.UNIMPLEMENTED;case Et.DATA_LOSS:return ee.DATA_LOSS;default:return Te()}}(Ue=Et||(Et={}))[Ue.OK=0]="OK",Ue[Ue.CANCELLED=1]="CANCELLED",Ue[Ue.UNKNOWN=2]="UNKNOWN",Ue[Ue.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ue[Ue.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ue[Ue.NOT_FOUND=5]="NOT_FOUND",Ue[Ue.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ue[Ue.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ue[Ue.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ue[Ue.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ue[Ue.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ue[Ue.ABORTED=10]="ABORTED",Ue[Ue.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ue[Ue.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ue[Ue.INTERNAL=13]="INTERNAL",Ue[Ue.UNAVAILABLE=14]="UNAVAILABLE",Ue[Ue.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X1(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W1=new es([4294967295,4294967295],0);function Mv(r){const e=X1().encode(r),n=new YE;return n.update(e),new Uint8Array(n.digest())}function Vv(r){const e=new DataView(r.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new es([n,s],0),new es([o,u],0)]}class up{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new kl(`Invalid padding: ${n}`);if(s<0)throw new kl(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new kl(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new kl(`Invalid padding when bitmap length is 0: ${n}`);this.Te=8*e.length-n,this.Ie=es.fromNumber(this.Te)}de(e,n,s){let o=e.add(n.multiply(es.fromNumber(s)));return o.compare(W1)===1&&(o=new es([o.getBits(0),o.getBits(1)],0)),o.modulo(this.Ie).toNumber()}Ee(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Te===0)return!1;const n=Mv(e),[s,o]=Vv(n);for(let u=0;u<this.hashCount;u++){const h=this.de(s,o,u);if(!this.Ee(h))return!1}return!0}static create(e,n,s){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),h=new up(u,o,n);return s.forEach(m=>h.insert(m)),h}insert(e){if(this.Te===0)return;const n=Mv(e),[s,o]=Vv(n);for(let u=0;u<this.hashCount;u++){const h=this.de(s,o,u);this.Ae(h)}}Ae(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class kl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nf{constructor(e,n,s,o,u){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const o=new Map;return o.set(e,ru.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new Nf(be.min(),o,new at(Ve),rr(),Oe())}}class ru{constructor(e,n,s,o,u){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new ru(s,n,Oe(),Oe(),Oe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $c{constructor(e,n,s,o){this.Re=e,this.removedTargetIds=n,this.key=s,this.Ve=o}}class RT{constructor(e,n){this.targetId=e,this.me=n}}class IT{constructor(e,n,s=Ft.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=o}}class kv{constructor(){this.fe=0,this.ge=Pv(),this.pe=Ft.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=Oe(),n=Oe(),s=Oe();return this.ge.forEach((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:s=s.add(o);break;default:Te()}}),new ru(this.pe,this.ye,e,n,s)}Ce(){this.we=!1,this.ge=Pv()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Ge(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class Z1{constructor(e){this.Be=e,this.Le=new Map,this.ke=rr(),this.qe=zc(),this.Qe=zc(),this.Ke=new at(Ve)}$e(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.Ue(n,e.Ve):this.We(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.We(n,e.key,e.Ve)}Ge(e){this.forEachTarget(e,n=>{const s=this.ze(n);switch(e.state){case 0:this.je(n)&&s.De(e.resumeToken);break;case 1:s.Oe(),s.Se||s.Ce(),s.De(e.resumeToken);break;case 2:s.Oe(),s.Se||this.removeTarget(n);break;case 3:this.je(n)&&(s.Ne(),s.De(e.resumeToken));break;case 4:this.je(n)&&(this.He(n),s.De(e.resumeToken));break;default:Te()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Le.forEach((s,o)=>{this.je(o)&&n(o)})}Je(e){const n=e.targetId,s=e.me.count,o=this.Ye(n);if(o){const u=o.target;if(bm(u))if(s===0){const h=new ye(u.path);this.We(n,h,Xt.newNoDocument(h,be.min()))}else Ge(s===1);else{const h=this.Ze(n);if(h!==s){const m=this.Xe(e),p=m?this.et(m,e,h):1;if(p!==0){this.He(n);const g=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,g)}}}}}Xe(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=n;let h,m;try{h=ss(s).toUint8Array()}catch(p){if(p instanceof rT)return ro("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{m=new up(h,o,u)}catch(p){return ro(p instanceof kl?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return m.Te===0?null:m}et(e,n,s){return n.me.count===s-this.rt(e,n.targetId)?0:2}rt(e,n){const s=this.Be.getRemoteKeysForTarget(n);let o=0;return s.forEach(u=>{const h=this.Be.nt(),m=`projects/${h.projectId}/databases/${h.database}/documents/${u.path.canonicalString()}`;e.mightContain(m)||(this.We(n,u,null),o++)}),o}it(e){const n=new Map;this.Le.forEach((u,h)=>{const m=this.Ye(h);if(m){if(u.current&&bm(m.target)){const p=new ye(m.target.path);this.st(p).has(h)||this.ot(h,p)||this.We(h,p,Xt.newNoDocument(p,e))}u.be&&(n.set(h,u.ve()),u.Ce())}});let s=Oe();this.Qe.forEach((u,h)=>{let m=!0;h.forEachWhile(p=>{const g=this.Ye(p);return!g||g.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)}),m&&(s=s.add(u))}),this.ke.forEach((u,h)=>h.setReadTime(e));const o=new Nf(e,n,this.Ke,this.ke,s);return this.ke=rr(),this.qe=zc(),this.Qe=zc(),this.Ke=new at(Ve),o}Ue(e,n){if(!this.je(e))return;const s=this.ot(e,n.key)?2:0;this.ze(e).Fe(n.key,s),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e)),this.Qe=this.Qe.insert(n.key,this._t(n.key).add(e))}We(e,n,s){if(!this.je(e))return;const o=this.ze(e);this.ot(e,n)?o.Fe(n,1):o.Me(n),this.Qe=this.Qe.insert(n,this._t(n).delete(e)),this.Qe=this.Qe.insert(n,this._t(n).add(e)),s&&(this.ke=this.ke.insert(n,s))}removeTarget(e){this.Le.delete(e)}Ze(e){const n=this.ze(e).ve();return this.Be.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.ze(e).xe()}ze(e){let n=this.Le.get(e);return n||(n=new kv,this.Le.set(e,n)),n}_t(e){let n=this.Qe.get(e);return n||(n=new Dt(Ve),this.Qe=this.Qe.insert(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new Dt(Ve),this.qe=this.qe.insert(e,n)),n}je(e){const n=this.Ye(e)!==null;return n||ue("WatchChangeAggregator","Detected inactive target",e),n}Ye(e){const n=this.Le.get(e);return n&&n.Se?null:this.Be.ut(e)}He(e){this.Le.set(e,new kv),this.Be.getRemoteKeysForTarget(e).forEach(n=>{this.We(e,n,null)})}ot(e,n){return this.Be.getRemoteKeysForTarget(e).has(n)}}function zc(){return new at(ye.comparator)}function Pv(){return new at(ye.comparator)}const J1={asc:"ASCENDING",desc:"DESCENDING"},eI={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},tI={and:"AND",or:"OR"};class nI{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Sm(r,e){return r.useProto3Json||Sf(e)?e:{value:e}}function cf(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function CT(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function iI(r,e){return cf(r,e.toTimestamp())}function vi(r){return Ge(!!r),be.fromTimestamp(function(n){const s=rs(n);return new Ct(s.seconds,s.nanos)}(r))}function cp(r,e){return Rm(r,e).canonicalString()}function Rm(r,e){const n=function(o){return new et(["projects",o.projectId,"databases",o.database])}(r).child("documents");return e===void 0?n:n.child(e)}function DT(r){const e=et.fromString(r);return Ge(VT(e)),e}function Im(r,e){return cp(r.databaseId,e.path)}function nm(r,e){const n=DT(e);if(n.get(1)!==r.databaseId.projectId)throw new ce(ee.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+r.databaseId.projectId);if(n.get(3)!==r.databaseId.database)throw new ce(ee.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+r.databaseId.database);return new ye(NT(n))}function xT(r,e){return cp(r.databaseId,e)}function rI(r){const e=DT(r);return e.length===4?et.emptyPath():NT(e)}function Cm(r){return new et(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function NT(r){return Ge(r.length>4&&r.get(4)==="documents"),r.popFirst(5)}function Lv(r,e,n){return{name:Im(r,e),fields:n.value.mapValue.fields}}function sI(r,e){let n;if("targetChange"in e){e.targetChange;const s=function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:Te()}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=function(g,E){return g.useProto3Json?(Ge(E===void 0||typeof E=="string"),Ft.fromBase64String(E||"")):(Ge(E===void 0||E instanceof Buffer||E instanceof Uint8Array),Ft.fromUint8Array(E||new Uint8Array))}(r,e.targetChange.resumeToken),h=e.targetChange.cause,m=h&&function(g){const E=g.code===void 0?ee.UNKNOWN:ST(g.code);return new ce(E,g.message||"")}(h);n=new IT(s,o,u,m||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=nm(r,s.document.name),u=vi(s.document.updateTime),h=s.document.createTime?vi(s.document.createTime):be.min(),m=new Ln({mapValue:{fields:s.document.fields}}),p=Xt.newFoundDocument(o,u,h,m),g=s.targetIds||[],E=s.removedTargetIds||[];n=new $c(g,E,p.key,p)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=nm(r,s.document),u=s.readTime?vi(s.readTime):be.min(),h=Xt.newNoDocument(o,u),m=s.removedTargetIds||[];n=new $c([],m,h.key,h)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=nm(r,s.document),u=s.removedTargetIds||[];n=new $c([],u,o,null)}else{if(!("filter"in e))return Te();{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,h=new $1(o,u),m=s.targetId;n=new RT(m,h)}}return n}function aI(r,e){let n;if(e instanceof iu)n={update:Lv(r,e.key,e.value)};else if(e instanceof op)n={delete:Im(r,e.key)};else if(e instanceof ea)n={update:Lv(r,e.key,e.data),updateMask:pI(e.fieldMask)};else{if(!(e instanceof G1))return Te();n={verify:Im(r,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(s=>function(u,h){const m=h.transform;if(m instanceof lf)return{fieldPath:h.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof $l)return{fieldPath:h.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof Yl)return{fieldPath:h.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof uf)return{fieldPath:h.field.canonicalString(),increment:m.Pe};throw Te()}(0,s))),e.precondition.isNone||(n.currentDocument=function(o,u){return u.updateTime!==void 0?{updateTime:iI(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:Te()}(r,e.precondition)),n}function oI(r,e){return r&&r.length>0?(Ge(e!==void 0),r.map(n=>function(o,u){let h=o.updateTime?vi(o.updateTime):vi(u);return h.isEqual(be.min())&&(h=vi(u)),new q1(h,o.transformResults||[])}(n,e))):[]}function lI(r,e){return{documents:[xT(r,e.path)]}}function uI(r,e){const n={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=xT(r,o);const u=function(g){if(g.length!==0)return MT(Qn.create(g,"and"))}(e.filters);u&&(n.structuredQuery.where=u);const h=function(g){if(g.length!==0)return g.map(E=>function(R){return{field:Xa(R.field),direction:hI(R.dir)}}(E))}(e.orderBy);h&&(n.structuredQuery.orderBy=h);const m=Sm(r,e.limit);return m!==null&&(n.structuredQuery.limit=m),e.startAt&&(n.structuredQuery.startAt=function(g){return{before:g.inclusive,values:g.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(g){return{before:!g.inclusive,values:g.position}}(e.endAt)),{ct:n,parent:o}}function cI(r){let e=rI(r.parent);const n=r.structuredQuery,s=n.from?n.from.length:0;let o=null;if(s>0){Ge(s===1);const E=n.from[0];E.allDescendants?o=E.collectionId:e=e.child(E.collectionId)}let u=[];n.where&&(u=function(A){const R=OT(A);return R instanceof Qn&&lT(R)?R.getFilters():[R]}(n.where));let h=[];n.orderBy&&(h=function(A){return A.map(R=>function(P){return new Ql(Wa(P.field),function(L){switch(L){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(P.direction))}(R))}(n.orderBy));let m=null;n.limit&&(m=function(A){let R;return R=typeof A=="object"?A.value:A,Sf(R)?null:R}(n.limit));let p=null;n.startAt&&(p=function(A){const R=!!A.before,N=A.values||[];return new of(N,R)}(n.startAt));let g=null;return n.endAt&&(g=function(A){const R=!A.before,N=A.values||[];return new of(N,R)}(n.endAt)),D1(e,o,h,u,m,"F",p,g)}function fI(r,e){const n=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Te()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function OT(r){return r.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=Wa(n.unaryFilter.field);return Tt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=Wa(n.unaryFilter.field);return Tt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=Wa(n.unaryFilter.field);return Tt.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const h=Wa(n.unaryFilter.field);return Tt.create(h,"!=",{nullValue:"NULL_VALUE"});default:return Te()}}(r):r.fieldFilter!==void 0?function(n){return Tt.create(Wa(n.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Te()}}(n.fieldFilter.op),n.fieldFilter.value)}(r):r.compositeFilter!==void 0?function(n){return Qn.create(n.compositeFilter.filters.map(s=>OT(s)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Te()}}(n.compositeFilter.op))}(r):Te()}function hI(r){return J1[r]}function dI(r){return eI[r]}function mI(r){return tI[r]}function Xa(r){return{fieldPath:r.canonicalString()}}function Wa(r){return Ht.fromServerFormat(r.fieldPath)}function MT(r){return r instanceof Tt?function(n){if(n.op==="=="){if(wv(n.value))return{unaryFilter:{field:Xa(n.field),op:"IS_NAN"}};if(Av(n.value))return{unaryFilter:{field:Xa(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(wv(n.value))return{unaryFilter:{field:Xa(n.field),op:"IS_NOT_NAN"}};if(Av(n.value))return{unaryFilter:{field:Xa(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Xa(n.field),op:dI(n.op),value:n.value}}}(r):r instanceof Qn?function(n){const s=n.getFilters().map(o=>MT(o));return s.length===1?s[0]:{compositeFilter:{op:mI(n.op),filters:s}}}(r):Te()}function pI(r){const e=[];return r.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function VT(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xr{constructor(e,n,s,o,u=be.min(),h=be.min(),m=Ft.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=m,this.expectedCount=p}withSequenceNumber(e){return new Xr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Xr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Xr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Xr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gI{constructor(e){this.ht=e}}function yI(r){const e=cI({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?wm(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _I{constructor(){this.ln=new vI}addToCollectionParentIndex(e,n){return this.ln.add(n),J.resolve()}getCollectionParents(e,n){return J.resolve(this.ln.getEntries(n))}addFieldIndex(e,n){return J.resolve()}deleteFieldIndex(e,n){return J.resolve()}deleteAllFieldIndexes(e){return J.resolve()}createTargetIndexes(e,n){return J.resolve()}getDocumentsMatchingTarget(e,n){return J.resolve(null)}getIndexType(e,n){return J.resolve(0)}getFieldIndexes(e,n){return J.resolve([])}getNextCollectionGroupToUpdate(e){return J.resolve(null)}getMinOffset(e,n){return J.resolve(is.min())}getMinOffsetFromCollectionGroup(e,n){return J.resolve(is.min())}updateCollectionGroup(e,n,s){return J.resolve()}updateIndexEntries(e,n){return J.resolve()}}class vI{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n]||new Dt(et.comparator),u=!o.has(s);return this.index[n]=o.add(s),u}has(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n];return o&&o.has(s)}getEntries(e){return(this.index[e]||new Dt(et.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class un{static withCacheSize(e){return new un(e,un.DEFAULT_COLLECTION_PERCENTILE,un.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */un.DEFAULT_COLLECTION_PERCENTILE=10,un.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,un.DEFAULT=new un(41943040,un.DEFAULT_COLLECTION_PERCENTILE,un.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),un.DISABLED=new un(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lo{constructor(e){this.kn=e}next(){return this.kn+=2,this.kn}static qn(){return new lo(0)}static Qn(){return new lo(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zv([r,e],[n,s]){const o=Ve(r,n);return o===0?Ve(e,s):o}class EI{constructor(e){this.Gn=e,this.buffer=new Dt(zv),this.zn=0}jn(){return++this.zn}Hn(e){const n=[e,this.jn()];if(this.buffer.size<this.Gn)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();zv(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class TI{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Jn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Yn(6e4)}stop(){this.Jn&&(this.Jn.cancel(),this.Jn=null)}get started(){return this.Jn!==null}Yn(e){ue("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Jn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Jn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){_o(n)?ue("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",n):await yo(n)}await this.Yn(3e5)})}}class bI{constructor(e,n){this.Zn=e,this.params=n}calculateTargetCount(e,n){return this.Zn.Xn(e).next(s=>Math.floor(n/100*s))}nthSequenceNumber(e,n){if(n===0)return J.resolve(wf.oe);const s=new EI(n);return this.Zn.forEachTarget(e,o=>s.Hn(o.sequenceNumber)).next(()=>this.Zn.er(e,o=>s.Hn(o))).next(()=>s.maxValue)}removeTargets(e,n,s){return this.Zn.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.Zn.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(ue("LruGarbageCollector","Garbage collection skipped; disabled"),J.resolve(Uv)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(ue("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Uv):this.tr(e,n))}getCacheSize(e){return this.Zn.getCacheSize(e)}tr(e,n){let s,o,u,h,m,p,g;const E=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(A=>(A>this.params.maximumSequenceNumbersToCollect?(ue("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${A}`),o=this.params.maximumSequenceNumbersToCollect):o=A,h=Date.now(),this.nthSequenceNumber(e,o))).next(A=>(s=A,m=Date.now(),this.removeTargets(e,s,n))).next(A=>(u=A,p=Date.now(),this.removeOrphanedDocuments(e,s))).next(A=>(g=Date.now(),$a()<=Ne.DEBUG&&ue("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${h-E}ms
	Determined least recently used ${o} in `+(m-h)+`ms
	Removed ${u} targets in `+(p-m)+`ms
	Removed ${A} documents in `+(g-p)+`ms
Total Duration: ${g-E}ms`),J.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:A})))}}function AI(r,e){return new bI(r,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wI{constructor(){this.changes=new Js(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Xt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?J.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SI{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RI{constructor(e,n,s,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next(o=>(s=o,this.remoteDocumentCache.getEntry(e,n))).next(o=>(s!==null&&jl(s.mutation,o,Gn.empty(),Ct.now()),o))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.getLocalViewOfDocuments(e,s,Oe()).next(()=>s))}getLocalViewOfDocuments(e,n,s=Oe()){const o=Fs();return this.populateOverlays(e,o,n).next(()=>this.computeViews(e,n,o,s).next(u=>{let h=Vl();return u.forEach((m,p)=>{h=h.insert(m,p.overlayedDocument)}),h}))}getOverlayedDocuments(e,n){const s=Fs();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,Oe()))}populateOverlays(e,n,s){const o=[];return s.forEach(u=>{n.has(u)||o.push(u)}),this.documentOverlayCache.getOverlays(e,o).next(u=>{u.forEach((h,m)=>{n.set(h,m)})})}computeViews(e,n,s,o){let u=rr();const h=zl(),m=function(){return zl()}();return n.forEach((p,g)=>{const E=s.get(g.key);o.has(g.key)&&(E===void 0||E.mutation instanceof ea)?u=u.insert(g.key,g):E!==void 0?(h.set(g.key,E.mutation.getFieldMask()),jl(E.mutation,g,E.mutation.getFieldMask(),Ct.now())):h.set(g.key,Gn.empty())}),this.recalculateAndSaveOverlays(e,u).next(p=>(p.forEach((g,E)=>h.set(g,E)),n.forEach((g,E)=>{var A;return m.set(g,new SI(E,(A=h.get(g))!==null&&A!==void 0?A:null))}),m))}recalculateAndSaveOverlays(e,n){const s=zl();let o=new at((h,m)=>h-m),u=Oe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(h=>{for(const m of h)m.keys().forEach(p=>{const g=n.get(p);if(g===null)return;let E=s.get(p)||Gn.empty();E=m.applyToLocalView(g,E),s.set(p,E);const A=(o.get(m.batchId)||Oe()).add(p);o=o.insert(m.batchId,A)})}).next(()=>{const h=[],m=o.getReverseIterator();for(;m.hasNext();){const p=m.getNext(),g=p.key,E=p.value,A=yT();E.forEach(R=>{if(!u.has(R)){const N=AT(n.get(R),s.get(R));N!==null&&A.set(R,N),u=u.add(R)}}),h.push(this.documentOverlayCache.saveOverlays(e,g,A))}return J.waitFor(h)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,n,s,o){return function(h){return ye.isDocumentKey(h.path)&&h.collectionGroup===null&&h.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):hT(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,o):this.getDocumentsMatchingCollectionQuery(e,n,s,o)}getNextDocuments(e,n,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,o).next(u=>{const h=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,o-u.size):J.resolve(Fs());let m=-1,p=u;return h.next(g=>J.forEach(g,(E,A)=>(m<A.largestBatchId&&(m=A.largestBatchId),u.get(E)?J.resolve():this.remoteDocumentCache.getEntry(e,E).next(R=>{p=p.insert(E,R)}))).next(()=>this.populateOverlays(e,g,u)).next(()=>this.computeViews(e,p,g,Oe())).next(E=>({batchId:m,changes:gT(E)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ye(n)).next(s=>{let o=Vl();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o})}getDocumentsMatchingCollectionGroupQuery(e,n,s,o){const u=n.collectionGroup;let h=Vl();return this.indexManager.getCollectionParents(e,u).next(m=>J.forEach(m,p=>{const g=function(A,R){return new vo(R,null,A.explicitOrderBy.slice(),A.filters.slice(),A.limit,A.limitType,A.startAt,A.endAt)}(n,p.child(u));return this.getDocumentsMatchingCollectionQuery(e,g,s,o).next(E=>{E.forEach((A,R)=>{h=h.insert(A,R)})})}).next(()=>h))}getDocumentsMatchingCollectionQuery(e,n,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next(h=>(u=h,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,u,o))).next(h=>{u.forEach((p,g)=>{const E=g.getKey();h.get(E)===null&&(h=h.insert(E,Xt.newInvalidDocument(E)))});let m=Vl();return h.forEach((p,g)=>{const E=u.get(p);E!==void 0&&jl(E.mutation,g,Gn.empty(),Ct.now()),Cf(n,g)&&(m=m.insert(p,g))}),m})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class II{constructor(e){this.serializer=e,this.Tr=new Map,this.Ir=new Map}getBundleMetadata(e,n){return J.resolve(this.Tr.get(n))}saveBundleMetadata(e,n){return this.Tr.set(n.id,function(o){return{id:o.id,version:o.version,createTime:vi(o.createTime)}}(n)),J.resolve()}getNamedQuery(e,n){return J.resolve(this.Ir.get(n))}saveNamedQuery(e,n){return this.Ir.set(n.name,function(o){return{name:o.name,query:yI(o.bundledQuery),readTime:vi(o.readTime)}}(n)),J.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CI{constructor(){this.overlays=new at(ye.comparator),this.dr=new Map}getOverlay(e,n){return J.resolve(this.overlays.get(n))}getOverlays(e,n){const s=Fs();return J.forEach(n,o=>this.getOverlay(e,o).next(u=>{u!==null&&s.set(o,u)})).next(()=>s)}saveOverlays(e,n,s){return s.forEach((o,u)=>{this.Tt(e,n,u)}),J.resolve()}removeOverlaysForBatchId(e,n,s){const o=this.dr.get(s);return o!==void 0&&(o.forEach(u=>this.overlays=this.overlays.remove(u)),this.dr.delete(s)),J.resolve()}getOverlaysForCollection(e,n,s){const o=Fs(),u=n.length+1,h=new ye(n.child("")),m=this.overlays.getIteratorFrom(h);for(;m.hasNext();){const p=m.getNext().value,g=p.getKey();if(!n.isPrefixOf(g.path))break;g.path.length===u&&p.largestBatchId>s&&o.set(p.getKey(),p)}return J.resolve(o)}getOverlaysForCollectionGroup(e,n,s,o){let u=new at((g,E)=>g-E);const h=this.overlays.getIterator();for(;h.hasNext();){const g=h.getNext().value;if(g.getKey().getCollectionGroup()===n&&g.largestBatchId>s){let E=u.get(g.largestBatchId);E===null&&(E=Fs(),u=u.insert(g.largestBatchId,E)),E.set(g.getKey(),g)}}const m=Fs(),p=u.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((g,E)=>m.set(g,E)),!(m.size()>=o)););return J.resolve(m)}Tt(e,n,s){const o=this.overlays.get(s.key);if(o!==null){const h=this.dr.get(o.largestBatchId).delete(s.key);this.dr.set(o.largestBatchId,h)}this.overlays=this.overlays.insert(s.key,new Q1(n,s));let u=this.dr.get(n);u===void 0&&(u=Oe(),this.dr.set(n,u)),this.dr.set(n,u.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DI{constructor(){this.sessionToken=Ft.EMPTY_BYTE_STRING}getSessionToken(e){return J.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,J.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fp{constructor(){this.Er=new Dt(Lt.Ar),this.Rr=new Dt(Lt.Vr)}isEmpty(){return this.Er.isEmpty()}addReference(e,n){const s=new Lt(e,n);this.Er=this.Er.add(s),this.Rr=this.Rr.add(s)}mr(e,n){e.forEach(s=>this.addReference(s,n))}removeReference(e,n){this.gr(new Lt(e,n))}pr(e,n){e.forEach(s=>this.removeReference(s,n))}yr(e){const n=new ye(new et([])),s=new Lt(n,e),o=new Lt(n,e+1),u=[];return this.Rr.forEachInRange([s,o],h=>{this.gr(h),u.push(h.key)}),u}wr(){this.Er.forEach(e=>this.gr(e))}gr(e){this.Er=this.Er.delete(e),this.Rr=this.Rr.delete(e)}Sr(e){const n=new ye(new et([])),s=new Lt(n,e),o=new Lt(n,e+1);let u=Oe();return this.Rr.forEachInRange([s,o],h=>{u=u.add(h.key)}),u}containsKey(e){const n=new Lt(e,0),s=this.Er.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class Lt{constructor(e,n){this.key=e,this.br=n}static Ar(e,n){return ye.comparator(e.key,n.key)||Ve(e.br,n.br)}static Vr(e,n){return Ve(e.br,n.br)||ye.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xI{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Dr=1,this.vr=new Dt(Lt.Ar)}checkEmpty(e){return J.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,o){const u=this.Dr;this.Dr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const h=new K1(u,n,s,o);this.mutationQueue.push(h);for(const m of o)this.vr=this.vr.add(new Lt(m.key,u)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return J.resolve(h)}lookupMutationBatch(e,n){return J.resolve(this.Cr(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,o=this.Fr(s),u=o<0?0:o;return J.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return J.resolve(this.mutationQueue.length===0?-1:this.Dr-1)}getAllMutationBatches(e){return J.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new Lt(n,0),o=new Lt(n,Number.POSITIVE_INFINITY),u=[];return this.vr.forEachInRange([s,o],h=>{const m=this.Cr(h.br);u.push(m)}),J.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new Dt(Ve);return n.forEach(o=>{const u=new Lt(o,0),h=new Lt(o,Number.POSITIVE_INFINITY);this.vr.forEachInRange([u,h],m=>{s=s.add(m.br)})}),J.resolve(this.Mr(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,o=s.length+1;let u=s;ye.isDocumentKey(u)||(u=u.child(""));const h=new Lt(new ye(u),0);let m=new Dt(Ve);return this.vr.forEachWhile(p=>{const g=p.key.path;return!!s.isPrefixOf(g)&&(g.length===o&&(m=m.add(p.br)),!0)},h),J.resolve(this.Mr(m))}Mr(e){const n=[];return e.forEach(s=>{const o=this.Cr(s);o!==null&&n.push(o)}),n}removeMutationBatch(e,n){Ge(this.Or(n.batchId,"removed")===0),this.mutationQueue.shift();let s=this.vr;return J.forEach(n.mutations,o=>{const u=new Lt(o.key,n.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.vr=s})}Bn(e){}containsKey(e,n){const s=new Lt(n,0),o=this.vr.firstAfterOrEqual(s);return J.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,J.resolve()}Or(e,n){return this.Fr(e)}Fr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Cr(e){const n=this.Fr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NI{constructor(e){this.Nr=e,this.docs=function(){return new at(ye.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,o=this.docs.get(s),u=o?o.size:0,h=this.Nr(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:h}),this.size+=h-u,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return J.resolve(s?s.document.mutableCopy():Xt.newInvalidDocument(n))}getEntries(e,n){let s=rr();return n.forEach(o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():Xt.newInvalidDocument(o))}),J.resolve(s)}getDocumentsMatchingQuery(e,n,s,o){let u=rr();const h=n.path,m=new ye(h.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(m);for(;p.hasNext();){const{key:g,value:{document:E}}=p.getNext();if(!h.isPrefixOf(g.path))break;g.path.length>h.length+1||l1(o1(E),s)<=0||(o.has(E.key)||Cf(n,E))&&(u=u.insert(E.key,E.mutableCopy()))}return J.resolve(u)}getAllFromCollectionGroup(e,n,s,o){Te()}Br(e,n){return J.forEach(this.docs,s=>n(s))}newChangeBuffer(e){return new OI(this)}getSize(e){return J.resolve(this.size)}}class OI extends wI{constructor(e){super(),this.hr=e}applyChanges(e){const n=[];return this.changes.forEach((s,o)=>{o.isValidDocument()?n.push(this.hr.addEntry(e,o)):this.hr.removeEntry(s)}),J.waitFor(n)}getFromCache(e,n){return this.hr.getEntry(e,n)}getAllFromCache(e,n){return this.hr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MI{constructor(e){this.persistence=e,this.Lr=new Js(n=>ip(n),rp),this.lastRemoteSnapshotVersion=be.min(),this.highestTargetId=0,this.kr=0,this.qr=new fp,this.targetCount=0,this.Qr=lo.qn()}forEachTarget(e,n){return this.Lr.forEach((s,o)=>n(o)),J.resolve()}getLastRemoteSnapshotVersion(e){return J.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return J.resolve(this.kr)}allocateTargetId(e){return this.highestTargetId=this.Qr.next(),J.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.kr&&(this.kr=n),J.resolve()}Un(e){this.Lr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Qr=new lo(n),this.highestTargetId=n),e.sequenceNumber>this.kr&&(this.kr=e.sequenceNumber)}addTargetData(e,n){return this.Un(n),this.targetCount+=1,J.resolve()}updateTargetData(e,n){return this.Un(n),J.resolve()}removeTargetData(e,n){return this.Lr.delete(n.target),this.qr.yr(n.targetId),this.targetCount-=1,J.resolve()}removeTargets(e,n,s){let o=0;const u=[];return this.Lr.forEach((h,m)=>{m.sequenceNumber<=n&&s.get(m.targetId)===null&&(this.Lr.delete(h),u.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)}),J.waitFor(u).next(()=>o)}getTargetCount(e){return J.resolve(this.targetCount)}getTargetData(e,n){const s=this.Lr.get(n)||null;return J.resolve(s)}addMatchingKeys(e,n,s){return this.qr.mr(n,s),J.resolve()}removeMatchingKeys(e,n,s){this.qr.pr(n,s);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach(h=>{u.push(o.markPotentiallyOrphaned(e,h))}),J.waitFor(u)}removeMatchingKeysForTargetId(e,n){return this.qr.yr(n),J.resolve()}getMatchingKeysForTargetId(e,n){const s=this.qr.Sr(n);return J.resolve(s)}containsKey(e,n){return J.resolve(this.qr.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kT{constructor(e,n){this.Kr={},this.overlays={},this.$r=new wf(0),this.Ur=!1,this.Ur=!0,this.Wr=new DI,this.referenceDelegate=e(this),this.Gr=new MI(this),this.indexManager=new _I,this.remoteDocumentCache=function(o){return new NI(o)}(s=>this.referenceDelegate.zr(s)),this.serializer=new gI(n),this.jr=new II(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Ur=!1,Promise.resolve()}get started(){return this.Ur}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new CI,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.Kr[e.toKey()];return s||(s=new xI(n,this.referenceDelegate),this.Kr[e.toKey()]=s),s}getGlobalsCache(){return this.Wr}getTargetCache(){return this.Gr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.jr}runTransaction(e,n,s){ue("MemoryPersistence","Starting transaction:",e);const o=new VI(this.$r.next());return this.referenceDelegate.Hr(),s(o).next(u=>this.referenceDelegate.Jr(o).next(()=>u)).toPromise().then(u=>(o.raiseOnCommittedEvent(),u))}Yr(e,n){return J.or(Object.values(this.Kr).map(s=>()=>s.containsKey(e,n)))}}class VI extends c1{constructor(e){super(),this.currentSequenceNumber=e}}class hp{constructor(e){this.persistence=e,this.Zr=new fp,this.Xr=null}static ei(e){return new hp(e)}get ti(){if(this.Xr)return this.Xr;throw Te()}addReference(e,n,s){return this.Zr.addReference(s,n),this.ti.delete(s.toString()),J.resolve()}removeReference(e,n,s){return this.Zr.removeReference(s,n),this.ti.add(s.toString()),J.resolve()}markPotentiallyOrphaned(e,n){return this.ti.add(n.toString()),J.resolve()}removeTarget(e,n){this.Zr.yr(n.targetId).forEach(o=>this.ti.add(o.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next(o=>{o.forEach(u=>this.ti.add(u.toString()))}).next(()=>s.removeTargetData(e,n))}Hr(){this.Xr=new Set}Jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return J.forEach(this.ti,s=>{const o=ye.fromPath(s);return this.ni(e,o).next(u=>{u||n.removeEntry(o,be.min())})}).next(()=>(this.Xr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ni(e,n).next(s=>{s?this.ti.delete(n.toString()):this.ti.add(n.toString())})}zr(e){return 0}ni(e,n){return J.or([()=>J.resolve(this.Zr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Yr(e,n)])}}class ff{constructor(e,n){this.persistence=e,this.ri=new Js(s=>d1(s.path),(s,o)=>s.isEqual(o)),this.garbageCollector=AI(this,n)}static ei(e,n){return new ff(e,n)}Hr(){}Jr(e){return J.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}Xn(e){const n=this.nr(e);return this.persistence.getTargetCache().getTargetCount(e).next(s=>n.next(o=>s+o))}nr(e){let n=0;return this.er(e,s=>{n++}).next(()=>n)}er(e,n){return J.forEach(this.ri,(s,o)=>this.ir(e,s,o).next(u=>u?J.resolve():n(o)))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.Br(e,h=>this.ir(e,h,n).next(m=>{m||(s++,u.removeEntry(h,be.min()))})).next(()=>u.apply(e)).next(()=>s)}markPotentiallyOrphaned(e,n){return this.ri.set(n,e.currentSequenceNumber),J.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.ri.set(s,e.currentSequenceNumber),J.resolve()}removeReference(e,n,s){return this.ri.set(s,e.currentSequenceNumber),J.resolve()}updateLimboDocument(e,n){return this.ri.set(n,e.currentSequenceNumber),J.resolve()}zr(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Gc(e.data.value)),n}ir(e,n,s){return J.or([()=>this.persistence.Yr(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.ri.get(n);return J.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dp{constructor(e,n,s,o){this.targetId=e,this.fromCache=n,this.Wi=s,this.Gi=o}static zi(e,n){let s=Oe(),o=Oe();for(const u of n.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new dp(e,n.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kI{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PI{constructor(){this.ji=!1,this.Hi=!1,this.Ji=100,this.Yi=function(){return VS()?8:f1(Wt())>0?6:4}()}initialize(e,n){this.Zi=e,this.indexManager=n,this.ji=!0}getDocumentsMatchingQuery(e,n,s,o){const u={result:null};return this.Xi(e,n).next(h=>{u.result=h}).next(()=>{if(!u.result)return this.es(e,n,o,s).next(h=>{u.result=h})}).next(()=>{if(u.result)return;const h=new kI;return this.ts(e,n,h).next(m=>{if(u.result=m,this.Hi)return this.ns(e,n,h,m.size)})}).next(()=>u.result)}ns(e,n,s,o){return s.documentReadCount<this.Ji?($a()<=Ne.DEBUG&&ue("QueryEngine","SDK will not create cache indexes for query:",Ya(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Ji,"documents"),J.resolve()):($a()<=Ne.DEBUG&&ue("QueryEngine","Query:",Ya(n),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.Yi*o?($a()<=Ne.DEBUG&&ue("QueryEngine","The SDK decides to create cache indexes for query:",Ya(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,yi(n))):J.resolve())}Xi(e,n){if(Cv(n))return J.resolve(null);let s=yi(n);return this.indexManager.getIndexType(e,s).next(o=>o===0?null:(n.limit!==null&&o===1&&(n=wm(n,null,"F"),s=yi(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next(u=>{const h=Oe(...u);return this.Zi.getDocuments(e,h).next(m=>this.indexManager.getMinOffset(e,s).next(p=>{const g=this.rs(n,m);return this.ss(n,g,h,p.readTime)?this.Xi(e,wm(n,null,"F")):this.os(e,g,n,p)}))})))}es(e,n,s,o){return Cv(n)||o.isEqual(be.min())?J.resolve(null):this.Zi.getDocuments(e,s).next(u=>{const h=this.rs(n,u);return this.ss(n,h,s,o)?J.resolve(null):($a()<=Ne.DEBUG&&ue("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Ya(n)),this.os(e,h,n,a1(o,-1)).next(m=>m))})}rs(e,n){let s=new Dt(mT(e));return n.forEach((o,u)=>{Cf(e,u)&&(s=s.add(u))}),s}ss(e,n,s,o){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const u=e.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}ts(e,n,s){return $a()<=Ne.DEBUG&&ue("QueryEngine","Using full collection scan to execute query:",Ya(n)),this.Zi.getDocumentsMatchingQuery(e,n,is.min(),s)}os(e,n,s,o){return this.Zi.getDocumentsMatchingQuery(e,s,o).next(u=>(n.forEach(h=>{u=u.insert(h.key,h)}),u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LI{constructor(e,n,s,o){this.persistence=e,this._s=n,this.serializer=o,this.us=new at(Ve),this.cs=new Js(u=>ip(u),rp),this.ls=new Map,this.hs=e.getRemoteDocumentCache(),this.Gr=e.getTargetCache(),this.jr=e.getBundleCache(),this.Ps(s)}Ps(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new RI(this.hs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.hs.setIndexManager(this.indexManager),this._s.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.us))}}function UI(r,e,n,s){return new LI(r,e,n,s)}async function PT(r,e){const n=we(r);return await n.persistence.runTransaction("Handle user change","readonly",s=>{let o;return n.mutationQueue.getAllMutationBatches(s).next(u=>(o=u,n.Ps(e),n.mutationQueue.getAllMutationBatches(s))).next(u=>{const h=[],m=[];let p=Oe();for(const g of o){h.push(g.batchId);for(const E of g.mutations)p=p.add(E.key)}for(const g of u){m.push(g.batchId);for(const E of g.mutations)p=p.add(E.key)}return n.localDocuments.getDocuments(s,p).next(g=>({Ts:g,removedBatchIds:h,addedBatchIds:m}))})})}function zI(r,e){const n=we(r);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const o=e.batch.keys(),u=n.hs.newChangeBuffer({trackRemovals:!0});return function(m,p,g,E){const A=g.batch,R=A.keys();let N=J.resolve();return R.forEach(P=>{N=N.next(()=>E.getEntry(p,P)).next(Q=>{const L=g.docVersions.get(P);Ge(L!==null),Q.version.compareTo(L)<0&&(A.applyToRemoteDocument(Q,g),Q.isValidDocument()&&(Q.setReadTime(g.commitVersion),E.addEntry(Q)))})}),N.next(()=>m.mutationQueue.removeMutationBatch(p,A))}(n,s,e,u).next(()=>u.apply(s)).next(()=>n.mutationQueue.performConsistencyCheck(s)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(m){let p=Oe();for(let g=0;g<m.mutationResults.length;++g)m.mutationResults[g].transformResults.length>0&&(p=p.add(m.batch.mutations[g].key));return p}(e))).next(()=>n.localDocuments.getDocuments(s,o))})}function LT(r){const e=we(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Gr.getLastRemoteSnapshotVersion(n))}function jI(r,e){const n=we(r),s=e.snapshotVersion;let o=n.us;return n.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const h=n.hs.newChangeBuffer({trackRemovals:!0});o=n.us;const m=[];e.targetChanges.forEach((E,A)=>{const R=o.get(A);if(!R)return;m.push(n.Gr.removeMatchingKeys(u,E.removedDocuments,A).next(()=>n.Gr.addMatchingKeys(u,E.addedDocuments,A)));let N=R.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(A)!==null?N=N.withResumeToken(Ft.EMPTY_BYTE_STRING,be.min()).withLastLimboFreeSnapshotVersion(be.min()):E.resumeToken.approximateByteSize()>0&&(N=N.withResumeToken(E.resumeToken,s)),o=o.insert(A,N),function(Q,L,K){return Q.resumeToken.approximateByteSize()===0||L.snapshotVersion.toMicroseconds()-Q.snapshotVersion.toMicroseconds()>=3e8?!0:K.addedDocuments.size+K.modifiedDocuments.size+K.removedDocuments.size>0}(R,N,E)&&m.push(n.Gr.updateTargetData(u,N))});let p=rr(),g=Oe();if(e.documentUpdates.forEach(E=>{e.resolvedLimboDocuments.has(E)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(u,E))}),m.push(BI(u,h,e.documentUpdates).next(E=>{p=E.Is,g=E.ds})),!s.isEqual(be.min())){const E=n.Gr.getLastRemoteSnapshotVersion(u).next(A=>n.Gr.setTargetsMetadata(u,u.currentSequenceNumber,s));m.push(E)}return J.waitFor(m).next(()=>h.apply(u)).next(()=>n.localDocuments.getLocalViewOfDocuments(u,p,g)).next(()=>p)}).then(u=>(n.us=o,u))}function BI(r,e,n){let s=Oe(),o=Oe();return n.forEach(u=>s=s.add(u)),e.getEntries(r,s).next(u=>{let h=rr();return n.forEach((m,p)=>{const g=u.get(m);p.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(m)),p.isNoDocument()&&p.version.isEqual(be.min())?(e.removeEntry(m,p.readTime),h=h.insert(m,p)):!g.isValidDocument()||p.version.compareTo(g.version)>0||p.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(p),h=h.insert(m,p)):ue("LocalStore","Ignoring outdated watch update for ",m,". Current version:",g.version," Watch version:",p.version)}),{Is:h,ds:o}})}function qI(r,e){const n=we(r);return n.persistence.runTransaction("Get next mutation batch","readonly",s=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function HI(r,e){const n=we(r);return n.persistence.runTransaction("Allocate target","readwrite",s=>{let o;return n.Gr.getTargetData(s,e).next(u=>u?(o=u,J.resolve(o)):n.Gr.allocateTargetId(s).next(h=>(o=new Xr(e,h,"TargetPurposeListen",s.currentSequenceNumber),n.Gr.addTargetData(s,o).next(()=>o))))}).then(s=>{const o=n.us.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.us=n.us.insert(s.targetId,s),n.cs.set(e,s.targetId)),s})}async function Dm(r,e,n){const s=we(r),o=s.us.get(e),u=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",u,h=>s.persistence.referenceDelegate.removeTarget(h,o))}catch(h){if(!_o(h))throw h;ue("LocalStore",`Failed to update sequence numbers for target ${e}: ${h}`)}s.us=s.us.remove(e),s.cs.delete(o.target)}function jv(r,e,n){const s=we(r);let o=be.min(),u=Oe();return s.persistence.runTransaction("Execute query","readwrite",h=>function(p,g,E){const A=we(p),R=A.cs.get(E);return R!==void 0?J.resolve(A.us.get(R)):A.Gr.getTargetData(g,E)}(s,h,yi(e)).next(m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,s.Gr.getMatchingKeysForTargetId(h,m.targetId).next(p=>{u=p})}).next(()=>s._s.getDocumentsMatchingQuery(h,e,n?o:be.min(),n?u:Oe())).next(m=>(FI(s,N1(e),m),{documents:m,Es:u})))}function FI(r,e,n){let s=r.ls.get(e)||be.min();n.forEach((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)}),r.ls.set(e,s)}class Bv{constructor(){this.activeTargetIds=L1()}ps(e){this.activeTargetIds=this.activeTargetIds.add(e)}ys(e){this.activeTargetIds=this.activeTargetIds.delete(e)}gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class GI{constructor(){this._o=new Bv,this.ao={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this._o.ps(e),this.ao[e]||"not-current"}updateQueryState(e,n,s){this.ao[e]=n}removeLocalQueryTarget(e){this._o.ys(e)}isLocalQueryTarget(e){return this._o.activeTargetIds.has(e)}clearQueryState(e){delete this.ao[e]}getAllActiveQueryTargets(){return this._o.activeTargetIds}isActiveQueryTarget(e){return this._o.activeTargetIds.has(e)}start(){return this._o=new Bv,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KI{uo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qv{constructor(){this.co=()=>this.lo(),this.ho=()=>this.Po(),this.To=[],this.Io()}uo(e){this.To.push(e)}shutdown(){window.removeEventListener("online",this.co),window.removeEventListener("offline",this.ho)}Io(){window.addEventListener("online",this.co),window.addEventListener("offline",this.ho)}lo(){ue("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.To)e(0)}Po(){ue("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.To)e(1)}static p(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let jc=null;function im(){return jc===null?jc=function(){return 268435456+Math.round(2147483648*Math.random())}():jc++,"0x"+jc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QI={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $I{constructor(e){this.Eo=e.Eo,this.Ao=e.Ao}Ro(e){this.Vo=e}mo(e){this.fo=e}po(e){this.yo=e}onMessage(e){this.wo=e}close(){this.Ao()}send(e){this.Eo(e)}So(){this.Vo()}bo(){this.fo()}Do(e){this.yo(e)}vo(e){this.wo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $t="WebChannelConnection";class YI extends class{get Co(){return!1}constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const s=n.ssl?"https":"http",o=encodeURIComponent(this.databaseId.projectId),u=encodeURIComponent(this.databaseId.database);this.Fo=s+"://"+n.host,this.Mo=`projects/${o}/databases/${u}`,this.xo=this.databaseId.database==="(default)"?`project_id=${o}`:`project_id=${o}&database_id=${u}`}Oo(n,s,o,u,h){const m=im(),p=this.No(n,s.toUriEncodedString());ue("RestConnection",`Sending RPC '${n}' ${m}:`,p,o);const g={"google-cloud-resource-prefix":this.Mo,"x-goog-request-params":this.xo};return this.Bo(g,u,h),this.Lo(n,p,g,o).then(E=>(ue("RestConnection",`Received RPC '${n}' ${m}: `,E),E),E=>{throw ro("RestConnection",`RPC '${n}' ${m} failed with error: `,E,"url: ",p,"request:",o),E})}ko(n,s,o,u,h,m){return this.Oo(n,s,o,u,h)}Bo(n,s,o){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+go}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),s&&s.headers.forEach((u,h)=>n[h]=u),o&&o.headers.forEach((u,h)=>n[h]=u)}No(n,s){const o=QI[n];return`${this.Fo}/v1/${s}:${o}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Lo(e,n,s,o){const u=im();return new Promise((h,m)=>{const p=new XE;p.setWithCredentials(!0),p.listenOnce(WE.COMPLETE,()=>{try{switch(p.getLastErrorCode()){case Fc.NO_ERROR:const E=p.getResponseJson();ue($t,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(E)),h(E);break;case Fc.TIMEOUT:ue($t,`RPC '${e}' ${u} timed out`),m(new ce(ee.DEADLINE_EXCEEDED,"Request time out"));break;case Fc.HTTP_ERROR:const A=p.getStatus();if(ue($t,`RPC '${e}' ${u} failed with status:`,A,"response text:",p.getResponseText()),A>0){let R=p.getResponseJson();Array.isArray(R)&&(R=R[0]);const N=R==null?void 0:R.error;if(N&&N.status&&N.message){const P=function(L){const K=L.toLowerCase().replace(/_/g,"-");return Object.values(ee).indexOf(K)>=0?K:ee.UNKNOWN}(N.status);m(new ce(P,N.message))}else m(new ce(ee.UNKNOWN,"Server responded with status "+p.getStatus()))}else m(new ce(ee.UNAVAILABLE,"Connection failed."));break;default:Te()}}finally{ue($t,`RPC '${e}' ${u} completed.`)}});const g=JSON.stringify(o);ue($t,`RPC '${e}' ${u} sending request:`,o),p.send(n,"POST",g,s,15)})}qo(e,n,s){const o=im(),u=[this.Fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],h=eT(),m=JE(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(p.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Bo(p.initMessageHeaders,n,s),p.encodeInitMessageHeaders=!0;const E=u.join("");ue($t,`Creating RPC '${e}' stream ${o}: ${E}`,p);const A=h.createWebChannel(E,p);let R=!1,N=!1;const P=new $I({Eo:L=>{N?ue($t,`Not sending because RPC '${e}' stream ${o} is closed:`,L):(R||(ue($t,`Opening RPC '${e}' stream ${o} transport.`),A.open(),R=!0),ue($t,`RPC '${e}' stream ${o} sending:`,L),A.send(L))},Ao:()=>A.close()}),Q=(L,K,Y)=>{L.listen(K,z=>{try{Y(z)}catch(ne){setTimeout(()=>{throw ne},0)}})};return Q(A,Ml.EventType.OPEN,()=>{N||(ue($t,`RPC '${e}' stream ${o} transport opened.`),P.So())}),Q(A,Ml.EventType.CLOSE,()=>{N||(N=!0,ue($t,`RPC '${e}' stream ${o} transport closed`),P.Do())}),Q(A,Ml.EventType.ERROR,L=>{N||(N=!0,ro($t,`RPC '${e}' stream ${o} transport errored:`,L),P.Do(new ce(ee.UNAVAILABLE,"The operation could not be completed")))}),Q(A,Ml.EventType.MESSAGE,L=>{var K;if(!N){const Y=L.data[0];Ge(!!Y);const z=Y,ne=(z==null?void 0:z.error)||((K=z[0])===null||K===void 0?void 0:K.error);if(ne){ue($t,`RPC '${e}' stream ${o} received error:`,ne);const re=ne.status;let he=function(w){const D=Et[w];if(D!==void 0)return ST(D)}(re),C=ne.message;he===void 0&&(he=ee.INTERNAL,C="Unknown error status: "+re+" with message "+ne.message),N=!0,P.Do(new ce(he,C)),A.close()}else ue($t,`RPC '${e}' stream ${o} received:`,Y),P.vo(Y)}}),Q(m,ZE.STAT_EVENT,L=>{L.stat===_m.PROXY?ue($t,`RPC '${e}' stream ${o} detected buffering proxy`):L.stat===_m.NOPROXY&&ue($t,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{P.bo()},0),P}}function rm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Of(r){return new nI(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UT{constructor(e,n,s=1e3,o=1.5,u=6e4){this.li=e,this.timerId=n,this.Qo=s,this.Ko=o,this.$o=u,this.Uo=0,this.Wo=null,this.Go=Date.now(),this.reset()}reset(){this.Uo=0}zo(){this.Uo=this.$o}jo(e){this.cancel();const n=Math.floor(this.Uo+this.Ho()),s=Math.max(0,Date.now()-this.Go),o=Math.max(0,n-s);o>0&&ue("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.Uo} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.Wo=this.li.enqueueAfterDelay(this.timerId,o,()=>(this.Go=Date.now(),e())),this.Uo*=this.Ko,this.Uo<this.Qo&&(this.Uo=this.Qo),this.Uo>this.$o&&(this.Uo=this.$o)}Jo(){this.Wo!==null&&(this.Wo.skipDelay(),this.Wo=null)}cancel(){this.Wo!==null&&(this.Wo.cancel(),this.Wo=null)}Ho(){return(Math.random()-.5)*this.Uo}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zT{constructor(e,n,s,o,u,h,m,p){this.li=e,this.Yo=s,this.Zo=o,this.connection=u,this.authCredentialsProvider=h,this.appCheckCredentialsProvider=m,this.listener=p,this.state=0,this.Xo=0,this.e_=null,this.t_=null,this.stream=null,this.n_=0,this.r_=new UT(e,n)}i_(){return this.state===1||this.state===5||this.s_()}s_(){return this.state===2||this.state===3}start(){this.n_=0,this.state!==4?this.auth():this.o_()}async stop(){this.i_()&&await this.close(0)}__(){this.state=0,this.r_.reset()}a_(){this.s_()&&this.e_===null&&(this.e_=this.li.enqueueAfterDelay(this.Yo,6e4,()=>this.u_()))}c_(e){this.l_(),this.stream.send(e)}async u_(){if(this.s_())return this.close(0)}l_(){this.e_&&(this.e_.cancel(),this.e_=null)}h_(){this.t_&&(this.t_.cancel(),this.t_=null)}async close(e,n){this.l_(),this.h_(),this.r_.cancel(),this.Xo++,e!==4?this.r_.reset():n&&n.code===ee.RESOURCE_EXHAUSTED?(ir(n.toString()),ir("Using maximum backoff delay to prevent overloading the backend."),this.r_.zo()):n&&n.code===ee.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.P_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.po(n)}P_(){}auth(){this.state=1;const e=this.T_(this.Xo),n=this.Xo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,o])=>{this.Xo===n&&this.I_(s,o)},s=>{e(()=>{const o=new ce(ee.UNKNOWN,"Fetching auth token failed: "+s.message);return this.d_(o)})})}I_(e,n){const s=this.T_(this.Xo);this.stream=this.E_(e,n),this.stream.Ro(()=>{s(()=>this.listener.Ro())}),this.stream.mo(()=>{s(()=>(this.state=2,this.t_=this.li.enqueueAfterDelay(this.Zo,1e4,()=>(this.s_()&&(this.state=3),Promise.resolve())),this.listener.mo()))}),this.stream.po(o=>{s(()=>this.d_(o))}),this.stream.onMessage(o=>{s(()=>++this.n_==1?this.A_(o):this.onNext(o))})}o_(){this.state=5,this.r_.jo(async()=>{this.state=0,this.start()})}d_(e){return ue("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}T_(e){return n=>{this.li.enqueueAndForget(()=>this.Xo===e?n():(ue("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class XI extends zT{constructor(e,n,s,o,u,h){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,o,h),this.serializer=u}E_(e,n){return this.connection.qo("Listen",e,n)}A_(e){return this.onNext(e)}onNext(e){this.r_.reset();const n=sI(this.serializer,e),s=function(u){if(!("targetChange"in u))return be.min();const h=u.targetChange;return h.targetIds&&h.targetIds.length?be.min():h.readTime?vi(h.readTime):be.min()}(e);return this.listener.R_(n,s)}V_(e){const n={};n.database=Cm(this.serializer),n.addTarget=function(u,h){let m;const p=h.target;if(m=bm(p)?{documents:lI(u,p)}:{query:uI(u,p).ct},m.targetId=h.targetId,h.resumeToken.approximateByteSize()>0){m.resumeToken=CT(u,h.resumeToken);const g=Sm(u,h.expectedCount);g!==null&&(m.expectedCount=g)}else if(h.snapshotVersion.compareTo(be.min())>0){m.readTime=cf(u,h.snapshotVersion.toTimestamp());const g=Sm(u,h.expectedCount);g!==null&&(m.expectedCount=g)}return m}(this.serializer,e);const s=fI(this.serializer,e);s&&(n.labels=s),this.c_(n)}m_(e){const n={};n.database=Cm(this.serializer),n.removeTarget=e,this.c_(n)}}class WI extends zT{constructor(e,n,s,o,u,h){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,o,h),this.serializer=u}get f_(){return this.n_>0}start(){this.lastStreamToken=void 0,super.start()}P_(){this.f_&&this.g_([])}E_(e,n){return this.connection.qo("Write",e,n)}A_(e){return Ge(!!e.streamToken),this.lastStreamToken=e.streamToken,Ge(!e.writeResults||e.writeResults.length===0),this.listener.p_()}onNext(e){Ge(!!e.streamToken),this.lastStreamToken=e.streamToken,this.r_.reset();const n=oI(e.writeResults,e.commitTime),s=vi(e.commitTime);return this.listener.y_(s,n)}w_(){const e={};e.database=Cm(this.serializer),this.c_(e)}g_(e){const n={streamToken:this.lastStreamToken,writes:e.map(s=>aI(this.serializer,s))};this.c_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZI extends class{}{constructor(e,n,s,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=o,this.S_=!1}b_(){if(this.S_)throw new ce(ee.FAILED_PRECONDITION,"The client has already been terminated.")}Oo(e,n,s,o){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,h])=>this.connection.Oo(e,Rm(n,s),o,u,h)).catch(u=>{throw u.name==="FirebaseError"?(u.code===ee.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new ce(ee.UNKNOWN,u.toString())})}ko(e,n,s,o,u){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([h,m])=>this.connection.ko(e,Rm(n,s),o,h,m,u)).catch(h=>{throw h.name==="FirebaseError"?(h.code===ee.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new ce(ee.UNKNOWN,h.toString())})}terminate(){this.S_=!0,this.connection.terminate()}}class JI{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.D_=0,this.v_=null,this.C_=!0}F_(){this.D_===0&&(this.M_("Unknown"),this.v_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.v_=null,this.x_("Backend didn't respond within 10 seconds."),this.M_("Offline"),Promise.resolve())))}O_(e){this.state==="Online"?this.M_("Unknown"):(this.D_++,this.D_>=1&&(this.N_(),this.x_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.M_("Offline")))}set(e){this.N_(),this.D_=0,e==="Online"&&(this.C_=!1),this.M_(e)}M_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}x_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.C_?(ir(n),this.C_=!1):ue("OnlineStateTracker",n)}N_(){this.v_!==null&&(this.v_.cancel(),this.v_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eC{constructor(e,n,s,o,u){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.B_=[],this.L_=new Map,this.k_=new Set,this.q_=[],this.Q_=u,this.Q_.uo(h=>{s.enqueueAndForget(async()=>{ta(this)&&(ue("RemoteStore","Restarting streams for network reachability change."),await async function(p){const g=we(p);g.k_.add(4),await su(g),g.K_.set("Unknown"),g.k_.delete(4),await Mf(g)}(this))})}),this.K_=new JI(s,o)}}async function Mf(r){if(ta(r))for(const e of r.q_)await e(!0)}async function su(r){for(const e of r.q_)await e(!1)}function jT(r,e){const n=we(r);n.L_.has(e.targetId)||(n.L_.set(e.targetId,e),yp(n)?gp(n):Eo(n).s_()&&pp(n,e))}function mp(r,e){const n=we(r),s=Eo(n);n.L_.delete(e),s.s_()&&BT(n,e),n.L_.size===0&&(s.s_()?s.a_():ta(n)&&n.K_.set("Unknown"))}function pp(r,e){if(r.U_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(be.min())>0){const n=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Eo(r).V_(e)}function BT(r,e){r.U_.xe(e),Eo(r).m_(e)}function gp(r){r.U_=new Z1({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),ut:e=>r.L_.get(e)||null,nt:()=>r.datastore.serializer.databaseId}),Eo(r).start(),r.K_.F_()}function yp(r){return ta(r)&&!Eo(r).i_()&&r.L_.size>0}function ta(r){return we(r).k_.size===0}function qT(r){r.U_=void 0}async function tC(r){r.K_.set("Online")}async function nC(r){r.L_.forEach((e,n)=>{pp(r,e)})}async function iC(r,e){qT(r),yp(r)?(r.K_.O_(e),gp(r)):r.K_.set("Unknown")}async function rC(r,e,n){if(r.K_.set("Online"),e instanceof IT&&e.state===2&&e.cause)try{await async function(o,u){const h=u.cause;for(const m of u.targetIds)o.L_.has(m)&&(await o.remoteSyncer.rejectListen(m,h),o.L_.delete(m),o.U_.removeTarget(m))}(r,e)}catch(s){ue("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),s),await hf(r,s)}else if(e instanceof $c?r.U_.$e(e):e instanceof RT?r.U_.Je(e):r.U_.Ge(e),!n.isEqual(be.min()))try{const s=await LT(r.localStore);n.compareTo(s)>=0&&await function(u,h){const m=u.U_.it(h);return m.targetChanges.forEach((p,g)=>{if(p.resumeToken.approximateByteSize()>0){const E=u.L_.get(g);E&&u.L_.set(g,E.withResumeToken(p.resumeToken,h))}}),m.targetMismatches.forEach((p,g)=>{const E=u.L_.get(p);if(!E)return;u.L_.set(p,E.withResumeToken(Ft.EMPTY_BYTE_STRING,E.snapshotVersion)),BT(u,p);const A=new Xr(E.target,p,g,E.sequenceNumber);pp(u,A)}),u.remoteSyncer.applyRemoteEvent(m)}(r,n)}catch(s){ue("RemoteStore","Failed to raise snapshot:",s),await hf(r,s)}}async function hf(r,e,n){if(!_o(e))throw e;r.k_.add(1),await su(r),r.K_.set("Offline"),n||(n=()=>LT(r.localStore)),r.asyncQueue.enqueueRetryable(async()=>{ue("RemoteStore","Retrying IndexedDB access"),await n(),r.k_.delete(1),await Mf(r)})}function HT(r,e){return e().catch(n=>hf(r,n,e))}async function Vf(r){const e=we(r),n=os(e);let s=e.B_.length>0?e.B_[e.B_.length-1].batchId:-1;for(;sC(e);)try{const o=await qI(e.localStore,s);if(o===null){e.B_.length===0&&n.a_();break}s=o.batchId,aC(e,o)}catch(o){await hf(e,o)}FT(e)&&GT(e)}function sC(r){return ta(r)&&r.B_.length<10}function aC(r,e){r.B_.push(e);const n=os(r);n.s_()&&n.f_&&n.g_(e.mutations)}function FT(r){return ta(r)&&!os(r).i_()&&r.B_.length>0}function GT(r){os(r).start()}async function oC(r){os(r).w_()}async function lC(r){const e=os(r);for(const n of r.B_)e.g_(n.mutations)}async function uC(r,e,n){const s=r.B_.shift(),o=lp.from(s,e,n);await HT(r,()=>r.remoteSyncer.applySuccessfulWrite(o)),await Vf(r)}async function cC(r,e){e&&os(r).f_&&await async function(s,o){if(function(h){return Y1(h)&&h!==ee.ABORTED}(o.code)){const u=s.B_.shift();os(s).__(),await HT(s,()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o)),await Vf(s)}}(r,e),FT(r)&&GT(r)}async function Hv(r,e){const n=we(r);n.asyncQueue.verifyOperationInProgress(),ue("RemoteStore","RemoteStore received new credentials");const s=ta(n);n.k_.add(3),await su(n),s&&n.K_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.k_.delete(3),await Mf(n)}async function fC(r,e){const n=we(r);e?(n.k_.delete(2),await Mf(n)):e||(n.k_.add(2),await su(n),n.K_.set("Unknown"))}function Eo(r){return r.W_||(r.W_=function(n,s,o){const u=we(n);return u.b_(),new XI(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(r.datastore,r.asyncQueue,{Ro:tC.bind(null,r),mo:nC.bind(null,r),po:iC.bind(null,r),R_:rC.bind(null,r)}),r.q_.push(async e=>{e?(r.W_.__(),yp(r)?gp(r):r.K_.set("Unknown")):(await r.W_.stop(),qT(r))})),r.W_}function os(r){return r.G_||(r.G_=function(n,s,o){const u=we(n);return u.b_(),new WI(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(r.datastore,r.asyncQueue,{Ro:()=>Promise.resolve(),mo:oC.bind(null,r),po:cC.bind(null,r),p_:lC.bind(null,r),y_:uC.bind(null,r)}),r.q_.push(async e=>{e?(r.G_.__(),await Vf(r)):(await r.G_.stop(),r.B_.length>0&&(ue("RemoteStore",`Stopping write stream with ${r.B_.length} pending writes`),r.B_=[]))})),r.G_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _p{constructor(e,n,s,o,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new er,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(h=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,o,u){const h=Date.now()+s,m=new _p(e,n,h,o,u);return m.start(s),m}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ce(ee.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function vp(r,e){if(ir("AsyncQueue",`${e}: ${r}`),_o(r))return new ce(ee.UNAVAILABLE,`${e}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ja{static emptySet(e){return new Ja(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||ye.comparator(n.key,s.key):(n,s)=>ye.comparator(n.key,s.key),this.keyedMap=Vl(),this.sortedSet=new at(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,s)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Ja)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new Ja;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fv{constructor(){this.z_=new at(ye.comparator)}track(e){const n=e.doc.key,s=this.z_.get(n);s?e.type!==0&&s.type===3?this.z_=this.z_.insert(n,e):e.type===3&&s.type!==1?this.z_=this.z_.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.z_=this.z_.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.z_=this.z_.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.z_=this.z_.remove(n):e.type===1&&s.type===2?this.z_=this.z_.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.z_=this.z_.insert(n,{type:2,doc:e.doc}):Te():this.z_=this.z_.insert(n,e)}j_(){const e=[];return this.z_.inorderTraversal((n,s)=>{e.push(s)}),e}}class uo{constructor(e,n,s,o,u,h,m,p,g){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=h,this.syncStateChanged=m,this.excludesMetadataChanges=p,this.hasCachedResults=g}static fromInitialDocuments(e,n,s,o,u){const h=[];return n.forEach(m=>{h.push({type:0,doc:m})}),new uo(e,n,Ja.emptySet(n),h,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&If(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==s[o].type||!n[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hC{constructor(){this.H_=void 0,this.J_=[]}Y_(){return this.J_.some(e=>e.Z_())}}class dC{constructor(){this.queries=Gv(),this.onlineState="Unknown",this.X_=new Set}terminate(){(function(n,s){const o=we(n),u=o.queries;o.queries=Gv(),u.forEach((h,m)=>{for(const p of m.J_)p.onError(s)})})(this,new ce(ee.ABORTED,"Firestore shutting down"))}}function Gv(){return new Js(r=>dT(r),If)}async function KT(r,e){const n=we(r);let s=3;const o=e.query;let u=n.queries.get(o);u?!u.Y_()&&e.Z_()&&(s=2):(u=new hC,s=e.Z_()?0:1);try{switch(s){case 0:u.H_=await n.onListen(o,!0);break;case 1:u.H_=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(h){const m=vp(h,`Initialization of query '${Ya(e.query)}' failed`);return void e.onError(m)}n.queries.set(o,u),u.J_.push(e),e.ea(n.onlineState),u.H_&&e.ta(u.H_)&&Ep(n)}async function QT(r,e){const n=we(r),s=e.query;let o=3;const u=n.queries.get(s);if(u){const h=u.J_.indexOf(e);h>=0&&(u.J_.splice(h,1),u.J_.length===0?o=e.Z_()?0:1:!u.Y_()&&e.Z_()&&(o=2))}switch(o){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function mC(r,e){const n=we(r);let s=!1;for(const o of e){const u=o.query,h=n.queries.get(u);if(h){for(const m of h.J_)m.ta(o)&&(s=!0);h.H_=o}}s&&Ep(n)}function pC(r,e,n){const s=we(r),o=s.queries.get(e);if(o)for(const u of o.J_)u.onError(n);s.queries.delete(e)}function Ep(r){r.X_.forEach(e=>{e.next()})}var xm,Kv;(Kv=xm||(xm={})).na="default",Kv.Cache="cache";class $T{constructor(e,n,s){this.query=e,this.ra=n,this.ia=!1,this.sa=null,this.onlineState="Unknown",this.options=s||{}}ta(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new uo(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.ia?this.oa(e)&&(this.ra.next(e),n=!0):this._a(e,this.onlineState)&&(this.aa(e),n=!0),this.sa=e,n}onError(e){this.ra.error(e)}ea(e){this.onlineState=e;let n=!1;return this.sa&&!this.ia&&this._a(this.sa,e)&&(this.aa(this.sa),n=!0),n}_a(e,n){if(!e.fromCache||!this.Z_())return!0;const s=n!=="Offline";return(!this.options.ua||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}oa(e){if(e.docChanges.length>0)return!0;const n=this.sa&&this.sa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}aa(e){e=uo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ia=!0,this.ra.next(e)}Z_(){return this.options.source!==xm.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YT{constructor(e){this.key=e}}class XT{constructor(e){this.key=e}}class gC{constructor(e,n){this.query=e,this.Ea=n,this.Aa=null,this.hasCachedResults=!1,this.current=!1,this.Ra=Oe(),this.mutatedKeys=Oe(),this.Va=mT(e),this.ma=new Ja(this.Va)}get fa(){return this.Ea}ga(e,n){const s=n?n.pa:new Fv,o=n?n.ma:this.ma;let u=n?n.mutatedKeys:this.mutatedKeys,h=o,m=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((E,A)=>{const R=o.get(E),N=Cf(this.query,A)?A:null,P=!!R&&this.mutatedKeys.has(R.key),Q=!!N&&(N.hasLocalMutations||this.mutatedKeys.has(N.key)&&N.hasCommittedMutations);let L=!1;R&&N?R.data.isEqual(N.data)?P!==Q&&(s.track({type:3,doc:N}),L=!0):this.ya(R,N)||(s.track({type:2,doc:N}),L=!0,(p&&this.Va(N,p)>0||g&&this.Va(N,g)<0)&&(m=!0)):!R&&N?(s.track({type:0,doc:N}),L=!0):R&&!N&&(s.track({type:1,doc:R}),L=!0,(p||g)&&(m=!0)),L&&(N?(h=h.add(N),u=Q?u.add(E):u.delete(E)):(h=h.delete(E),u=u.delete(E)))}),this.query.limit!==null)for(;h.size>this.query.limit;){const E=this.query.limitType==="F"?h.last():h.first();h=h.delete(E.key),u=u.delete(E.key),s.track({type:1,doc:E})}return{ma:h,pa:s,ss:m,mutatedKeys:u}}ya(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,o){const u=this.ma;this.ma=e.ma,this.mutatedKeys=e.mutatedKeys;const h=e.pa.j_();h.sort((E,A)=>function(N,P){const Q=L=>{switch(L){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Te()}};return Q(N)-Q(P)}(E.type,A.type)||this.Va(E.doc,A.doc)),this.wa(s),o=o!=null&&o;const m=n&&!o?this.Sa():[],p=this.Ra.size===0&&this.current&&!o?1:0,g=p!==this.Aa;return this.Aa=p,h.length!==0||g?{snapshot:new uo(this.query,e.ma,u,h,e.mutatedKeys,p===0,g,!1,!!s&&s.resumeToken.approximateByteSize()>0),ba:m}:{ba:m}}ea(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({ma:this.ma,pa:new Fv,mutatedKeys:this.mutatedKeys,ss:!1},!1)):{ba:[]}}Da(e){return!this.Ea.has(e)&&!!this.ma.has(e)&&!this.ma.get(e).hasLocalMutations}wa(e){e&&(e.addedDocuments.forEach(n=>this.Ea=this.Ea.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ea=this.Ea.delete(n)),this.current=e.current)}Sa(){if(!this.current)return[];const e=this.Ra;this.Ra=Oe(),this.ma.forEach(s=>{this.Da(s.key)&&(this.Ra=this.Ra.add(s.key))});const n=[];return e.forEach(s=>{this.Ra.has(s)||n.push(new XT(s))}),this.Ra.forEach(s=>{e.has(s)||n.push(new YT(s))}),n}va(e){this.Ea=e.Es,this.Ra=Oe();const n=this.ga(e.documents);return this.applyChanges(n,!0)}Ca(){return uo.fromInitialDocuments(this.query,this.ma,this.mutatedKeys,this.Aa===0,this.hasCachedResults)}}class yC{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class _C{constructor(e){this.key=e,this.Fa=!1}}class vC{constructor(e,n,s,o,u,h){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=h,this.Ma={},this.xa=new Js(m=>dT(m),If),this.Oa=new Map,this.Na=new Set,this.Ba=new at(ye.comparator),this.La=new Map,this.ka=new fp,this.qa={},this.Qa=new Map,this.Ka=lo.Qn(),this.onlineState="Unknown",this.$a=void 0}get isPrimaryClient(){return this.$a===!0}}async function EC(r,e,n=!0){const s=n0(r);let o;const u=s.xa.get(e);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.Ca()):o=await WT(s,e,n,!0),o}async function TC(r,e){const n=n0(r);await WT(n,e,!0,!1)}async function WT(r,e,n,s){const o=await HI(r.localStore,yi(e)),u=o.targetId,h=r.sharedClientState.addLocalQueryTarget(u,n);let m;return s&&(m=await bC(r,e,u,h==="current",o.resumeToken)),r.isPrimaryClient&&n&&jT(r.remoteStore,o),m}async function bC(r,e,n,s,o){r.Ua=(A,R,N)=>async function(Q,L,K,Y){let z=L.view.ga(K);z.ss&&(z=await jv(Q.localStore,L.query,!1).then(({documents:C})=>L.view.ga(C,z)));const ne=Y&&Y.targetChanges.get(L.targetId),re=Y&&Y.targetMismatches.get(L.targetId)!=null,he=L.view.applyChanges(z,Q.isPrimaryClient,ne,re);return $v(Q,L.targetId,he.ba),he.snapshot}(r,A,R,N);const u=await jv(r.localStore,e,!0),h=new gC(e,u.Es),m=h.ga(u.documents),p=ru.createSynthesizedTargetChangeForCurrentChange(n,s&&r.onlineState!=="Offline",o),g=h.applyChanges(m,r.isPrimaryClient,p);$v(r,n,g.ba);const E=new yC(e,n,h);return r.xa.set(e,E),r.Oa.has(n)?r.Oa.get(n).push(e):r.Oa.set(n,[e]),g.snapshot}async function AC(r,e,n){const s=we(r),o=s.xa.get(e),u=s.Oa.get(o.targetId);if(u.length>1)return s.Oa.set(o.targetId,u.filter(h=>!If(h,e))),void s.xa.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await Dm(s.localStore,o.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(o.targetId),n&&mp(s.remoteStore,o.targetId),Nm(s,o.targetId)}).catch(yo)):(Nm(s,o.targetId),await Dm(s.localStore,o.targetId,!0))}async function wC(r,e){const n=we(r),s=n.xa.get(e),o=n.Oa.get(s.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),mp(n.remoteStore,s.targetId))}async function SC(r,e,n){const s=OC(r);try{const o=await function(h,m){const p=we(h),g=Ct.now(),E=m.reduce((N,P)=>N.add(P.key),Oe());let A,R;return p.persistence.runTransaction("Locally write mutations","readwrite",N=>{let P=rr(),Q=Oe();return p.hs.getEntries(N,E).next(L=>{P=L,P.forEach((K,Y)=>{Y.isValidDocument()||(Q=Q.add(K))})}).next(()=>p.localDocuments.getOverlayedDocuments(N,P)).next(L=>{A=L;const K=[];for(const Y of m){const z=F1(Y,A.get(Y.key).overlayedDocument);z!=null&&K.push(new ea(Y.key,z,sT(z.value.mapValue),_i.exists(!0)))}return p.mutationQueue.addMutationBatch(N,g,K,m)}).next(L=>{R=L;const K=L.applyToLocalDocumentSet(A,Q);return p.documentOverlayCache.saveOverlays(N,L.batchId,K)})}).then(()=>({batchId:R.batchId,changes:gT(A)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),function(h,m,p){let g=h.qa[h.currentUser.toKey()];g||(g=new at(Ve)),g=g.insert(m,p),h.qa[h.currentUser.toKey()]=g}(s,o.batchId,n),await au(s,o.changes),await Vf(s.remoteStore)}catch(o){const u=vp(o,"Failed to persist write");n.reject(u)}}async function ZT(r,e){const n=we(r);try{const s=await jI(n.localStore,e);e.targetChanges.forEach((o,u)=>{const h=n.La.get(u);h&&(Ge(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?h.Fa=!0:o.modifiedDocuments.size>0?Ge(h.Fa):o.removedDocuments.size>0&&(Ge(h.Fa),h.Fa=!1))}),await au(n,s,e)}catch(s){await yo(s)}}function Qv(r,e,n){const s=we(r);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const o=[];s.xa.forEach((u,h)=>{const m=h.view.ea(e);m.snapshot&&o.push(m.snapshot)}),function(h,m){const p=we(h);p.onlineState=m;let g=!1;p.queries.forEach((E,A)=>{for(const R of A.J_)R.ea(m)&&(g=!0)}),g&&Ep(p)}(s.eventManager,e),o.length&&s.Ma.R_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function RC(r,e,n){const s=we(r);s.sharedClientState.updateQueryState(e,"rejected",n);const o=s.La.get(e),u=o&&o.key;if(u){let h=new at(ye.comparator);h=h.insert(u,Xt.newNoDocument(u,be.min()));const m=Oe().add(u),p=new Nf(be.min(),new Map,new at(Ve),h,m);await ZT(s,p),s.Ba=s.Ba.remove(u),s.La.delete(e),Tp(s)}else await Dm(s.localStore,e,!1).then(()=>Nm(s,e,n)).catch(yo)}async function IC(r,e){const n=we(r),s=e.batch.batchId;try{const o=await zI(n.localStore,e);e0(n,s,null),JT(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await au(n,o)}catch(o){await yo(o)}}async function CC(r,e,n){const s=we(r);try{const o=await function(h,m){const p=we(h);return p.persistence.runTransaction("Reject batch","readwrite-primary",g=>{let E;return p.mutationQueue.lookupMutationBatch(g,m).next(A=>(Ge(A!==null),E=A.keys(),p.mutationQueue.removeMutationBatch(g,A))).next(()=>p.mutationQueue.performConsistencyCheck(g)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(g,E,m)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,E)).next(()=>p.localDocuments.getDocuments(g,E))})}(s.localStore,e);e0(s,e,n),JT(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await au(s,o)}catch(o){await yo(o)}}function JT(r,e){(r.Qa.get(e)||[]).forEach(n=>{n.resolve()}),r.Qa.delete(e)}function e0(r,e,n){const s=we(r);let o=s.qa[s.currentUser.toKey()];if(o){const u=o.get(e);u&&(n?u.reject(n):u.resolve(),o=o.remove(e)),s.qa[s.currentUser.toKey()]=o}}function Nm(r,e,n=null){r.sharedClientState.removeLocalQueryTarget(e);for(const s of r.Oa.get(e))r.xa.delete(s),n&&r.Ma.Wa(s,n);r.Oa.delete(e),r.isPrimaryClient&&r.ka.yr(e).forEach(s=>{r.ka.containsKey(s)||t0(r,s)})}function t0(r,e){r.Na.delete(e.path.canonicalString());const n=r.Ba.get(e);n!==null&&(mp(r.remoteStore,n),r.Ba=r.Ba.remove(e),r.La.delete(n),Tp(r))}function $v(r,e,n){for(const s of n)s instanceof YT?(r.ka.addReference(s.key,e),DC(r,s)):s instanceof XT?(ue("SyncEngine","Document no longer in limbo: "+s.key),r.ka.removeReference(s.key,e),r.ka.containsKey(s.key)||t0(r,s.key)):Te()}function DC(r,e){const n=e.key,s=n.path.canonicalString();r.Ba.get(n)||r.Na.has(s)||(ue("SyncEngine","New document in limbo: "+n),r.Na.add(s),Tp(r))}function Tp(r){for(;r.Na.size>0&&r.Ba.size<r.maxConcurrentLimboResolutions;){const e=r.Na.values().next().value;r.Na.delete(e);const n=new ye(et.fromString(e)),s=r.Ka.next();r.La.set(s,new _C(n)),r.Ba=r.Ba.insert(n,s),jT(r.remoteStore,new Xr(yi(sp(n.path)),s,"TargetPurposeLimboResolution",wf.oe))}}async function au(r,e,n){const s=we(r),o=[],u=[],h=[];s.xa.isEmpty()||(s.xa.forEach((m,p)=>{h.push(s.Ua(p,e,n).then(g=>{var E;if((g||n)&&s.isPrimaryClient){const A=g?!g.fromCache:(E=n==null?void 0:n.targetChanges.get(p.targetId))===null||E===void 0?void 0:E.current;s.sharedClientState.updateQueryState(p.targetId,A?"current":"not-current")}if(g){o.push(g);const A=dp.zi(p.targetId,g);u.push(A)}}))}),await Promise.all(h),s.Ma.R_(o),await async function(p,g){const E=we(p);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",A=>J.forEach(g,R=>J.forEach(R.Wi,N=>E.persistence.referenceDelegate.addReference(A,R.targetId,N)).next(()=>J.forEach(R.Gi,N=>E.persistence.referenceDelegate.removeReference(A,R.targetId,N)))))}catch(A){if(!_o(A))throw A;ue("LocalStore","Failed to update sequence numbers: "+A)}for(const A of g){const R=A.targetId;if(!A.fromCache){const N=E.us.get(R),P=N.snapshotVersion,Q=N.withLastLimboFreeSnapshotVersion(P);E.us=E.us.insert(R,Q)}}}(s.localStore,u))}async function xC(r,e){const n=we(r);if(!n.currentUser.isEqual(e)){ue("SyncEngine","User change. New user:",e.toKey());const s=await PT(n.localStore,e);n.currentUser=e,function(u,h){u.Qa.forEach(m=>{m.forEach(p=>{p.reject(new ce(ee.CANCELLED,h))})}),u.Qa.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await au(n,s.Ts)}}function NC(r,e){const n=we(r),s=n.La.get(e);if(s&&s.Fa)return Oe().add(s.key);{let o=Oe();const u=n.Oa.get(e);if(!u)return o;for(const h of u){const m=n.xa.get(h);o=o.unionWith(m.view.fa)}return o}}function n0(r){const e=we(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=ZT.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=NC.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=RC.bind(null,e),e.Ma.R_=mC.bind(null,e.eventManager),e.Ma.Wa=pC.bind(null,e.eventManager),e}function OC(r){const e=we(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=IC.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=CC.bind(null,e),e}class df{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Of(e.databaseInfo.databaseId),this.sharedClientState=this.za(e),this.persistence=this.ja(e),await this.persistence.start(),this.localStore=this.Ha(e),this.gcScheduler=this.Ja(e,this.localStore),this.indexBackfillerScheduler=this.Ya(e,this.localStore)}Ja(e,n){return null}Ya(e,n){return null}Ha(e){return UI(this.persistence,new PI,e.initialUser,this.serializer)}ja(e){return new kT(hp.ei,this.serializer)}za(e){return new GI}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}df.provider={build:()=>new df};class MC extends df{constructor(e){super(),this.cacheSizeBytes=e}Ja(e,n){Ge(this.persistence.referenceDelegate instanceof ff);const s=this.persistence.referenceDelegate.garbageCollector;return new TI(s,e.asyncQueue,n)}ja(e){const n=this.cacheSizeBytes!==void 0?un.withCacheSize(this.cacheSizeBytes):un.DEFAULT;return new kT(s=>ff.ei(s,n),this.serializer)}}class Om{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>Qv(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=xC.bind(null,this.syncEngine),await fC(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new dC}()}createDatastore(e){const n=Of(e.databaseInfo.databaseId),s=function(u){return new YI(u)}(e.databaseInfo);return function(u,h,m,p){return new ZI(u,h,m,p)}(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return function(s,o,u,h,m){return new eC(s,o,u,h,m)}(this.localStore,this.datastore,e.asyncQueue,n=>Qv(this.syncEngine,n,0),function(){return qv.p()?new qv:new KI}())}createSyncEngine(e,n){return function(o,u,h,m,p,g,E){const A=new vC(o,u,h,m,p,g);return E&&(A.$a=!0),A}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(o){const u=we(o);ue("RemoteStore","RemoteStore shutting down."),u.k_.add(5),await su(u),u.Q_.shutdown(),u.K_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}Om.provider={build:()=>new Om};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i0{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Xa(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Xa(this.observer.error,e):ir("Uncaught Error in snapshot listener:",e.toString()))}eu(){this.muted=!0}Xa(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VC{constructor(e,n,s,o,u){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=o,this.user=Yt.UNAUTHENTICATED,this.clientId=nT.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,async h=>{ue("FirestoreClient","Received user=",h.uid),await this.authCredentialListener(h),this.user=h}),this.appCheckCredentials.start(s,h=>(ue("FirestoreClient","Received new app check token=",h),this.appCheckCredentialListener(h,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new er;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=vp(n,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function sm(r,e){r.asyncQueue.verifyOperationInProgress(),ue("FirestoreClient","Initializing OfflineComponentProvider");const n=r.configuration;await e.initialize(n);let s=n.initialUser;r.setCredentialChangeListener(async o=>{s.isEqual(o)||(await PT(e.localStore,o),s=o)}),e.persistence.setDatabaseDeletedListener(()=>r.terminate()),r._offlineComponents=e}async function Yv(r,e){r.asyncQueue.verifyOperationInProgress();const n=await kC(r);ue("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,r.configuration),r.setCredentialChangeListener(s=>Hv(e.remoteStore,s)),r.setAppCheckTokenChangeListener((s,o)=>Hv(e.remoteStore,o)),r._onlineComponents=e}async function kC(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){ue("FirestoreClient","Using user provided OfflineComponentProvider");try{await sm(r,r._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(o){return o.name==="FirebaseError"?o.code===ee.FAILED_PRECONDITION||o.code===ee.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(n))throw n;ro("Error using user provided cache. Falling back to memory cache: "+n),await sm(r,new df)}}else ue("FirestoreClient","Using default OfflineComponentProvider"),await sm(r,new MC(void 0));return r._offlineComponents}async function r0(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(ue("FirestoreClient","Using user provided OnlineComponentProvider"),await Yv(r,r._uninitializedComponentsProvider._online)):(ue("FirestoreClient","Using default OnlineComponentProvider"),await Yv(r,new Om))),r._onlineComponents}function PC(r){return r0(r).then(e=>e.syncEngine)}async function s0(r){const e=await r0(r),n=e.eventManager;return n.onListen=EC.bind(null,e.syncEngine),n.onUnlisten=AC.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=TC.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=wC.bind(null,e.syncEngine),n}function LC(r,e,n={}){const s=new er;return r.asyncQueue.enqueueAndForget(async()=>function(u,h,m,p,g){const E=new i0({next:R=>{E.eu(),h.enqueueAndForget(()=>QT(u,A));const N=R.docs.has(m);!N&&R.fromCache?g.reject(new ce(ee.UNAVAILABLE,"Failed to get document because the client is offline.")):N&&R.fromCache&&p&&p.source==="server"?g.reject(new ce(ee.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(R)},error:R=>g.reject(R)}),A=new $T(sp(m.path),E,{includeMetadataChanges:!0,ua:!0});return KT(u,A)}(await s0(r),r.asyncQueue,e,n,s)),s.promise}function UC(r,e,n={}){const s=new er;return r.asyncQueue.enqueueAndForget(async()=>function(u,h,m,p,g){const E=new i0({next:R=>{E.eu(),h.enqueueAndForget(()=>QT(u,A)),R.fromCache&&p.source==="server"?g.reject(new ce(ee.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(R)},error:R=>g.reject(R)}),A=new $T(m,E,{includeMetadataChanges:!0,ua:!0});return KT(u,A)}(await s0(r),r.asyncQueue,e,n,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a0(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xv=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o0(r,e,n){if(!n)throw new ce(ee.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function zC(r,e,n,s){if(e===!0&&s===!0)throw new ce(ee.INVALID_ARGUMENT,`${r} and ${n} cannot be used together.`)}function Wv(r){if(!ye.isDocumentKey(r))throw new ce(ee.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function Zv(r){if(ye.isDocumentKey(r))throw new ce(ee.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function kf(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=function(s){return s.constructor?s.constructor.name:null}(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":Te()}function $s(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new ce(ee.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=kf(r);throw new ce(ee.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jv{constructor(e){var n,s;if(e.host===void 0){if(e.ssl!==void 0)throw new ce(ee.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new ce(ee.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}zC("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=a0((s=e.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(u){if(u.timeoutSeconds!==void 0){if(isNaN(u.timeoutSeconds))throw new ce(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (must not be NaN)`);if(u.timeoutSeconds<5)throw new ce(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (minimum allowed value is 5)`);if(u.timeoutSeconds>30)throw new ce(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(s,o){return s.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Pf{constructor(e,n,s,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Jv({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ce(ee.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ce(ee.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Jv(e),e.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new WR;switch(s.type){case"firstParty":return new t1(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new ce(ee.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const s=Xv.get(n);s&&(ue("ComponentProvider","Removing Datastore"),Xv.delete(n),s.terminate())}(this),Promise.resolve()}}function jC(r,e,n,s={}){var o;const u=(r=$s(r,Pf))._getSettings(),h=`${e}:${n}`;if(u.host!=="firestore.googleapis.com"&&u.host!==h&&ro("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),r._setSettings(Object.assign(Object.assign({},u),{host:h,ssl:!1})),s.mockUserToken){let m,p;if(typeof s.mockUserToken=="string")m=s.mockUserToken,p=Yt.MOCK_USER;else{m=IS(s.mockUserToken,(o=r._app)===null||o===void 0?void 0:o.options.projectId);const g=s.mockUserToken.sub||s.mockUserToken.user_id;if(!g)throw new ce(ee.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new Yt(g)}r._authCredentials=new ZR(new tT(m,p))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class na{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new na(this.firestore,e,this._query)}}class vn{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ts(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new vn(this.firestore,e,this._key)}}class ts extends na{constructor(e,n,s){super(e,n,sp(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new vn(this.firestore,null,new ye(e))}withConverter(e){return new ts(this.firestore,e,this._path)}}function Fn(r,e,...n){if(r=cn(r),o0("collection","path",e),r instanceof Pf){const s=et.fromString(e,...n);return Zv(s),new ts(r,null,s)}{if(!(r instanceof vn||r instanceof ts))throw new ce(ee.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(et.fromString(e,...n));return Zv(s),new ts(r.firestore,null,s)}}function Mm(r,e,...n){if(r=cn(r),arguments.length===1&&(e=nT.newId()),o0("doc","path",e),r instanceof Pf){const s=et.fromString(e,...n);return Wv(s),new vn(r,null,new ye(s))}{if(!(r instanceof vn||r instanceof ts))throw new ce(ee.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(et.fromString(e,...n));return Wv(s),new vn(r.firestore,r instanceof ts?r.converter:null,new ye(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eE{constructor(e=Promise.resolve()){this.Iu=[],this.du=!1,this.Eu=[],this.Au=null,this.Ru=!1,this.Vu=!1,this.mu=[],this.r_=new UT(this,"async_queue_retry"),this.fu=()=>{const s=rm();s&&ue("AsyncQueue","Visibility state changed to "+s.visibilityState),this.r_.Jo()},this.gu=e;const n=rm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.fu)}get isShuttingDown(){return this.du}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.pu(),this.yu(e)}enterRestrictedMode(e){if(!this.du){this.du=!0,this.Vu=e||!1;const n=rm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.fu)}}enqueue(e){if(this.pu(),this.du)return new Promise(()=>{});const n=new er;return this.yu(()=>this.du&&this.Vu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Iu.push(e),this.wu()))}async wu(){if(this.Iu.length!==0){try{await this.Iu[0](),this.Iu.shift(),this.r_.reset()}catch(e){if(!_o(e))throw e;ue("AsyncQueue","Operation failed with retryable error: "+e)}this.Iu.length>0&&this.r_.jo(()=>this.wu())}}yu(e){const n=this.gu.then(()=>(this.Ru=!0,e().catch(s=>{this.Au=s,this.Ru=!1;const o=function(h){let m=h.message||"";return h.stack&&(m=h.stack.includes(h.message)?h.stack:h.message+`
`+h.stack),m}(s);throw ir("INTERNAL UNHANDLED ERROR: ",o),s}).then(s=>(this.Ru=!1,s))));return this.gu=n,n}enqueueAfterDelay(e,n,s){this.pu(),this.mu.indexOf(e)>-1&&(n=0);const o=_p.createAndSchedule(this,e,n,s,u=>this.Su(u));return this.Eu.push(o),o}pu(){this.Au&&Te()}verifyOperationInProgress(){}async bu(){let e;do e=this.gu,await e;while(e!==this.gu)}Du(e){for(const n of this.Eu)if(n.timerId===e)return!0;return!1}vu(e){return this.bu().then(()=>{this.Eu.sort((n,s)=>n.targetTimeMs-s.targetTimeMs);for(const n of this.Eu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.bu()})}Cu(e){this.mu.push(e)}Su(e){const n=this.Eu.indexOf(e);this.Eu.splice(n,1)}}class ou extends Pf{constructor(e,n,s,o){super(e,n,s,o),this.type="firestore",this._queue=new eE,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new eE(e),this._firestoreClient=void 0,await e}}}function BC(r,e){const n=typeof r=="object"?r:KE(),s=typeof r=="string"?r:"(default)",o=Jm(n,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=SS("firestore");u&&jC(o,...u)}return o}function bp(r){if(r._terminated)throw new ce(ee.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||qC(r),r._firestoreClient}function qC(r){var e,n,s;const o=r._freezeSettings(),u=function(m,p,g,E){return new g1(m,p,g,E.host,E.ssl,E.experimentalForceLongPolling,E.experimentalAutoDetectLongPolling,a0(E.experimentalLongPollingOptions),E.useFetchStreams)}(r._databaseId,((e=r._app)===null||e===void 0?void 0:e.options.appId)||"",r._persistenceKey,o);r._componentsProvider||!((n=o.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((s=o.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(r._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),r._firestoreClient=new VC(r._authCredentials,r._appCheckCredentials,r._queue,u,r._componentsProvider&&function(m){const p=m==null?void 0:m._online.build();return{_offline:m==null?void 0:m._offline.build(p),_online:p}}(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class co{constructor(e){this._byteString=e}static fromBase64String(e){try{return new co(Ft.fromBase64String(e))}catch(n){throw new ce(ee.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new co(Ft.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ap{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ce(ee.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ht(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l0{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wp{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ce(ee.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ce(ee.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ve(this._lat,e._lat)||Ve(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sp{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HC=/^__.*__$/;class FC{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new ea(e,this.data,this.fieldMask,n,this.fieldTransforms):new iu(e,this.data,n,this.fieldTransforms)}}function u0(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Te()}}class Rp{constructor(e,n,s,o,u,h){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.Fu(),this.fieldTransforms=u||[],this.fieldMask=h||[]}get path(){return this.settings.path}get Mu(){return this.settings.Mu}xu(e){return new Rp(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ou(e){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(e),o=this.xu({path:s,Nu:!1});return o.Bu(e),o}Lu(e){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(e),o=this.xu({path:s,Nu:!1});return o.Fu(),o}ku(e){return this.xu({path:void 0,Nu:!0})}qu(e){return mf(e,this.settings.methodName,this.settings.Qu||!1,this.path,this.settings.Ku)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Fu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Bu(this.path.get(e))}Bu(e){if(e.length===0)throw this.qu("Document fields must not be empty");if(u0(this.Mu)&&HC.test(e))throw this.qu('Document fields cannot begin and end with "__"')}}class GC{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||Of(e)}$u(e,n,s,o=!1){return new Rp({Mu:e,methodName:n,Ku:s,path:Ht.emptyPath(),Nu:!1,Qu:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function c0(r){const e=r._freezeSettings(),n=Of(r._databaseId);return new GC(r._databaseId,!!e.ignoreUndefinedProperties,n)}function KC(r,e,n,s,o,u={}){const h=r.$u(u.merge||u.mergeFields?2:0,e,n,o);d0("Data must be an object, but it was:",h,s);const m=f0(s,h);let p,g;if(u.merge)p=new Gn(h.fieldMask),g=h.fieldTransforms;else if(u.mergeFields){const E=[];for(const A of u.mergeFields){const R=$C(e,A,n);if(!h.contains(R))throw new ce(ee.INVALID_ARGUMENT,`Field '${R}' is specified in your field mask but missing from your input data.`);XC(E,R)||E.push(R)}p=new Gn(E),g=h.fieldTransforms.filter(A=>p.covers(A.field))}else p=null,g=h.fieldTransforms;return new FC(new Ln(m),p,g)}function QC(r,e,n,s=!1){return Ip(n,r.$u(s?4:3,e))}function Ip(r,e){if(h0(r=cn(r)))return d0("Unsupported field value:",e,r),f0(r,e);if(r instanceof l0)return function(s,o){if(!u0(o.Mu))throw o.qu(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.qu(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)}(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.Nu&&e.Mu!==4)throw e.qu("Nested arrays are not supported");return function(s,o){const u=[];let h=0;for(const m of s){let p=Ip(m,o.ku(h));p==null&&(p={nullValue:"NULL_VALUE"}),u.push(p),h++}return{arrayValue:{values:u}}}(r,e)}return function(s,o){if((s=cn(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return U1(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=Ct.fromDate(s);return{timestampValue:cf(o.serializer,u)}}if(s instanceof Ct){const u=new Ct(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:cf(o.serializer,u)}}if(s instanceof wp)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof co)return{bytesValue:CT(o.serializer,s._byteString)};if(s instanceof vn){const u=o.databaseId,h=s.firestore._databaseId;if(!h.isEqual(u))throw o.qu(`Document reference is for database ${h.projectId}/${h.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:cp(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof Sp)return function(h,m){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:h.toArray().map(p=>{if(typeof p!="number")throw m.qu("VectorValues must only contain numeric values.");return ap(m.serializer,p)})}}}}}}(s,o);throw o.qu(`Unsupported field value: ${kf(s)}`)}(r,e)}function f0(r,e){const n={};return iT(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Zs(r,(s,o)=>{const u=Ip(o,e.Ou(s));u!=null&&(n[s]=u)}),{mapValue:{fields:n}}}function h0(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof Ct||r instanceof wp||r instanceof co||r instanceof vn||r instanceof l0||r instanceof Sp)}function d0(r,e,n){if(!h0(n)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(n)){const s=kf(n);throw s==="an object"?e.qu(r+" a custom object"):e.qu(r+" "+s)}}function $C(r,e,n){if((e=cn(e))instanceof Ap)return e._internalPath;if(typeof e=="string")return m0(r,e);throw mf("Field path arguments must be of type string or ",r,!1,void 0,n)}const YC=new RegExp("[~\\*/\\[\\]]");function m0(r,e,n){if(e.search(YC)>=0)throw mf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,n);try{return new Ap(...e.split("."))._internalPath}catch{throw mf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,n)}}function mf(r,e,n,s,o){const u=s&&!s.isEmpty(),h=o!==void 0;let m=`Function ${e}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let p="";return(u||h)&&(p+=" (found",u&&(p+=` in field ${s}`),h&&(p+=` in document ${o}`),p+=")"),new ce(ee.INVALID_ARGUMENT,m+r+p)}function XC(r,e){return r.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p0{constructor(e,n,s,o,u){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new vn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new WC(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Cp("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class WC extends p0{data(){return super.data()}}function Cp(r,e){return typeof e=="string"?m0(r,e):e instanceof Ap?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZC(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new ce(ee.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Dp{}class g0 extends Dp{}function am(r,e,...n){let s=[];e instanceof Dp&&s.push(e),s=s.concat(n),function(u){const h=u.filter(p=>p instanceof Np).length,m=u.filter(p=>p instanceof xp).length;if(h>1||h>0&&m>0)throw new ce(ee.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const o of s)r=o._apply(r);return r}class xp extends g0{constructor(e,n,s){super(),this._field=e,this._op=n,this._value=s,this.type="where"}static _create(e,n,s){return new xp(e,n,s)}_apply(e){const n=this._parse(e);return y0(e._query,n),new na(e.firestore,e.converter,Am(e._query,n))}_parse(e){const n=c0(e.firestore);return function(u,h,m,p,g,E,A){let R;if(g.isKeyField()){if(E==="array-contains"||E==="array-contains-any")throw new ce(ee.INVALID_ARGUMENT,`Invalid Query. You can't perform '${E}' queries on documentId().`);if(E==="in"||E==="not-in"){nE(A,E);const N=[];for(const P of A)N.push(tE(p,u,P));R={arrayValue:{values:N}}}else R=tE(p,u,A)}else E!=="in"&&E!=="not-in"&&E!=="array-contains-any"||nE(A,E),R=QC(m,h,A,E==="in"||E==="not-in");return Tt.create(g,E,R)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}class Np extends Dp{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Np(e,n)}_parse(e){const n=this._queryConstraints.map(s=>s._parse(e)).filter(s=>s.getFilters().length>0);return n.length===1?n[0]:Qn.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(o,u){let h=o;const m=u.getFlattenedFilters();for(const p of m)y0(h,p),h=Am(h,p)}(e._query,n),new na(e.firestore,e.converter,Am(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Op extends g0{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new Op(e,n)}_apply(e){const n=function(o,u,h){if(o.startAt!==null)throw new ce(ee.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new ce(ee.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Ql(u,h)}(e._query,this._field,this._direction);return new na(e.firestore,e.converter,function(o,u){const h=o.explicitOrderBy.concat([u]);return new vo(o.path,o.collectionGroup,h,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)}(e._query,n))}}function om(r,e="asc"){const n=e,s=Cp("orderBy",r);return Op._create(s,n)}function tE(r,e,n){if(typeof(n=cn(n))=="string"){if(n==="")throw new ce(ee.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!hT(e)&&n.indexOf("/")!==-1)throw new ce(ee.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=e.path.child(et.fromString(n));if(!ye.isDocumentKey(s))throw new ce(ee.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return bv(r,new ye(s))}if(n instanceof vn)return bv(r,n._key);throw new ce(ee.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${kf(n)}.`)}function nE(r,e){if(!Array.isArray(r)||r.length===0)throw new ce(ee.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function y0(r,e){const n=function(o,u){for(const h of o)for(const m of h.getFlattenedFilters())if(u.indexOf(m.op)>=0)return m.op;return null}(r.filters,function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new ce(ee.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ce(ee.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class JC{convertValue(e,n="none"){switch(as(e)){case 0:return null;case 1:return e.booleanValue;case 2:return pt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ss(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Te()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return Zs(e,(o,u)=>{s[o]=this.convertValue(u,n)}),s}convertVectorValue(e){var n,s,o;const u=(o=(s=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||s===void 0?void 0:s.values)===null||o===void 0?void 0:o.map(h=>pt(h.doubleValue));return new Sp(u)}convertGeoPoint(e){return new wp(pt(e.latitude),pt(e.longitude))}convertArray(e,n){return(e.values||[]).map(s=>this.convertValue(s,n))}convertServerTimestamp(e,n){switch(n){case"previous":const s=Rf(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(Fl(e));default:return null}}convertTimestamp(e){const n=rs(e);return new Ct(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=et.fromString(e);Ge(VT(s));const o=new Gl(s.get(1),s.get(3)),u=new ye(s.popFirst(5));return o.isEqual(n)||ir(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e2(r,e,n){let s;return s=r?r.toFirestore(e):e,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pl{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class _0 extends p0{constructor(e,n,s,o,u,h){super(e,n,s,o,h),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Yc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(Cp("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}}class Yc extends _0{data(e={}){return super.data(e)}}class t2{constructor(e,n,s,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new Pl(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(s=>{e.call(n,new Yc(this._firestore,this._userDataWriter,s.key,s,new Pl(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ce(ee.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(o,u){if(o._snapshot.oldDocs.isEmpty()){let h=0;return o._snapshot.docChanges.map(m=>{const p=new Yc(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Pl(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:p,oldIndex:-1,newIndex:h++}})}{let h=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(m=>u||m.type!==3).map(m=>{const p=new Yc(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Pl(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let g=-1,E=-1;return m.type!==0&&(g=h.indexOf(m.doc.key),h=h.delete(m.doc.key)),m.type!==1&&(h=h.add(m.doc),E=h.indexOf(m.doc.key)),{type:n2(m.type),doc:p,oldIndex:g,newIndex:E}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function n2(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Te()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i2(r){r=$s(r,vn);const e=$s(r.firestore,ou);return LC(bp(e),r._key).then(n=>s2(e,r,n))}class v0 extends JC{constructor(e){super(),this.firestore=e}convertBytes(e){return new co(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new vn(this.firestore,null,n)}}function pi(r){r=$s(r,na);const e=$s(r.firestore,ou),n=bp(e),s=new v0(e);return ZC(r._query),UC(n,r._query).then(o=>new t2(e,s,r,o))}function r2(r){return E0($s(r.firestore,ou),[new op(r._key,_i.none())])}function Lf(r,e){const n=$s(r.firestore,ou),s=Mm(r),o=e2(r.converter,e);return E0(n,[KC(c0(r.firestore),"addDoc",s._key,o,r.converter!==null,{}).toMutation(s._key,_i.exists(!1))]).then(()=>s)}function E0(r,e){return function(s,o){const u=new er;return s.asyncQueue.enqueueAndForget(async()=>SC(await PC(s),o,u)),u.promise}(bp(r),e)}function s2(r,e,n){const s=n.docs.get(e._key),o=new v0(r);return new _0(r,o,e._key,s,new Pl(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(o){go=o})(po),io(new Ks("firestore",(s,{instanceIdentifier:o,options:u})=>{const h=s.getProvider("app").getImmediate(),m=new ou(new JR(s.getProvider("auth-internal")),new i1(s.getProvider("app-check-internal")),function(g,E){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new ce(ee.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Gl(g.options.projectId,E)}(h,o),h);return u=Object.assign({useFetchStreams:n},u),m._setSettings(u),m},"PUBLIC").setMultipleInstances(!0)),Jr(gv,"4.7.6",e),Jr(gv,"4.7.6","esm2017")})();var a2="firebase",o2="11.2.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Jr(a2,o2,"app");function Mp(r,e){var n={};for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&e.indexOf(s)<0&&(n[s]=r[s]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(r);o<s.length;o++)e.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(r,s[o])&&(n[s[o]]=r[s[o]]);return n}function T0(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const l2=T0,b0=new tu("auth","Firebase",T0());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pf=new Wm("@firebase/auth");function u2(r,...e){pf.logLevel<=Ne.WARN&&pf.warn(`Auth (${po}): ${r}`,...e)}function Xc(r,...e){pf.logLevel<=Ne.ERROR&&pf.error(`Auth (${po}): ${r}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $n(r,...e){throw Vp(r,...e)}function Ei(r,...e){return Vp(r,...e)}function A0(r,e,n){const s=Object.assign(Object.assign({},l2()),{[e]:n});return new tu("auth","Firebase",s).create(e,{appName:r.name})}function tr(r){return A0(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Vp(r,...e){if(typeof r!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=r.name),r._errorFactory.create(n,...s)}return b0.create(r,...e)}function Ee(r,e,...n){if(!r)throw Vp(e,...n)}function Xi(r){const e="INTERNAL ASSERTION FAILED: "+r;throw Xc(e),new Error(e)}function sr(r,e){r||Xi(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vm(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.href)||""}function c2(){return iE()==="http:"||iE()==="https:"}function iE(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f2(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(c2()||NS()||"connection"in navigator)?navigator.onLine:!0}function h2(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lu{constructor(e,n){this.shortDelay=e,this.longDelay=n,sr(n>e,"Short delay should be less than long delay!"),this.isMobile=CS()||OS()}get(){return f2()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kp(r,e){sr(r.emulator,"Emulator should always be set here");const{url:n}=r.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w0{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Xi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Xi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Xi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d2={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m2=new lu(3e4,6e4);function us(r,e){return r.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:r.tenantId}):e}async function cs(r,e,n,s,o={}){return S0(r,o,async()=>{let u={},h={};s&&(e==="GET"?h=s:u={body:JSON.stringify(s)});const m=nu(Object.assign({key:r.config.apiKey},h)).slice(1),p=await r._getAdditionalHeaders();p["Content-Type"]="application/json",r.languageCode&&(p["X-Firebase-Locale"]=r.languageCode);const g=Object.assign({method:e,headers:p},u);return xS()||(g.referrerPolicy="no-referrer"),w0.fetch()(R0(r,r.config.apiHost,n,m),g)})}async function S0(r,e,n){r._canInitEmulator=!1;const s=Object.assign(Object.assign({},d2),e);try{const o=new g2(r),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const h=await u.json();if("needConfirmation"in h)throw Bc(r,"account-exists-with-different-credential",h);if(u.ok&&!("errorMessage"in h))return h;{const m=u.ok?h.errorMessage:h.error.message,[p,g]=m.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw Bc(r,"credential-already-in-use",h);if(p==="EMAIL_EXISTS")throw Bc(r,"email-already-in-use",h);if(p==="USER_DISABLED")throw Bc(r,"user-disabled",h);const E=s[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw A0(r,E,g);$n(r,E)}}catch(o){if(o instanceof or)throw o;$n(r,"network-request-failed",{message:String(o)})}}async function uu(r,e,n,s,o={}){const u=await cs(r,e,n,s,o);return"mfaPendingCredential"in u&&$n(r,"multi-factor-auth-required",{_serverResponse:u}),u}function R0(r,e,n,s){const o=`${e}${n}?${s}`;return r.config.emulator?kp(r.config,o):`${r.config.apiScheme}://${o}`}function p2(r){switch(r){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class g2{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(Ei(this.auth,"network-request-failed")),m2.get())})}}function Bc(r,e,n){const s={appName:r.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const o=Ei(r,e,s);return o.customData._tokenResponse=n,o}function rE(r){return r!==void 0&&r.enterprise!==void 0}class y2{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return p2(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function _2(r,e){return cs(r,"GET","/v2/recaptchaConfig",us(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function v2(r,e){return cs(r,"POST","/v1/accounts:delete",e)}async function I0(r,e){return cs(r,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bl(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function E2(r,e=!1){const n=cn(r),s=await n.getIdToken(e),o=Pp(s);Ee(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,h=u==null?void 0:u.sign_in_provider;return{claims:o,token:s,authTime:Bl(lm(o.auth_time)),issuedAtTime:Bl(lm(o.iat)),expirationTime:Bl(lm(o.exp)),signInProvider:h||null,signInSecondFactor:(u==null?void 0:u.sign_in_second_factor)||null}}function lm(r){return Number(r)*1e3}function Pp(r){const[e,n,s]=r.split(".");if(e===void 0||n===void 0||s===void 0)return Xc("JWT malformed, contained fewer than 3 sections"),null;try{const o=zE(n);return o?JSON.parse(o):(Xc("Failed to decode base64 JWT payload"),null)}catch(o){return Xc("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function sE(r){const e=Pp(r);return Ee(e,"internal-error"),Ee(typeof e.exp<"u","internal-error"),Ee(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xl(r,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof or&&T2(s)&&r.auth.currentUser===r&&await r.auth.signOut(),s}}function T2({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b2{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const s=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),s}else{this.errorBackoff=3e4;const o=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class km{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Bl(this.lastLoginAt),this.creationTime=Bl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gf(r){var e;const n=r.auth,s=await r.getIdToken(),o=await Xl(r,I0(n,{idToken:s}));Ee(o==null?void 0:o.users.length,n,"internal-error");const u=o.users[0];r._notifyReloadListener(u);const h=!((e=u.providerUserInfo)===null||e===void 0)&&e.length?C0(u.providerUserInfo):[],m=w2(r.providerData,h),p=r.isAnonymous,g=!(r.email&&u.passwordHash)&&!(m!=null&&m.length),E=p?g:!1,A={uid:u.localId,displayName:u.displayName||null,photoURL:u.photoUrl||null,email:u.email||null,emailVerified:u.emailVerified||!1,phoneNumber:u.phoneNumber||null,tenantId:u.tenantId||null,providerData:m,metadata:new km(u.createdAt,u.lastLoginAt),isAnonymous:E};Object.assign(r,A)}async function A2(r){const e=cn(r);await gf(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function w2(r,e){return[...r.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function C0(r){return r.map(e=>{var{providerId:n}=e,s=Mp(e,["providerId"]);return{providerId:n,uid:s.rawId||"",displayName:s.displayName||null,email:s.email||null,phoneNumber:s.phoneNumber||null,photoURL:s.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function S2(r,e){const n=await S0(r,{},async()=>{const s=nu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=r.config,h=R0(r,o,"/v1/token",`key=${u}`),m=await r._getAdditionalHeaders();return m["Content-Type"]="application/x-www-form-urlencoded",w0.fetch()(h,{method:"POST",headers:m,body:s})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function R2(r,e){return cs(r,"POST","/v2/accounts:revokeToken",us(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ee(e.idToken,"internal-error"),Ee(typeof e.idToken<"u","internal-error"),Ee(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):sE(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Ee(e.length!==0,"internal-error");const n=sE(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Ee(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:o,expiresIn:u}=await S2(e,n);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:o,expirationTime:u}=n,h=new eo;return s&&(Ee(typeof s=="string","internal-error",{appName:e}),h.refreshToken=s),o&&(Ee(typeof o=="string","internal-error",{appName:e}),h.accessToken=o),u&&(Ee(typeof u=="number","internal-error",{appName:e}),h.expirationTime=u),h}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new eo,this.toJSON())}_performRefresh(){return Xi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gr(r,e){Ee(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class Wi{constructor(e){var{uid:n,auth:s,stsTokenManager:o}=e,u=Mp(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new b2(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=s,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=u.displayName||null,this.email=u.email||null,this.emailVerified=u.emailVerified||!1,this.phoneNumber=u.phoneNumber||null,this.photoURL=u.photoURL||null,this.isAnonymous=u.isAnonymous||!1,this.tenantId=u.tenantId||null,this.providerData=u.providerData?[...u.providerData]:[],this.metadata=new km(u.createdAt||void 0,u.lastLoginAt||void 0)}async getIdToken(e){const n=await Xl(this,this.stsTokenManager.getToken(this.auth,e));return Ee(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return E2(this,e)}reload(){return A2(this)}_assign(e){this!==e&&(Ee(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Wi(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Ee(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await gf(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(gi(this.auth.app))return Promise.reject(tr(this.auth));const e=await this.getIdToken();return await Xl(this,v2(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var s,o,u,h,m,p,g,E;const A=(s=n.displayName)!==null&&s!==void 0?s:void 0,R=(o=n.email)!==null&&o!==void 0?o:void 0,N=(u=n.phoneNumber)!==null&&u!==void 0?u:void 0,P=(h=n.photoURL)!==null&&h!==void 0?h:void 0,Q=(m=n.tenantId)!==null&&m!==void 0?m:void 0,L=(p=n._redirectEventId)!==null&&p!==void 0?p:void 0,K=(g=n.createdAt)!==null&&g!==void 0?g:void 0,Y=(E=n.lastLoginAt)!==null&&E!==void 0?E:void 0,{uid:z,emailVerified:ne,isAnonymous:re,providerData:he,stsTokenManager:C}=n;Ee(z&&C,e,"internal-error");const S=eo.fromJSON(this.name,C);Ee(typeof z=="string",e,"internal-error"),Gr(A,e.name),Gr(R,e.name),Ee(typeof ne=="boolean",e,"internal-error"),Ee(typeof re=="boolean",e,"internal-error"),Gr(N,e.name),Gr(P,e.name),Gr(Q,e.name),Gr(L,e.name),Gr(K,e.name),Gr(Y,e.name);const w=new Wi({uid:z,auth:e,email:R,emailVerified:ne,displayName:A,isAnonymous:re,photoURL:P,phoneNumber:N,tenantId:Q,stsTokenManager:S,createdAt:K,lastLoginAt:Y});return he&&Array.isArray(he)&&(w.providerData=he.map(D=>Object.assign({},D))),L&&(w._redirectEventId=L),w}static async _fromIdTokenResponse(e,n,s=!1){const o=new eo;o.updateFromServerResponse(n);const u=new Wi({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await gf(u),u}static async _fromGetAccountInfoResponse(e,n,s){const o=n.users[0];Ee(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?C0(o.providerUserInfo):[],h=!(o.email&&o.passwordHash)&&!(u!=null&&u.length),m=new eo;m.updateFromIdToken(s);const p=new Wi({uid:o.localId,auth:e,stsTokenManager:m,isAnonymous:h}),g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new km(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(u!=null&&u.length)};return Object.assign(p,g),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aE=new Map;function Zi(r){sr(r instanceof Function,"Expected a class definition");let e=aE.get(r);return e?(sr(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,aE.set(r,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D0{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}D0.type="NONE";const oE=D0;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wc(r,e,n){return`firebase:${r}:${e}:${n}`}class to{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=Wc(this.userKey,o.apiKey,u),this.fullPersistenceKey=Wc("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Wi._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new to(Zi(oE),e,s);const o=(await Promise.all(n.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let u=o[0]||Zi(oE);const h=Wc(s,e.config.apiKey,e.name);let m=null;for(const g of n)try{const E=await g._get(h);if(E){const A=Wi._fromJSON(e,E);g!==u&&(m=A),u=g;break}}catch{}const p=o.filter(g=>g._shouldAllowMigration);return!u._shouldAllowMigration||!p.length?new to(u,e,s):(u=p[0],m&&await u._set(h,m.toJSON()),await Promise.all(n.map(async g=>{if(g!==u)try{await g._remove(h)}catch{}})),new to(u,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lE(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(M0(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(x0(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(k0(e))return"Blackberry";if(P0(e))return"Webos";if(N0(e))return"Safari";if((e.includes("chrome/")||O0(e))&&!e.includes("edge/"))return"Chrome";if(V0(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=r.match(n);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function x0(r=Wt()){return/firefox\//i.test(r)}function N0(r=Wt()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function O0(r=Wt()){return/crios\//i.test(r)}function M0(r=Wt()){return/iemobile/i.test(r)}function V0(r=Wt()){return/android/i.test(r)}function k0(r=Wt()){return/blackberry/i.test(r)}function P0(r=Wt()){return/webos/i.test(r)}function Lp(r=Wt()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function I2(r=Wt()){var e;return Lp(r)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function C2(){return MS()&&document.documentMode===10}function L0(r=Wt()){return Lp(r)||V0(r)||P0(r)||k0(r)||/windows phone/i.test(r)||M0(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U0(r,e=[]){let n;switch(r){case"Browser":n=lE(Wt());break;case"Worker":n=`${lE(Wt())}-${r}`;break;default:n=r}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${po}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D2{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=u=>new Promise((h,m)=>{try{const p=e(u);h(p)}catch(p){m(p)}});s.onAbort=n,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function x2(r,e={}){return cs(r,"GET","/v2/passwordPolicy",us(r,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N2=6;class O2{constructor(e){var n,s,o,u;const h=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=h.minPasswordLength)!==null&&n!==void 0?n:N2,h.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=h.maxPasswordLength),h.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=h.containsLowercaseCharacter),h.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=h.containsUppercaseCharacter),h.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=h.containsNumericCharacter),h.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=h.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(s=e.allowedNonAlphanumericCharacters)===null||s===void 0?void 0:s.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(u=e.forceUpgradeOnSignin)!==null&&u!==void 0?u:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,s,o,u,h,m;const p={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,p),this.validatePasswordCharacterOptions(e,p),p.isValid&&(p.isValid=(n=p.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),p.isValid&&(p.isValid=(s=p.meetsMaxPasswordLength)!==null&&s!==void 0?s:!0),p.isValid&&(p.isValid=(o=p.containsLowercaseLetter)!==null&&o!==void 0?o:!0),p.isValid&&(p.isValid=(u=p.containsUppercaseLetter)!==null&&u!==void 0?u:!0),p.isValid&&(p.isValid=(h=p.containsNumericCharacter)!==null&&h!==void 0?h:!0),p.isValid&&(p.isValid=(m=p.containsNonAlphanumericCharacter)!==null&&m!==void 0?m:!0),p}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M2{constructor(e,n,s,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new uE(this),this.idTokenSubscription=new uE(this),this.beforeStateQueue=new D2(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=b0,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Zi(n)),this._initializationPromise=this.queue(async()=>{var s,o;if(!this._deleted&&(this.persistenceManager=await to.create(this,e),!this._deleted)){if(!((s=this._popupRedirectResolver)===null||s===void 0)&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await I0(this,{idToken:e}),s=await Wi._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(gi(this.app)){const h=this.app.settings.authIdToken;return h?new Promise(m=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(h).then(m,m))}):this.directlySetCurrentUser(null)}const s=await this.assertedPersistence.getCurrentUser();let o=s,u=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const h=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,m=o==null?void 0:o._redirectEventId,p=await this.tryRedirectSignIn(e);(!h||h===m)&&(p!=null&&p.user)&&(o=p.user,u=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(u)try{await this.beforeStateQueue.runMiddleware(o)}catch(h){o=s,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(h))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return Ee(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await gf(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=h2()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(gi(this.app))return Promise.reject(tr(this));const n=e?cn(e):null;return n&&Ee(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Ee(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return gi(this.app)?Promise.reject(tr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return gi(this.app)?Promise.reject(tr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Zi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await x2(this),n=new O2(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new tu("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await R2(this,s)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Zi(e)||this._popupRedirectResolver;Ee(n,this,"argument-error"),this.redirectPersistenceManager=await to.create(this,[Zi(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,s;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((s=this.redirectUser)===null||s===void 0?void 0:s._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const s=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==s&&(this.lastNotifiedUid=s,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let h=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ee(m,this,"internal-error"),m.then(()=>{h||u(this.currentUser)}),typeof n=="function"){const p=e.addObserver(n,s,o);return()=>{h=!0,p()}}else{const p=e.addObserver(n);return()=>{h=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ee(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=U0(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const s=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());s&&(n["X-Firebase-Client"]=s);const o=await this._getAppCheckToken();return o&&(n["X-Firebase-AppCheck"]=o),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&u2(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function ia(r){return cn(r)}class uE{constructor(e){this.auth=e,this.observer=null,this.addObserver=BS(n=>this.observer=n)}get next(){return Ee(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Uf={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function V2(r){Uf=r}function z0(r){return Uf.loadJS(r)}function k2(){return Uf.recaptchaEnterpriseScript}function P2(){return Uf.gapiScript}function L2(r){return`__${r}${Math.floor(Math.random()*1e6)}`}class U2{constructor(){this.enterprise=new z2}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class z2{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const j2="recaptcha-enterprise",j0="NO_RECAPTCHA";class B2{constructor(e){this.type=j2,this.auth=ia(e)}async verify(e="verify",n=!1){async function s(u){if(!n){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(h,m)=>{_2(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)m(new Error("recaptcha Enterprise site key undefined"));else{const g=new y2(p);return u.tenantId==null?u._agentRecaptchaConfig=g:u._tenantRecaptchaConfigs[u.tenantId]=g,h(g.siteKey)}}).catch(p=>{m(p)})})}function o(u,h,m){const p=window.grecaptcha;rE(p)?p.enterprise.ready(()=>{p.enterprise.execute(u,{action:e}).then(g=>{h(g)}).catch(()=>{h(j0)})}):m(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new U2().execute("siteKey",{action:"verify"}):new Promise((u,h)=>{s(this.auth).then(m=>{if(!n&&rE(window.grecaptcha))o(m,u,h);else{if(typeof window>"u"){h(new Error("RecaptchaVerifier is only supported in browser"));return}let p=k2();p.length!==0&&(p+=m),z0(p).then(()=>{o(m,u,h)}).catch(g=>{h(g)})}}).catch(m=>{h(m)})})}}async function cE(r,e,n,s=!1,o=!1){const u=new B2(r);let h;if(o)h=j0;else try{h=await u.verify(n)}catch{h=await u.verify(n,!0)}const m=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in m){const p=m.phoneEnrollmentInfo.phoneNumber,g=m.phoneEnrollmentInfo.recaptchaToken;Object.assign(m,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:g,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in m){const p=m.phoneSignInInfo.recaptchaToken;Object.assign(m,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return m}return s?Object.assign(m,{captchaResp:h}):Object.assign(m,{captchaResponse:h}),Object.assign(m,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(m,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),m}async function Pm(r,e,n,s,o){var u;if(!((u=r._getRecaptchaConfig())===null||u===void 0)&&u.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const h=await cE(r,e,n,n==="getOobCode");return s(r,h)}else return s(r,e).catch(async h=>{if(h.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const m=await cE(r,e,n,n==="getOobCode");return s(r,m)}else return Promise.reject(h)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q2(r,e){const n=Jm(r,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(rf(u,e??{}))return o;$n(o,"already-initialized")}return n.initialize({options:e})}function H2(r,e){const n=(e==null?void 0:e.persistence)||[],s=(Array.isArray(n)?n:[n]).map(Zi);e!=null&&e.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(s,e==null?void 0:e.popupRedirectResolver)}function F2(r,e,n){const s=ia(r);Ee(s._canInitEmulator,s,"emulator-config-failed"),Ee(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,u=B0(e),{host:h,port:m}=G2(e),p=m===null?"":`:${m}`;s.config.emulator={url:`${u}//${h}${p}/`},s.settings.appVerificationDisabledForTesting=!0,s.emulatorConfig=Object.freeze({host:h,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})}),K2()}function B0(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function G2(r){const e=B0(r),n=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:fE(s.substr(u.length+1))}}else{const[u,h]=s.split(":");return{host:u,port:fE(h)}}}function fE(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function K2(){function r(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Up{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Xi("not implemented")}_getIdTokenResponse(e){return Xi("not implemented")}_linkToIdToken(e,n){return Xi("not implemented")}_getReauthenticationResolver(e){return Xi("not implemented")}}async function Q2(r,e){return cs(r,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $2(r,e){return uu(r,"POST","/v1/accounts:signInWithPassword",us(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Y2(r,e){return uu(r,"POST","/v1/accounts:signInWithEmailLink",us(r,e))}async function X2(r,e){return uu(r,"POST","/v1/accounts:signInWithEmailLink",us(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wl extends Up{constructor(e,n,s,o=null){super("password",s),this._email=e,this._password=n,this._tenantId=o}static _fromEmailAndPassword(e,n){return new Wl(e,n,"password")}static _fromEmailAndCode(e,n,s=null){return new Wl(e,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Pm(e,n,"signInWithPassword",$2);case"emailLink":return Y2(e,{email:this._email,oobCode:this._password});default:$n(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Pm(e,s,"signUpPassword",Q2);case"emailLink":return X2(e,{idToken:n,email:this._email,oobCode:this._password});default:$n(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function no(r,e){return uu(r,"POST","/v1/accounts:signInWithIdp",us(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W2="http://localhost";class Ys extends Up{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Ys(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):$n("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o}=n,u=Mp(n,["providerId","signInMethod"]);if(!s||!o)return null;const h=new Ys(s,o);return h.idToken=u.idToken||void 0,h.accessToken=u.accessToken||void 0,h.secret=u.secret,h.nonce=u.nonce,h.pendingToken=u.pendingToken||null,h}_getIdTokenResponse(e){const n=this.buildRequest();return no(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,no(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,no(e,n)}buildRequest(){const e={requestUri:W2,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=nu(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z2(r){switch(r){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function J2(r){const e=Nl(Ol(r)).link,n=e?Nl(Ol(e)).deep_link_id:null,s=Nl(Ol(r)).deep_link_id;return(s?Nl(Ol(s)).link:null)||s||n||e||r}class zp{constructor(e){var n,s,o,u,h,m;const p=Nl(Ol(e)),g=(n=p.apiKey)!==null&&n!==void 0?n:null,E=(s=p.oobCode)!==null&&s!==void 0?s:null,A=Z2((o=p.mode)!==null&&o!==void 0?o:null);Ee(g&&E&&A,"argument-error"),this.apiKey=g,this.operation=A,this.code=E,this.continueUrl=(u=p.continueUrl)!==null&&u!==void 0?u:null,this.languageCode=(h=p.languageCode)!==null&&h!==void 0?h:null,this.tenantId=(m=p.tenantId)!==null&&m!==void 0?m:null}static parseLink(e){const n=J2(e);try{return new zp(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class To{constructor(){this.providerId=To.PROVIDER_ID}static credential(e,n){return Wl._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const s=zp.parseLink(n);return Ee(s,"argument-error"),Wl._fromEmailAndCode(e,s.code,s.tenantId)}}To.PROVIDER_ID="password";To.EMAIL_PASSWORD_SIGN_IN_METHOD="password";To.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q0{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cu extends q0{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kr extends cu{constructor(){super("facebook.com")}static credential(e){return Ys._fromParams({providerId:Kr.PROVIDER_ID,signInMethod:Kr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Kr.credentialFromTaggedObject(e)}static credentialFromError(e){return Kr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Kr.credential(e.oauthAccessToken)}catch{return null}}}Kr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Kr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qr extends cu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Ys._fromParams({providerId:Qr.PROVIDER_ID,signInMethod:Qr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Qr.credentialFromTaggedObject(e)}static credentialFromError(e){return Qr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return Qr.credential(n,s)}catch{return null}}}Qr.GOOGLE_SIGN_IN_METHOD="google.com";Qr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $r extends cu{constructor(){super("github.com")}static credential(e){return Ys._fromParams({providerId:$r.PROVIDER_ID,signInMethod:$r.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return $r.credentialFromTaggedObject(e)}static credentialFromError(e){return $r.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return $r.credential(e.oauthAccessToken)}catch{return null}}}$r.GITHUB_SIGN_IN_METHOD="github.com";$r.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yr extends cu{constructor(){super("twitter.com")}static credential(e,n){return Ys._fromParams({providerId:Yr.PROVIDER_ID,signInMethod:Yr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Yr.credentialFromTaggedObject(e)}static credentialFromError(e){return Yr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return Yr.credential(n,s)}catch{return null}}}Yr.TWITTER_SIGN_IN_METHOD="twitter.com";Yr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eD(r,e){return uu(r,"POST","/v1/accounts:signUp",us(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xs{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,o=!1){const u=await Wi._fromIdTokenResponse(e,s,o),h=hE(s);return new Xs({user:u,providerId:h,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const o=hE(s);return new Xs({user:e,providerId:o,_tokenResponse:s,operationType:n})}}function hE(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yf extends or{constructor(e,n,s,o){var u;super(n.code,n.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,yf.prototype),this.customData={appName:e.name,tenantId:(u=e.tenantId)!==null&&u!==void 0?u:void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,o){return new yf(e,n,s,o)}}function H0(r,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(r):n._getIdTokenResponse(r)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?yf._fromErrorAndOperation(r,u,e,s):u})}async function tD(r,e,n=!1){const s=await Xl(r,e._linkToIdToken(r.auth,await r.getIdToken()),n);return Xs._forOperation(r,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nD(r,e,n=!1){const{auth:s}=r;if(gi(s.app))return Promise.reject(tr(s));const o="reauthenticate";try{const u=await Xl(r,H0(s,o,e,r),n);Ee(u.idToken,s,"internal-error");const h=Pp(u.idToken);Ee(h,s,"internal-error");const{sub:m}=h;return Ee(r.uid===m,s,"user-mismatch"),Xs._forOperation(r,o,u)}catch(u){throw(u==null?void 0:u.code)==="auth/user-not-found"&&$n(s,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function F0(r,e,n=!1){if(gi(r.app))return Promise.reject(tr(r));const s="signIn",o=await H0(r,s,e),u=await Xs._fromIdTokenResponse(r,s,o);return n||await r._updateCurrentUser(u.user),u}async function iD(r,e){return F0(ia(r),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function G0(r){const e=ia(r);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function rD(r,e,n){if(gi(r.app))return Promise.reject(tr(r));const s=ia(r),h=await Pm(s,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",eD).catch(p=>{throw p.code==="auth/password-does-not-meet-requirements"&&G0(r),p}),m=await Xs._fromIdTokenResponse(s,"signIn",h);return await s._updateCurrentUser(m.user),m}function sD(r,e,n){return gi(r.app)?Promise.reject(tr(r)):iD(cn(r),To.credential(e,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&G0(r),s})}function aD(r,e,n,s){return cn(r).onIdTokenChanged(e,n,s)}function oD(r,e,n){return cn(r).beforeAuthStateChanged(e,n)}function lD(r,e,n,s){return cn(r).onAuthStateChanged(e,n,s)}const _f="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K0{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(_f,"1"),this.storage.removeItem(_f),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uD=1e3,cD=10;class Q0 extends K0{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=L0(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),o=this.localCache[n];s!==o&&e(n,o,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((h,m,p)=>{this.notifyListeners(h,p)});return}const s=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const h=this.storage.getItem(s);!n&&this.localCache[s]===h||this.notifyListeners(s,h)},u=this.storage.getItem(s);C2()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,cD):o()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},uD)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}Q0.type="LOCAL";const fD=Q0;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $0 extends K0{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}$0.type="SESSION";const Y0=$0;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hD(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zf{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const s=new zf(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:o,data:u}=n.data,h=this.handlersMap[o];if(!(h!=null&&h.size))return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const m=Array.from(h).map(async g=>g(n.origin,u)),p=await hD(m);n.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:p})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}zf.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jp(r="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return r+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dD{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,h;return new Promise((m,p)=>{const g=jp("",20);o.port1.start();const E=setTimeout(()=>{p(new Error("unsupported_event"))},s);h={messageChannel:o,onMessage(A){const R=A;if(R.data.eventId===g)switch(R.data.status){case"ack":clearTimeout(E),u=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(R.data.response);break;default:clearTimeout(E),clearTimeout(u),p(new Error("invalid_response"));break}}},this.handlers.add(h),o.port1.addEventListener("message",h.onMessage),this.target.postMessage({eventType:e,eventId:g,data:n},[o.port2])}).finally(()=>{h&&this.removeMessageHandler(h)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ti(){return window}function mD(r){Ti().location.href=r}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X0(){return typeof Ti().WorkerGlobalScope<"u"&&typeof Ti().importScripts=="function"}async function pD(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function gD(){var r;return((r=navigator==null?void 0:navigator.serviceWorker)===null||r===void 0?void 0:r.controller)||null}function yD(){return X0()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W0="firebaseLocalStorageDb",_D=1,vf="firebaseLocalStorage",Z0="fbase_key";class fu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function jf(r,e){return r.transaction([vf],e?"readwrite":"readonly").objectStore(vf)}function vD(){const r=indexedDB.deleteDatabase(W0);return new fu(r).toPromise()}function Lm(){const r=indexedDB.open(W0,_D);return new Promise((e,n)=>{r.addEventListener("error",()=>{n(r.error)}),r.addEventListener("upgradeneeded",()=>{const s=r.result;try{s.createObjectStore(vf,{keyPath:Z0})}catch(o){n(o)}}),r.addEventListener("success",async()=>{const s=r.result;s.objectStoreNames.contains(vf)?e(s):(s.close(),await vD(),e(await Lm()))})})}async function dE(r,e,n){const s=jf(r,!0).put({[Z0]:e,value:n});return new fu(s).toPromise()}async function ED(r,e){const n=jf(r,!1).get(e),s=await new fu(n).toPromise();return s===void 0?null:s.value}function mE(r,e){const n=jf(r,!0).delete(e);return new fu(n).toPromise()}const TD=800,bD=3;class J0{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Lm(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>bD)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return X0()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=zf._getInstance(yD()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await pD(),!this.activeServiceWorker)return;this.sender=new dD(this.activeServiceWorker);const s=await this.sender._send("ping",{},800);s&&!((e=s[0])===null||e===void 0)&&e.fulfilled&&!((n=s[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||gD()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Lm();return await dE(e,_f,"1"),await mE(e,_f),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>dE(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>ED(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>mE(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=jf(o,!1).getAll();return new fu(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),TD)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}J0.type="LOCAL";const AD=J0;new lu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wD(r,e){return e?Zi(e):(Ee(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bp extends Up{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return no(e,this._buildIdpRequest())}_linkToIdToken(e,n){return no(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return no(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function SD(r){return F0(r.auth,new Bp(r),r.bypassAuthState)}function RD(r){const{auth:e,user:n}=r;return Ee(n,e,"internal-error"),nD(n,new Bp(r),r.bypassAuthState)}async function ID(r){const{auth:e,user:n}=r;return Ee(n,e,"internal-error"),tD(n,new Bp(r),r.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eb{constructor(e,n,s,o,u=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:o,tenantId:u,error:h,type:m}=e;if(h){this.reject(h);return}const p={auth:this.auth,requestUri:n,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(p))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return SD;case"linkViaPopup":case"linkViaRedirect":return ID;case"reauthViaPopup":case"reauthViaRedirect":return RD;default:$n(this.auth,"internal-error")}}resolve(e){sr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){sr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CD=new lu(2e3,1e4);class Za extends eb{constructor(e,n,s,o,u){super(e,n,o,u),this.provider=s,this.authWindow=null,this.pollId=null,Za.currentPopupAction&&Za.currentPopupAction.cancel(),Za.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ee(e,this.auth,"internal-error"),e}async onExecution(){sr(this.filter.length===1,"Popup operations only handle one event");const e=jp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Ei(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Ei(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Za.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,s;if(!((s=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||s===void 0)&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ei(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,CD.get())};e()}}Za.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DD="pendingRedirect",Zc=new Map;class xD extends eb{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=Zc.get(this.auth._key());if(!e){try{const s=await ND(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}Zc.set(this.auth._key(),e)}return this.bypassAuthState||Zc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function ND(r,e){const n=VD(e),s=MD(r);if(!await s._isAvailable())return!1;const o=await s._get(n)==="true";return await s._remove(n),o}function OD(r,e){Zc.set(r._key(),e)}function MD(r){return Zi(r._redirectPersistence)}function VD(r){return Wc(DD,r.config.apiKey,r.name)}async function kD(r,e,n=!1){if(gi(r.app))return Promise.reject(tr(r));const s=ia(r),o=wD(s,e),h=await new xD(s,o,n).execute();return h&&!n&&(delete h.user._redirectEventId,await s._persistUserIfCurrent(h.user),await s._setRedirectUser(null,e)),h}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PD=10*60*1e3;class LD{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!UD(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var s;if(e.error&&!tb(e)){const o=((s=e.error.code)===null||s===void 0?void 0:s.split("auth/")[1])||"internal-error";n.onError(Ei(this.auth,o))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=PD&&this.cachedEventUids.clear(),this.cachedEventUids.has(pE(e))}saveEventToCache(e){this.cachedEventUids.add(pE(e)),this.lastProcessedEventTime=Date.now()}}function pE(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function tb({type:r,error:e}){return r==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function UD(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return tb(r);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zD(r,e={}){return cs(r,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jD=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,BD=/^https?/;async function qD(r){if(r.config.emulator)return;const{authorizedDomains:e}=await zD(r);for(const n of e)try{if(HD(n))return}catch{}$n(r,"unauthorized-domain")}function HD(r){const e=Vm(),{protocol:n,hostname:s}=new URL(e);if(r.startsWith("chrome-extension://")){const h=new URL(r);return h.hostname===""&&s===""?n==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&h.hostname===s}if(!BD.test(n))return!1;if(jD.test(r))return s===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FD=new lu(3e4,6e4);function gE(){const r=Ti().___jsl;if(r!=null&&r.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let n=0;n<r.CP.length;n++)r.CP[n]=null}}function GD(r){return new Promise((e,n)=>{var s,o,u;function h(){gE(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{gE(),n(Ei(r,"network-request-failed"))},timeout:FD.get()})}if(!((o=(s=Ti().gapi)===null||s===void 0?void 0:s.iframes)===null||o===void 0)&&o.Iframe)e(gapi.iframes.getContext());else if(!((u=Ti().gapi)===null||u===void 0)&&u.load)h();else{const m=L2("iframefcb");return Ti()[m]=()=>{gapi.load?h():n(Ei(r,"network-request-failed"))},z0(`${P2()}?onload=${m}`).catch(p=>n(p))}}).catch(e=>{throw Jc=null,e})}let Jc=null;function KD(r){return Jc=Jc||GD(r),Jc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QD=new lu(5e3,15e3),$D="__/auth/iframe",YD="emulator/auth/iframe",XD={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},WD=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function ZD(r){const e=r.config;Ee(e.authDomain,r,"auth-domain-config-required");const n=e.emulator?kp(e,YD):`https://${r.config.authDomain}/${$D}`,s={apiKey:e.apiKey,appName:r.name,v:po},o=WD.get(r.config.apiHost);o&&(s.eid=o);const u=r._getFrameworks();return u.length&&(s.fw=u.join(",")),`${n}?${nu(s).slice(1)}`}async function JD(r){const e=await KD(r),n=Ti().gapi;return Ee(n,r,"internal-error"),e.open({where:document.body,url:ZD(r),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:XD,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const h=Ei(r,"network-request-failed"),m=Ti().setTimeout(()=>{u(h)},QD.get());function p(){Ti().clearTimeout(m),o(s)}s.ping(p).then(p,()=>{u(h)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ex={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},tx=500,nx=600,ix="_blank",rx="http://localhost";class yE{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function sx(r,e,n,s=tx,o=nx){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),h=Math.max((window.screen.availWidth-s)/2,0).toString();let m="";const p=Object.assign(Object.assign({},ex),{width:s.toString(),height:o.toString(),top:u,left:h}),g=Wt().toLowerCase();n&&(m=O0(g)?ix:n),x0(g)&&(e=e||rx,p.scrollbars="yes");const E=Object.entries(p).reduce((R,[N,P])=>`${R}${N}=${P},`,"");if(I2(g)&&m!=="_self")return ax(e||"",m),new yE(null);const A=window.open(e||"",m,E);Ee(A,r,"popup-blocked");try{A.focus()}catch{}return new yE(A)}function ax(r,e){const n=document.createElement("a");n.href=r,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ox="__/auth/handler",lx="emulator/auth/handler",ux=encodeURIComponent("fac");async function _E(r,e,n,s,o,u){Ee(r.config.authDomain,r,"auth-domain-config-required"),Ee(r.config.apiKey,r,"invalid-api-key");const h={apiKey:r.config.apiKey,appName:r.name,authType:n,redirectUrl:s,v:po,eventId:o};if(e instanceof q0){e.setDefaultLanguage(r.languageCode),h.providerId=e.providerId||"",jS(e.getCustomParameters())||(h.customParameters=JSON.stringify(e.getCustomParameters()));for(const[E,A]of Object.entries({}))h[E]=A}if(e instanceof cu){const E=e.getScopes().filter(A=>A!=="");E.length>0&&(h.scopes=E.join(","))}r.tenantId&&(h.tid=r.tenantId);const m=h;for(const E of Object.keys(m))m[E]===void 0&&delete m[E];const p=await r._getAppCheckToken(),g=p?`#${ux}=${encodeURIComponent(p)}`:"";return`${cx(r)}?${nu(m).slice(1)}${g}`}function cx({config:r}){return r.emulator?kp(r,lx):`https://${r.authDomain}/${ox}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const um="webStorageSupport";class fx{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Y0,this._completeRedirectFn=kD,this._overrideRedirectResult=OD}async _openPopup(e,n,s,o){var u;sr((u=this.eventManagers[e._key()])===null||u===void 0?void 0:u.manager,"_initialize() not called before _openPopup()");const h=await _E(e,n,s,Vm(),o);return sx(e,h,jp())}async _openRedirect(e,n,s,o){await this._originValidation(e);const u=await _E(e,n,s,Vm(),o);return mD(u),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(sr(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await JD(e),s=new LD(e);return n.register("authEvent",o=>(Ee(o==null?void 0:o.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(um,{type:um},o=>{var u;const h=(u=o==null?void 0:o[0])===null||u===void 0?void 0:u[um];h!==void 0&&n(!!h),$n(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=qD(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return L0()||N0()||Lp()}}const hx=fx;var vE="@firebase/auth",EE="1.8.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dx{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ee(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mx(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function px(r){io(new Ks("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:h,authDomain:m}=s.options;Ee(h&&!h.includes(":"),"invalid-api-key",{appName:s.name});const p={apiKey:h,authDomain:m,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:U0(r)},g=new M2(s,o,u,p);return H2(g,n),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),io(new Ks("auth-internal",e=>{const n=ia(e.getProvider("auth").getImmediate());return(s=>new dx(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Jr(vE,EE,mx(r)),Jr(vE,EE,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gx=5*60,yx=qE("authIdTokenMaxAge")||gx;let TE=null;const _x=r=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>yx)return;const o=n==null?void 0:n.token;TE!==o&&(TE=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function nb(r=KE()){const e=Jm(r,"auth");if(e.isInitialized())return e.getImmediate();const n=q2(r,{popupRedirectResolver:hx,persistence:[AD,fD,Y0]}),s=qE("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const h=_x(u.toString());oD(n,h,()=>h(n.currentUser)),aD(n,m=>h(m))}}const o=jE("auth");return o&&F2(n,`http://${o}`),n}function vx(){var r,e;return(e=(r=document.getElementsByTagName("head"))===null||r===void 0?void 0:r[0])!==null&&e!==void 0?e:document}V2({loadJS(r){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",r),s.onload=e,s.onerror=o=>{const u=Ei("internal-error");u.customData=o,n(u)},s.type="text/javascript",s.charset="UTF-8",vx().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});px("Browser");const Ex={apiKey:"AIzaSyCA2c3JM0chy-bhHhqbsRjGs8_v003q16c",authDomain:"budgettracker-8f928.firebaseapp.com",projectId:"budgettracker-8f928",storageBucket:"budgettracker-8f928.firebasestorage.app",messagingSenderId:"961606643931",appId:"1:961606643931:web:e455405f6d0fd24b779cfe"},ib=GE(Ex),_n=BC(ib),rb=nb(ib),Bf=()=>q.jsx("div",{className:"flex h-screen items-center justify-center bg-gray-100",children:q.jsx("div",{className:"flex items-center justify-center",children:q.jsx("div",{className:"h-32 w-32 animate-spin rounded-full border-t-2 border-b-2 border-blue-500"})})}),Um=({message:r})=>q.jsx("p",{className:"text-red-500",children:r}),cm="/sakinahstory",Tx=()=>{const[r,e]=F.useState(!0),[n,s]=F.useState(!1),[o,u]=F.useState([]),[h,m]=F.useState(null);F.useEffect(()=>{const A=nb();if(!localStorage.getItem("authToken")){s(!1),e(!1);return}const N=lD(A,P=>{P?(s(!0),p()):(s(!1),e(!1))});return()=>N()},[]);async function p(){try{const A=[];(await pi(Fn(_n,"projects"))).forEach(N=>{A.push({id:N.id,...N.data()})}),u(A)}catch(A){console.error(A),m("Failed to fetch projects")}finally{e(!1)}}async function g(A){e(!0),A.preventDefault();const R=A.target.name.value,N=A.target.description.value;try{await Lf(Fn(_n,"projects"),{name:R,description:N,createdAt:new Date,userId:localStorage.getItem("userId")}),await p()}catch(P){console.error(P),m("Failed to add project")}finally{e(!1)}}if(r)return q.jsx(Bf,{});if(!n)return q.jsx(Um,{message:"Please login to view this page"});const E=[{href:`${cm}/categories`,label:"Categories"},{href:`${cm}/accounts`,label:"Accounts"}];return q.jsx("div",{className:"flex items-center justify-center bg-gray-100",children:q.jsxs("div",{className:"w-full max-w-sm p-4",children:[q.jsx("h1",{className:"mb-4 text-2xl font-bold",children:"Home"}),q.jsxs("form",{className:"space-y-4",onSubmit:g,children:[q.jsxs("div",{children:[q.jsx("label",{htmlFor:"Name",children:"Name"}),q.jsx("input",{type:"text",id:"name",name:"name",className:"w-full rounded border border-gray-300 p-2",required:!0})]}),q.jsxs("div",{children:[q.jsx("label",{htmlFor:"Description",children:"Description"}),q.jsx("input",{type:"text",id:"description",name:"description",className:"w-full rounded border border-gray-300 p-2",required:!0})]}),q.jsx("button",{type:"submit",className:"my-2 w-full rounded bg-blue-500 p-2 text-white",children:"Add Project"})]}),h&&q.jsx(Um,{message:h}),q.jsx("h2",{className:"mt-4 text-xl font-bold",children:"Projects"}),q.jsx("ul",{className:"my-2 rounded-lg border border-gray-200 bg-white text-sm font-medium text-gray-900 dark:border-gray-600 dark:bg-gray-700 dark:text-white",children:o.map(A=>q.jsx(tf,{to:`${cm}/project/${A.id}`,relative:"path",children:q.jsx("li",{className:"w-full border-b border-gray-200 px-4 py-2 dark:border-gray-600",children:A.name})},A.id))}),q.jsx("h2",{className:"mt-4 text-xl font-bold",children:"Menu"}),q.jsx("ul",{className:"my-2 rounded-lg border border-gray-200 bg-white text-sm font-medium text-gray-900 dark:border-gray-600 dark:bg-gray-700 dark:text-white",children:E.map((A,R)=>q.jsx(tf,{to:A.href,children:q.jsx("li",{className:"w-full border-b border-gray-200 px-4 py-2 dark:border-gray-600",children:A.label})},R))})]})})},bx=()=>{const{projectId:r}=xE(),[e,n]=F.useState(null),[s,o]=F.useState([]),[u,h]=F.useState([]),[m,p]=F.useState([]),[g,E]=F.useState(!0),[A,R]=F.useState(null),[N,P]=F.useState(null);F.useEffect(()=>{const z=async()=>{try{const C=Mm(_n,"projects",r),S=await i2(C);S.exists()?n(S.data()):R("Project not found")}catch(C){console.error(C),R("Failed to fetch project")}finally{E(!1)}},ne=async()=>{try{const C=am(Fn(_n,"projects",r,"transactions"),om("date","desc")),w=(await pi(C)).docs.map(D=>({id:D.id,...D.data()}));o(w)}catch(C){console.error(C),R("Failed to fetch transactions")}},re=async()=>{try{const S=(await pi(Fn(_n,"categories"))).docs.map(w=>({id:w.id,...w.data()}));h(S)}catch(C){console.error(C),R("Failed to fetch categories")}},he=async()=>{try{const S=(await pi(Fn(_n,"accounts"))).docs.map(w=>({id:w.id,...w.data()}));p(S)}catch(C){console.error(C),R("Failed to fetch accounts")}};z(),ne(),re(),he()},[r]);const Q=async z=>{z.preventDefault();const{description:ne,amount:re,category:he,account:C,type:S,date:w,linkedTransactionId:D}=z.target.elements;try{const O=Fn(_n,"projects",r,"transactions"),U=S.value==="loan"||S.value==="expense"?-parseFloat(re.value):parseFloat(re.value),x=new Date().toISOString().split("T")[1];await Lf(O,{description:ne.value,amount:U,category:he.value,account:C.value,type:S.value,date:w.value+"T"+x,linkedTransactionId:D.value||null,timestamp:new Date().toISOString()});const Je=(await pi(am(O,om("date","desc")))).docs.map(ae=>({id:ae.id,...ae.data()}));o(Je)}catch(O){console.error(O),R("Failed to add transaction")}},L=async z=>{try{const ne=Mm(_n,"projects",r,"transactions",z);await r2(ne);const re=am(Fn(_n,"projects",r,"transactions"),om("date","desc")),C=(await pi(re)).docs.map(S=>({id:S.id,...S.data()}));o(C)}catch(ne){console.error(ne),R("Failed to delete transaction")}},K=z=>{navigator.clipboard.writeText(z).then(()=>{alert("Transaction ID copied to clipboard")}).catch(ne=>{console.error("Failed to copy transaction ID",ne)})},Y=z=>{P(z)};return g?q.jsx(Bf,{}):A?q.jsx("div",{className:"flex items-center justify-center bg-gray-100",children:q.jsx("div",{className:"w-full max-w-sm p-4",children:q.jsx("div",{className:"text-center text-red-500",children:A})})}):q.jsx("div",{className:"flex items-center justify-center bg-gray-100",children:q.jsxs("div",{className:"w-full max-w-sm p-4",children:[q.jsx("h2",{className:"mt-4 text-xl font-bold uppercase",children:e==null?void 0:e.name}),q.jsx("p",{children:e==null?void 0:e.description}),q.jsxs("form",{className:"mt-4",onSubmit:Q,children:[q.jsx("input",{className:"mb-2 w-full rounded border border-gray-400 p-1 text-2xl",type:"text",name:"description",placeholder:"Description"}),q.jsxs("select",{className:"mb-2 w-full rounded border border-gray-400 p-1 text-2xl",name:"type",children:[q.jsx("option",{value:"income",children:"↑ Income"}),q.jsx("option",{value:"expense",children:"↓ Expense"}),q.jsx("option",{value:"loan",children:"↑ Loaned By"}),q.jsx("option",{value:"return",children:"↓ Return By"})]}),q.jsx("input",{className:"mb-2 w-full rounded border border-gray-400 p-1 text-2xl",type:"number",name:"amount",placeholder:"Amount"}),q.jsx("select",{className:"mb-2 w-full rounded border border-gray-400 p-1 text-2xl",name:"category",children:u.map(z=>q.jsxs("option",{value:z.name,children:[z.icon," ",z.name]},z.id))}),q.jsx("select",{className:"mb-2 w-full rounded border border-gray-400 p-1 text-2xl",name:"account",children:m.map(z=>q.jsx("option",{value:z.name,children:z.name},z.id))}),q.jsx("input",{type:"date",name:"date",defaultValue:new Date().toISOString().split("T")[0],className:"mb-2 w-full rounded border border-gray-400 p-1 text-2xl"}),q.jsx("input",{className:"mb-2 w-full rounded border border-gray-400 p-1 text-2xl",type:"text",name:"linkedTransactionId",placeholder:"Linked Transaction ID (optional)"}),q.jsx("button",{className:"w-full rounded bg-blue-500 p-2 text-2xl text-white",type:"submit",children:"Add Transaction"})]}),q.jsxs("div",{className:"mt-4",children:[q.jsx("h2",{className:"text-lg font-bold",children:"Transactions"}),q.jsx("br",{}),q.jsxs("p",{className:"text-xs text-gray-500",children:["Balance: ",s.reduce((z,ne)=>z+ne.amount,0).toString().replace(/\B(?=(\d{3})+(?!\d))/g," ")]}),q.jsx("br",{}),q.jsx("div",{className:"overflow-x-auto",children:q.jsxs("table",{className:"max-w-sm min-w-full divide-y divide-gray-200 text-xs",children:[q.jsx("thead",{children:q.jsxs("tr",{children:[q.jsx("th",{className:"px-2 py-1 text-left font-medium tracking-wider text-gray-500 uppercase",children:"Description"}),q.jsx("th",{className:"px-2 py-1 text-left font-medium tracking-wider text-gray-500 uppercase",children:"Amount"}),q.jsx("th",{className:"px-2 py-1 text-left font-medium tracking-wider text-gray-500 uppercase",children:"Category"}),q.jsx("th",{className:"px-2 py-1 text-left font-medium tracking-wider text-gray-500 uppercase",children:"Account"}),q.jsx("th",{className:"px-2 py-1 text-left font-medium tracking-wider text-gray-500 uppercase",children:"Date"}),q.jsx("th",{className:"px-2 py-1 text-left font-medium tracking-wider text-gray-500 uppercase",children:"Actions"})]})}),q.jsx("tbody",{className:"divide-y divide-gray-200 bg-white",children:s.map(z=>q.jsxs("tr",{className:N===z.id?"bg-yellow-100":"",children:[q.jsx("td",{className:"px-2 py-1 whitespace-nowrap text-gray-500",children:z.description}),q.jsx("td",{className:"px-2 py-1 text-right whitespace-nowrap text-gray-500",children:z.amount.toString().replace(/\B(?=(\d{3})+(?!\d))/g," ")}),q.jsx("td",{className:"px-2 py-1 whitespace-nowrap text-gray-500",children:z.category}),q.jsx("td",{className:"px-2 py-1 whitespace-nowrap text-gray-500",children:z.account}),q.jsx("td",{className:"px-2 py-1 text-right whitespace-nowrap text-gray-500",children:new Date(z.date).toISOString().split("T")[0]}),q.jsxs("td",{className:"px-2 py-1 whitespace-nowrap text-gray-500",children:[q.jsx("button",{className:"text-red-500 hover:text-red-700",onClick:()=>L(z.id),children:"Delete"}),q.jsx("button",{className:"ml-2 text-blue-500 hover:text-blue-700",onClick:()=>K(z.id),children:"Link"}),z.linkedTransactionId&&q.jsx("button",{className:"ml-2 text-green-500 hover:text-green-700",onClick:()=>Y(z.linkedTransactionId),children:"Highlight"})]})]},z.id))})]})})]})]})})},Ax=()=>q.jsxs("div",{className:"flex w-full flex-col items-center justify-center",children:[q.jsx("h1",{className:"text-2xl font-bold text-gray-700",children:"Statistics"}),q.jsx("p",{className:"mt-4 text-gray-600",children:"This is the statistics page."})]}),wx=()=>{const{projectId:r,transactionId:e}=useParams(),{data:n,isLoading:s}=useTransaction(r,e);return s?q.jsx(Loading,{}):q.jsxs("div",{className:"flex w-full flex-col items-center justify-center",children:[q.jsxs("h1",{className:"text-2xl font-bold text-gray-700",children:["Transaction: ",n.name]}),q.jsx("p",{className:"mt-4 text-gray-600",children:n.description})]})};function sb(r){var e,n,s="";if(typeof r=="string"||typeof r=="number")s+=r;else if(typeof r=="object")if(Array.isArray(r)){var o=r.length;for(e=0;e<o;e++)r[e]&&(n=sb(r[e]))&&(s&&(s+=" "),s+=n)}else for(n in r)r[n]&&(s&&(s+=" "),s+=n);return s}function Gs(){for(var r,e,n=0,s="",o=arguments.length;n<o;n++)(r=arguments[n])&&(e=sb(r))&&(s&&(s+=" "),s+=e);return s}function Sx(r){if(typeof document>"u")return;let e=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",e.firstChild?e.insertBefore(n,e.firstChild):e.appendChild(n),n.styleSheet?n.styleSheet.cssText=r:n.appendChild(document.createTextNode(r))}Sx(`:root{--toastify-color-light: #fff;--toastify-color-dark: #121212;--toastify-color-info: #3498db;--toastify-color-success: #07bc0c;--toastify-color-warning: #f1c40f;--toastify-color-error: hsl(6, 78%, 57%);--toastify-color-transparent: rgba(255, 255, 255, .7);--toastify-icon-color-info: var(--toastify-color-info);--toastify-icon-color-success: var(--toastify-color-success);--toastify-icon-color-warning: var(--toastify-color-warning);--toastify-icon-color-error: var(--toastify-color-error);--toastify-container-width: fit-content;--toastify-toast-width: 320px;--toastify-toast-offset: 16px;--toastify-toast-top: max(var(--toastify-toast-offset), env(safe-area-inset-top));--toastify-toast-right: max(var(--toastify-toast-offset), env(safe-area-inset-right));--toastify-toast-left: max(var(--toastify-toast-offset), env(safe-area-inset-left));--toastify-toast-bottom: max(var(--toastify-toast-offset), env(safe-area-inset-bottom));--toastify-toast-background: #fff;--toastify-toast-padding: 14px;--toastify-toast-min-height: 64px;--toastify-toast-max-height: 800px;--toastify-toast-bd-radius: 6px;--toastify-toast-shadow: 0px 4px 12px rgba(0, 0, 0, .1);--toastify-font-family: sans-serif;--toastify-z-index: 9999;--toastify-text-color-light: #757575;--toastify-text-color-dark: #fff;--toastify-text-color-info: #fff;--toastify-text-color-success: #fff;--toastify-text-color-warning: #fff;--toastify-text-color-error: #fff;--toastify-spinner-color: #616161;--toastify-spinner-color-empty-area: #e0e0e0;--toastify-color-progress-light: linear-gradient(to right, #4cd964, #5ac8fa, #007aff, #34aadc, #5856d6, #ff2d55);--toastify-color-progress-dark: #bb86fc;--toastify-color-progress-info: var(--toastify-color-info);--toastify-color-progress-success: var(--toastify-color-success);--toastify-color-progress-warning: var(--toastify-color-warning);--toastify-color-progress-error: var(--toastify-color-error);--toastify-color-progress-bgo: .2}.Toastify__toast-container{z-index:var(--toastify-z-index);-webkit-transform:translate3d(0,0,var(--toastify-z-index));position:fixed;width:var(--toastify-container-width);box-sizing:border-box;color:#fff;display:flex;flex-direction:column}.Toastify__toast-container--top-left{top:var(--toastify-toast-top);left:var(--toastify-toast-left)}.Toastify__toast-container--top-center{top:var(--toastify-toast-top);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--top-right{top:var(--toastify-toast-top);right:var(--toastify-toast-right);align-items:end}.Toastify__toast-container--bottom-left{bottom:var(--toastify-toast-bottom);left:var(--toastify-toast-left)}.Toastify__toast-container--bottom-center{bottom:var(--toastify-toast-bottom);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--bottom-right{bottom:var(--toastify-toast-bottom);right:var(--toastify-toast-right);align-items:end}.Toastify__toast{--y: 0;position:relative;touch-action:none;width:var(--toastify-toast-width);min-height:var(--toastify-toast-min-height);box-sizing:border-box;margin-bottom:1rem;padding:var(--toastify-toast-padding);border-radius:var(--toastify-toast-bd-radius);box-shadow:var(--toastify-toast-shadow);max-height:var(--toastify-toast-max-height);font-family:var(--toastify-font-family);z-index:0;display:flex;flex:1 auto;align-items:center;word-break:break-word}@media only screen and (max-width: 480px){.Toastify__toast-container{width:100vw;left:env(safe-area-inset-left);margin:0}.Toastify__toast-container--top-left,.Toastify__toast-container--top-center,.Toastify__toast-container--top-right{top:env(safe-area-inset-top);transform:translate(0)}.Toastify__toast-container--bottom-left,.Toastify__toast-container--bottom-center,.Toastify__toast-container--bottom-right{bottom:env(safe-area-inset-bottom);transform:translate(0)}.Toastify__toast-container--rtl{right:env(safe-area-inset-right);left:initial}.Toastify__toast{--toastify-toast-width: 100%;margin-bottom:0;border-radius:0}}.Toastify__toast-container[data-stacked=true]{width:var(--toastify-toast-width)}.Toastify__toast--stacked{position:absolute;width:100%;transform:translate3d(0,var(--y),0) scale(var(--s));transition:transform .3s}.Toastify__toast--stacked[data-collapsed] .Toastify__toast-body,.Toastify__toast--stacked[data-collapsed] .Toastify__close-button{transition:opacity .1s}.Toastify__toast--stacked[data-collapsed=false]{overflow:visible}.Toastify__toast--stacked[data-collapsed=true]:not(:last-child)>*{opacity:0}.Toastify__toast--stacked:after{content:"";position:absolute;left:0;right:0;height:calc(var(--g) * 1px);bottom:100%}.Toastify__toast--stacked[data-pos=top]{top:0}.Toastify__toast--stacked[data-pos=bot]{bottom:0}.Toastify__toast--stacked[data-pos=bot].Toastify__toast--stacked:before{transform-origin:top}.Toastify__toast--stacked[data-pos=top].Toastify__toast--stacked:before{transform-origin:bottom}.Toastify__toast--stacked:before{content:"";position:absolute;left:0;right:0;bottom:0;height:100%;transform:scaleY(3);z-index:-1}.Toastify__toast--rtl{direction:rtl}.Toastify__toast--close-on-click{cursor:pointer}.Toastify__toast-icon{margin-inline-end:10px;width:22px;flex-shrink:0;display:flex}.Toastify--animate{animation-fill-mode:both;animation-duration:.5s}.Toastify--animate-icon{animation-fill-mode:both;animation-duration:.3s}.Toastify__toast-theme--dark{background:var(--toastify-color-dark);color:var(--toastify-text-color-dark)}.Toastify__toast-theme--light,.Toastify__toast-theme--colored.Toastify__toast--default{background:var(--toastify-color-light);color:var(--toastify-text-color-light)}.Toastify__toast-theme--colored.Toastify__toast--info{color:var(--toastify-text-color-info);background:var(--toastify-color-info)}.Toastify__toast-theme--colored.Toastify__toast--success{color:var(--toastify-text-color-success);background:var(--toastify-color-success)}.Toastify__toast-theme--colored.Toastify__toast--warning{color:var(--toastify-text-color-warning);background:var(--toastify-color-warning)}.Toastify__toast-theme--colored.Toastify__toast--error{color:var(--toastify-text-color-error);background:var(--toastify-color-error)}.Toastify__progress-bar-theme--light{background:var(--toastify-color-progress-light)}.Toastify__progress-bar-theme--dark{background:var(--toastify-color-progress-dark)}.Toastify__progress-bar--info{background:var(--toastify-color-progress-info)}.Toastify__progress-bar--success{background:var(--toastify-color-progress-success)}.Toastify__progress-bar--warning{background:var(--toastify-color-progress-warning)}.Toastify__progress-bar--error{background:var(--toastify-color-progress-error)}.Toastify__progress-bar-theme--colored.Toastify__progress-bar--info,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--success,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--warning,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--error{background:var(--toastify-color-transparent)}.Toastify__close-button{color:#fff;position:absolute;top:6px;right:6px;background:transparent;outline:none;border:none;padding:0;cursor:pointer;opacity:.7;transition:.3s ease;z-index:1}.Toastify__toast--rtl .Toastify__close-button{left:6px;right:unset}.Toastify__close-button--light{color:#000;opacity:.3}.Toastify__close-button>svg{fill:currentColor;height:16px;width:14px}.Toastify__close-button:hover,.Toastify__close-button:focus{opacity:1}@keyframes Toastify__trackProgress{0%{transform:scaleX(1)}to{transform:scaleX(0)}}.Toastify__progress-bar{position:absolute;bottom:0;left:0;width:100%;height:100%;z-index:1;opacity:.7;transform-origin:left}.Toastify__progress-bar--animated{animation:Toastify__trackProgress linear 1 forwards}.Toastify__progress-bar--controlled{transition:transform .2s}.Toastify__progress-bar--rtl{right:0;left:initial;transform-origin:right;border-bottom-left-radius:initial}.Toastify__progress-bar--wrp{position:absolute;overflow:hidden;bottom:0;left:0;width:100%;height:5px;border-bottom-left-radius:var(--toastify-toast-bd-radius);border-bottom-right-radius:var(--toastify-toast-bd-radius)}.Toastify__progress-bar--wrp[data-hidden=true]{opacity:0}.Toastify__progress-bar--bg{opacity:var(--toastify-color-progress-bgo);width:100%;height:100%}.Toastify__spinner{width:20px;height:20px;box-sizing:border-box;border:2px solid;border-radius:100%;border-color:var(--toastify-spinner-color-empty-area);border-right-color:var(--toastify-spinner-color);animation:Toastify__spin .65s linear infinite}@keyframes Toastify__bounceInRight{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(3000px,0,0)}60%{opacity:1;transform:translate3d(-25px,0,0)}75%{transform:translate3d(10px,0,0)}90%{transform:translate3d(-5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutRight{20%{opacity:1;transform:translate3d(-20px,var(--y),0)}to{opacity:0;transform:translate3d(2000px,var(--y),0)}}@keyframes Toastify__bounceInLeft{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(-3000px,0,0)}60%{opacity:1;transform:translate3d(25px,0,0)}75%{transform:translate3d(-10px,0,0)}90%{transform:translate3d(5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutLeft{20%{opacity:1;transform:translate3d(20px,var(--y),0)}to{opacity:0;transform:translate3d(-2000px,var(--y),0)}}@keyframes Toastify__bounceInUp{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,3000px,0)}60%{opacity:1;transform:translate3d(0,-20px,0)}75%{transform:translate3d(0,10px,0)}90%{transform:translate3d(0,-5px,0)}to{transform:translateZ(0)}}@keyframes Toastify__bounceOutUp{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,-2000px,0)}}@keyframes Toastify__bounceInDown{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,-3000px,0)}60%{opacity:1;transform:translate3d(0,25px,0)}75%{transform:translate3d(0,-10px,0)}90%{transform:translate3d(0,5px,0)}to{transform:none}}@keyframes Toastify__bounceOutDown{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,2000px,0)}}.Toastify__bounce-enter--top-left,.Toastify__bounce-enter--bottom-left{animation-name:Toastify__bounceInLeft}.Toastify__bounce-enter--top-right,.Toastify__bounce-enter--bottom-right{animation-name:Toastify__bounceInRight}.Toastify__bounce-enter--top-center{animation-name:Toastify__bounceInDown}.Toastify__bounce-enter--bottom-center{animation-name:Toastify__bounceInUp}.Toastify__bounce-exit--top-left,.Toastify__bounce-exit--bottom-left{animation-name:Toastify__bounceOutLeft}.Toastify__bounce-exit--top-right,.Toastify__bounce-exit--bottom-right{animation-name:Toastify__bounceOutRight}.Toastify__bounce-exit--top-center{animation-name:Toastify__bounceOutUp}.Toastify__bounce-exit--bottom-center{animation-name:Toastify__bounceOutDown}@keyframes Toastify__zoomIn{0%{opacity:0;transform:scale3d(.3,.3,.3)}50%{opacity:1}}@keyframes Toastify__zoomOut{0%{opacity:1}50%{opacity:0;transform:translate3d(0,var(--y),0) scale3d(.3,.3,.3)}to{opacity:0}}.Toastify__zoom-enter{animation-name:Toastify__zoomIn}.Toastify__zoom-exit{animation-name:Toastify__zoomOut}@keyframes Toastify__flipIn{0%{transform:perspective(400px) rotateX(90deg);animation-timing-function:ease-in;opacity:0}40%{transform:perspective(400px) rotateX(-20deg);animation-timing-function:ease-in}60%{transform:perspective(400px) rotateX(10deg);opacity:1}80%{transform:perspective(400px) rotateX(-5deg)}to{transform:perspective(400px)}}@keyframes Toastify__flipOut{0%{transform:translate3d(0,var(--y),0) perspective(400px)}30%{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(-20deg);opacity:1}to{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(90deg);opacity:0}}.Toastify__flip-enter{animation-name:Toastify__flipIn}.Toastify__flip-exit{animation-name:Toastify__flipOut}@keyframes Toastify__slideInRight{0%{transform:translate3d(110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInLeft{0%{transform:translate3d(-110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInUp{0%{transform:translate3d(0,110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInDown{0%{transform:translate3d(0,-110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideOutRight{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(110%,var(--y),0)}}@keyframes Toastify__slideOutLeft{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(-110%,var(--y),0)}}@keyframes Toastify__slideOutDown{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,500px,0)}}@keyframes Toastify__slideOutUp{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,-500px,0)}}.Toastify__slide-enter--top-left,.Toastify__slide-enter--bottom-left{animation-name:Toastify__slideInLeft}.Toastify__slide-enter--top-right,.Toastify__slide-enter--bottom-right{animation-name:Toastify__slideInRight}.Toastify__slide-enter--top-center{animation-name:Toastify__slideInDown}.Toastify__slide-enter--bottom-center{animation-name:Toastify__slideInUp}.Toastify__slide-exit--top-left,.Toastify__slide-exit--bottom-left{animation-name:Toastify__slideOutLeft;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-right,.Toastify__slide-exit--bottom-right{animation-name:Toastify__slideOutRight;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-center{animation-name:Toastify__slideOutUp;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--bottom-center{animation-name:Toastify__slideOutDown;animation-timing-function:ease-in;animation-duration:.3s}@keyframes Toastify__spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}
`);var hu=r=>typeof r=="number"&&!isNaN(r),Ws=r=>typeof r=="string",ar=r=>typeof r=="function",Rx=r=>Ws(r)||hu(r),zm=r=>Ws(r)||ar(r)?r:null,Ix=(r,e)=>r===!1||hu(r)&&r>0?r:e,jm=r=>F.isValidElement(r)||Ws(r)||ar(r)||hu(r);function Cx(r,e,n=300){let{scrollHeight:s,style:o}=r;requestAnimationFrame(()=>{o.minHeight="initial",o.height=s+"px",o.transition=`all ${n}ms`,requestAnimationFrame(()=>{o.height="0",o.padding="0",o.margin="0",setTimeout(e,n)})})}function Dx({enter:r,exit:e,appendPosition:n=!1,collapse:s=!0,collapseDuration:o=300}){return function({children:u,position:h,preventExitTransition:m,done:p,nodeRef:g,isIn:E,playToast:A}){let R=n?`${r}--${h}`:r,N=n?`${e}--${h}`:e,P=F.useRef(0);return F.useLayoutEffect(()=>{let Q=g.current,L=R.split(" "),K=Y=>{Y.target===g.current&&(A(),Q.removeEventListener("animationend",K),Q.removeEventListener("animationcancel",K),P.current===0&&Y.type!=="animationcancel"&&Q.classList.remove(...L))};Q.classList.add(...L),Q.addEventListener("animationend",K),Q.addEventListener("animationcancel",K)},[]),F.useEffect(()=>{let Q=g.current,L=()=>{Q.removeEventListener("animationend",L),s?Cx(Q,p,o):p()};E||(m?L():(P.current=1,Q.className+=` ${N}`,Q.addEventListener("animationend",L)))},[E]),tt.createElement(tt.Fragment,null,u)}}function bE(r,e){return{content:ab(r.content,r.props),containerId:r.props.containerId,id:r.props.toastId,theme:r.props.theme,type:r.props.type,data:r.props.data||{},isLoading:r.props.isLoading,icon:r.props.icon,reason:r.removalReason,status:e}}function ab(r,e,n=!1){return F.isValidElement(r)&&!Ws(r.type)?F.cloneElement(r,{closeToast:e.closeToast,toastProps:e,data:e.data,isPaused:n}):ar(r)?r({closeToast:e.closeToast,toastProps:e,data:e.data,isPaused:n}):r}function xx({closeToast:r,theme:e,ariaLabel:n="close"}){return tt.createElement("button",{className:`Toastify__close-button Toastify__close-button--${e}`,type:"button",onClick:s=>{s.stopPropagation(),r(!0)},"aria-label":n},tt.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},tt.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}function Nx({delay:r,isRunning:e,closeToast:n,type:s="default",hide:o,className:u,controlledProgress:h,progress:m,rtl:p,isIn:g,theme:E}){let A=o||h&&m===0,R={animationDuration:`${r}ms`,animationPlayState:e?"running":"paused"};h&&(R.transform=`scaleX(${m})`);let N=Gs("Toastify__progress-bar",h?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${E}`,`Toastify__progress-bar--${s}`,{"Toastify__progress-bar--rtl":p}),P=ar(u)?u({rtl:p,type:s,defaultClassName:N}):Gs(N,u),Q={[h&&m>=1?"onTransitionEnd":"onAnimationEnd"]:h&&m<1?null:()=>{g&&n()}};return tt.createElement("div",{className:"Toastify__progress-bar--wrp","data-hidden":A},tt.createElement("div",{className:`Toastify__progress-bar--bg Toastify__progress-bar-theme--${E} Toastify__progress-bar--${s}`}),tt.createElement("div",{role:"progressbar","aria-hidden":A?"true":"false","aria-label":"notification timer",className:P,style:R,...Q}))}var Ox=1,ob=()=>`${Ox++}`;function Mx(r,e,n){let s=1,o=0,u=[],h=[],m=e,p=new Map,g=new Set,E=Y=>(g.add(Y),()=>g.delete(Y)),A=()=>{h=Array.from(p.values()),g.forEach(Y=>Y())},R=({containerId:Y,toastId:z,updateId:ne})=>{let re=Y?Y!==r:r!==1,he=p.has(z)&&ne==null;return re||he},N=(Y,z)=>{p.forEach(ne=>{var re;(z==null||z===ne.props.toastId)&&((re=ne.toggle)==null||re.call(ne,Y))})},P=Y=>{var z,ne;(ne=(z=Y.props)==null?void 0:z.onClose)==null||ne.call(z,Y.removalReason),Y.isActive=!1},Q=Y=>{if(Y==null)p.forEach(P);else{let z=p.get(Y);z&&P(z)}A()},L=()=>{o-=u.length,u=[]},K=Y=>{var z,ne;let{toastId:re,updateId:he}=Y.props,C=he==null;Y.staleId&&p.delete(Y.staleId),Y.isActive=!0,p.set(re,Y),A(),n(bE(Y,C?"added":"updated")),C&&((ne=(z=Y.props).onOpen)==null||ne.call(z))};return{id:r,props:m,observe:E,toggle:N,removeToast:Q,toasts:p,clearQueue:L,buildToast:(Y,z)=>{if(R(z))return;let{toastId:ne,updateId:re,data:he,staleId:C,delay:S}=z,w=re==null;w&&o++;let D={...m,style:m.toastStyle,key:s++,...Object.fromEntries(Object.entries(z).filter(([U,x])=>x!=null)),toastId:ne,updateId:re,data:he,isIn:!1,className:zm(z.className||m.toastClassName),progressClassName:zm(z.progressClassName||m.progressClassName),autoClose:z.isLoading?!1:Ix(z.autoClose,m.autoClose),closeToast(U){p.get(ne).removalReason=U,Q(ne)},deleteToast(){let U=p.get(ne);if(U!=null){if(n(bE(U,"removed")),p.delete(ne),o--,o<0&&(o=0),u.length>0){K(u.shift());return}A()}}};D.closeButton=m.closeButton,z.closeButton===!1||jm(z.closeButton)?D.closeButton=z.closeButton:z.closeButton===!0&&(D.closeButton=jm(m.closeButton)?m.closeButton:!0);let O={content:Y,props:D,staleId:C};m.limit&&m.limit>0&&o>m.limit&&w?u.push(O):hu(S)?setTimeout(()=>{K(O)},S):K(O)},setProps(Y){m=Y},setToggle:(Y,z)=>{let ne=p.get(Y);ne&&(ne.toggle=z)},isToastActive:Y=>{var z;return(z=p.get(Y))==null?void 0:z.isActive},getSnapshot:()=>h}}var sn=new Map,Zl=[],Bm=new Set,Vx=r=>Bm.forEach(e=>e(r)),lb=()=>sn.size>0;function kx(){Zl.forEach(r=>cb(r.content,r.options)),Zl=[]}var Px=(r,{containerId:e})=>{var n;return(n=sn.get(e||1))==null?void 0:n.toasts.get(r)};function ub(r,e){var n;if(e)return!!((n=sn.get(e))!=null&&n.isToastActive(r));let s=!1;return sn.forEach(o=>{o.isToastActive(r)&&(s=!0)}),s}function Lx(r){if(!lb()){Zl=Zl.filter(e=>r!=null&&e.options.toastId!==r);return}if(r==null||Rx(r))sn.forEach(e=>{e.removeToast(r)});else if(r&&("containerId"in r||"id"in r)){let e=sn.get(r.containerId);e?e.removeToast(r.id):sn.forEach(n=>{n.removeToast(r.id)})}}var Ux=(r={})=>{sn.forEach(e=>{e.props.limit&&(!r.containerId||e.id===r.containerId)&&e.clearQueue()})};function cb(r,e){jm(r)&&(lb()||Zl.push({content:r,options:e}),sn.forEach(n=>{n.buildToast(r,e)}))}function zx(r){var e;(e=sn.get(r.containerId||1))==null||e.setToggle(r.id,r.fn)}function fb(r,e){sn.forEach(n=>{(e==null||!(e!=null&&e.containerId)||(e==null?void 0:e.containerId)===n.id)&&n.toggle(r,e==null?void 0:e.id)})}function jx(r){let e=r.containerId||1;return{subscribe(n){let s=Mx(e,r,Vx);sn.set(e,s);let o=s.observe(n);return kx(),()=>{o(),sn.delete(e)}},setProps(n){var s;(s=sn.get(e))==null||s.setProps(n)},getSnapshot(){var n;return(n=sn.get(e))==null?void 0:n.getSnapshot()}}}function Bx(r){return Bm.add(r),()=>{Bm.delete(r)}}function qx(r){return r&&(Ws(r.toastId)||hu(r.toastId))?r.toastId:ob()}function du(r,e){return cb(r,e),e.toastId}function qf(r,e){return{...e,type:e&&e.type||r,toastId:qx(e)}}function Hf(r){return(e,n)=>du(e,qf(r,n))}function Ye(r,e){return du(r,qf("default",e))}Ye.loading=(r,e)=>du(r,qf("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...e}));function Hx(r,{pending:e,error:n,success:s},o){let u;e&&(u=Ws(e)?Ye.loading(e,o):Ye.loading(e.render,{...o,...e}));let h={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},m=(g,E,A)=>{if(E==null){Ye.dismiss(u);return}let R={type:g,...h,...o,data:A},N=Ws(E)?{render:E}:E;return u?Ye.update(u,{...R,...N}):Ye(N.render,{...R,...N}),A},p=ar(r)?r():r;return p.then(g=>m("success",s,g)).catch(g=>m("error",n,g)),p}Ye.promise=Hx;Ye.success=Hf("success");Ye.info=Hf("info");Ye.error=Hf("error");Ye.warning=Hf("warning");Ye.warn=Ye.warning;Ye.dark=(r,e)=>du(r,qf("default",{theme:"dark",...e}));function Fx(r){Lx(r)}Ye.dismiss=Fx;Ye.clearWaitingQueue=Ux;Ye.isActive=ub;Ye.update=(r,e={})=>{let n=Px(r,e);if(n){let{props:s,content:o}=n,u={delay:100,...s,...e,toastId:e.toastId||r,updateId:ob()};u.toastId!==r&&(u.staleId=r);let h=u.render||o;delete u.render,du(h,u)}};Ye.done=r=>{Ye.update(r,{progress:1})};Ye.onChange=Bx;Ye.play=r=>fb(!0,r);Ye.pause=r=>fb(!1,r);function Gx(r){var e;let{subscribe:n,getSnapshot:s,setProps:o}=F.useRef(jx(r)).current;o(r);let u=(e=F.useSyncExternalStore(n,s,s))==null?void 0:e.slice();function h(m){if(!u)return[];let p=new Map;return r.newestOnTop&&u.reverse(),u.forEach(g=>{let{position:E}=g.props;p.has(E)||p.set(E,[]),p.get(E).push(g)}),Array.from(p,g=>m(g[0],g[1]))}return{getToastToRender:h,isToastActive:ub,count:u==null?void 0:u.length}}function Kx(r){let[e,n]=F.useState(!1),[s,o]=F.useState(!1),u=F.useRef(null),h=F.useRef({start:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,didMove:!1}).current,{autoClose:m,pauseOnHover:p,closeToast:g,onClick:E,closeOnClick:A}=r;zx({id:r.toastId,containerId:r.containerId,fn:n}),F.useEffect(()=>{if(r.pauseOnFocusLoss)return R(),()=>{N()}},[r.pauseOnFocusLoss]);function R(){document.hasFocus()||K(),window.addEventListener("focus",L),window.addEventListener("blur",K)}function N(){window.removeEventListener("focus",L),window.removeEventListener("blur",K)}function P(C){if(r.draggable===!0||r.draggable===C.pointerType){Y();let S=u.current;h.canCloseOnClick=!0,h.canDrag=!0,S.style.transition="none",r.draggableDirection==="x"?(h.start=C.clientX,h.removalDistance=S.offsetWidth*(r.draggablePercent/100)):(h.start=C.clientY,h.removalDistance=S.offsetHeight*(r.draggablePercent===80?r.draggablePercent*1.5:r.draggablePercent)/100)}}function Q(C){let{top:S,bottom:w,left:D,right:O}=u.current.getBoundingClientRect();C.nativeEvent.type!=="touchend"&&r.pauseOnHover&&C.clientX>=D&&C.clientX<=O&&C.clientY>=S&&C.clientY<=w?K():L()}function L(){n(!0)}function K(){n(!1)}function Y(){h.didMove=!1,document.addEventListener("pointermove",ne),document.addEventListener("pointerup",re)}function z(){document.removeEventListener("pointermove",ne),document.removeEventListener("pointerup",re)}function ne(C){let S=u.current;if(h.canDrag&&S){h.didMove=!0,e&&K(),r.draggableDirection==="x"?h.delta=C.clientX-h.start:h.delta=C.clientY-h.start,h.start!==C.clientX&&(h.canCloseOnClick=!1);let w=r.draggableDirection==="x"?`${h.delta}px, var(--y)`:`0, calc(${h.delta}px + var(--y))`;S.style.transform=`translate3d(${w},0)`,S.style.opacity=`${1-Math.abs(h.delta/h.removalDistance)}`}}function re(){z();let C=u.current;if(h.canDrag&&h.didMove&&C){if(h.canDrag=!1,Math.abs(h.delta)>h.removalDistance){o(!0),r.closeToast(!0),r.collapseAll();return}C.style.transition="transform 0.2s, opacity 0.2s",C.style.removeProperty("transform"),C.style.removeProperty("opacity")}}let he={onPointerDown:P,onPointerUp:Q};return m&&p&&(he.onMouseEnter=K,r.stacked||(he.onMouseLeave=L)),A&&(he.onClick=C=>{E&&E(C),h.canCloseOnClick&&g(!0)}),{playToast:L,pauseToast:K,isRunning:e,preventExitTransition:s,toastRef:u,eventHandlers:he}}var Qx=typeof window<"u"?F.useLayoutEffect:F.useEffect,Ff=({theme:r,type:e,isLoading:n,...s})=>tt.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:r==="colored"?"currentColor":`var(--toastify-icon-color-${e})`,...s});function $x(r){return tt.createElement(Ff,{...r},tt.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))}function Yx(r){return tt.createElement(Ff,{...r},tt.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))}function Xx(r){return tt.createElement(Ff,{...r},tt.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))}function Wx(r){return tt.createElement(Ff,{...r},tt.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))}function Zx(){return tt.createElement("div",{className:"Toastify__spinner"})}var qm={info:Yx,warning:$x,success:Xx,error:Wx,spinner:Zx},Jx=r=>r in qm;function eN({theme:r,type:e,isLoading:n,icon:s}){let o=null,u={theme:r,type:e};return s===!1||(ar(s)?o=s({...u,isLoading:n}):F.isValidElement(s)?o=F.cloneElement(s,u):n?o=qm.spinner():Jx(e)&&(o=qm[e](u))),o}var tN=r=>{let{isRunning:e,preventExitTransition:n,toastRef:s,eventHandlers:o,playToast:u}=Kx(r),{closeButton:h,children:m,autoClose:p,onClick:g,type:E,hideProgressBar:A,closeToast:R,transition:N,position:P,className:Q,style:L,progressClassName:K,updateId:Y,role:z,progress:ne,rtl:re,toastId:he,deleteToast:C,isIn:S,isLoading:w,closeOnClick:D,theme:O,ariaLabel:U}=r,x=Gs("Toastify__toast",`Toastify__toast-theme--${O}`,`Toastify__toast--${E}`,{"Toastify__toast--rtl":re},{"Toastify__toast--close-on-click":D}),ot=ar(Q)?Q({rtl:re,position:P,type:E,defaultClassName:x}):Gs(x,Q),Je=eN(r),ae=!!ne||!p,_e={closeToast:R,type:E,theme:O},de=null;return h===!1||(ar(h)?de=h(_e):F.isValidElement(h)?de=F.cloneElement(h,_e):de=xx(_e)),tt.createElement(N,{isIn:S,done:C,position:P,preventExitTransition:n,nodeRef:s,playToast:u},tt.createElement("div",{id:he,tabIndex:0,onClick:g,"data-in":S,className:ot,...o,style:L,ref:s,...S&&{role:z,"aria-label":U}},Je!=null&&tt.createElement("div",{className:Gs("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!w})},Je),ab(m,r,!e),de,!r.customProgressBar&&tt.createElement(Nx,{...Y&&!ae?{key:`p-${Y}`}:{},rtl:re,theme:O,delay:p,isRunning:e,isIn:S,closeToast:R,hide:A,type:E,className:K,controlledProgress:ae,progress:ne||0})))},nN=(r,e=!1)=>({enter:`Toastify--animate Toastify__${r}-enter`,exit:`Toastify--animate Toastify__${r}-exit`,appendPosition:e}),iN=Dx(nN("bounce",!0)),rN={position:"top-right",transition:iN,autoClose:5e3,closeButton:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:"touch",draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light","aria-label":"Notifications Alt+T",hotKeys:r=>r.altKey&&r.code==="KeyT"};function hb(r){let e={...rN,...r},n=r.stacked,[s,o]=F.useState(!0),u=F.useRef(null),{getToastToRender:h,isToastActive:m,count:p}=Gx(e),{className:g,style:E,rtl:A,containerId:R,hotKeys:N}=e;function P(L){let K=Gs("Toastify__toast-container",`Toastify__toast-container--${L}`,{"Toastify__toast-container--rtl":A});return ar(g)?g({position:L,rtl:A,defaultClassName:K}):Gs(K,zm(g))}function Q(){n&&(o(!0),Ye.play())}return Qx(()=>{var L;if(n){let K=u.current.querySelectorAll('[data-in="true"]'),Y=12,z=(L=e.position)==null?void 0:L.includes("top"),ne=0,re=0;Array.from(K).reverse().forEach((he,C)=>{let S=he;S.classList.add("Toastify__toast--stacked"),C>0&&(S.dataset.collapsed=`${s}`),S.dataset.pos||(S.dataset.pos=z?"top":"bot");let w=ne*(s?.2:1)+(s?0:Y*C);S.style.setProperty("--y",`${z?w:w*-1}px`),S.style.setProperty("--g",`${Y}`),S.style.setProperty("--s",`${1-(s?re:0)}`),ne+=S.offsetHeight,re+=.025})}},[s,p,n]),F.useEffect(()=>{function L(K){var Y;let z=u.current;N(K)&&((Y=z.querySelector('[tabIndex="0"]'))==null||Y.focus(),o(!1),Ye.pause()),K.key==="Escape"&&(document.activeElement===z||z!=null&&z.contains(document.activeElement))&&(o(!0),Ye.play())}return document.addEventListener("keydown",L),()=>{document.removeEventListener("keydown",L)}},[N]),tt.createElement("section",{ref:u,className:"Toastify",id:R,onMouseEnter:()=>{n&&(o(!1),Ye.pause())},onMouseLeave:Q,"aria-live":"polite","aria-atomic":"false","aria-relevant":"additions text","aria-label":e["aria-label"]},h((L,K)=>{let Y=K.length?{...E}:{...E,pointerEvents:"none"};return tt.createElement("div",{tabIndex:-1,className:P(L),"data-stacked":n,style:Y,key:`c-${L}`},K.map(({content:z,props:ne})=>tt.createElement(tN,{...ne,stacked:n,collapseAll:Q,isIn:m(ne.toastId,ne.containerId),key:`t-${ne.key}`},z)))}))}const sN=()=>{const r=Tf(),[e,n]=F.useState(!1),[s,o]=F.useState(null),u=async h=>{o(null),h.preventDefault();const m=h.target.email.value,p=h.target.password.value;if(!(!m||!p)){n(!0);try{const g=await sD(rb,m,p);localStorage.setItem("authToken",g._tokenResponse.idToken),localStorage.setItem("userId",g.user.uid),r("/")}catch(g){console.error(g),o("Failed to login")}finally{n(!1)}}};return q.jsxs("div",{className:"flex items-center justify-center bg-gray-100",children:[q.jsx(hb,{}),q.jsxs("div",{className:"w-full max-w-sm p-4",children:[q.jsx("h1",{className:"mb-4 text-2xl font-bold",children:"Login"}),e?q.jsx("div",{className:"flex items-center justify-center",children:q.jsx("div",{className:"h-32 w-32 animate-spin rounded-full border-t-2 border-b-2 border-blue-500"})}):q.jsxs("form",{className:"space-y-4",onSubmit:u,children:[q.jsxs("div",{children:[q.jsx("label",{htmlFor:"email",children:"Email"}),q.jsx("input",{type:"email",id:"email",name:"email",className:"w-full rounded border border-gray-300 p-2",required:!0})]}),q.jsxs("div",{children:[q.jsx("label",{htmlFor:"password",children:"Password"}),q.jsx("input",{type:"password",id:"password",name:"password",className:"w-full rounded border border-gray-300 p-2",required:!0})]}),q.jsx("button",{type:"submit",className:"my-2 w-full rounded bg-blue-500 p-2 text-white",children:"Login"})]}),s&&q.jsx("p",{className:"text-red-500",children:s})]})]})},aN=()=>{const r=Tf(),e=async n=>{n.preventDefault();const s=n.target.email.value,o=n.target.password.value;try{await rD(rb,s,o),Ye.success("User registered successfully!"),setTimeout(()=>{r("/auth/login")},3e3)}catch(u){console.error(u)}};return q.jsxs("div",{className:"flex h-screen items-center justify-center bg-gray-100",children:[q.jsx(hb,{}),q.jsxs("div",{className:"w-full max-w-sm p-4",children:[q.jsx("h1",{className:"mb-4 text-2xl font-bold",children:"Signup"}),q.jsxs("form",{onSubmit:e,className:"space-y-4",children:[q.jsxs("div",{children:[q.jsx("label",{htmlFor:"email",children:"Email"}),q.jsx("input",{type:"email",id:"email",name:"email",className:"w-full rounded border border-gray-300 p-2",required:!0})]}),q.jsxs("div",{children:[q.jsx("label",{htmlFor:"password",children:"Password"}),q.jsx("input",{type:"password",id:"password",name:"password",className:"w-full rounded border border-gray-300 p-2",required:!0})]}),q.jsx("button",{type:"submit",className:"my-2 w-full rounded bg-blue-500 p-2 text-white",children:"Signup"})]})]})]})},oN=({onSubmit:r})=>{const e=n=>{var s;if(n.key==="Enter"){const o=n.target.form,u=Array.prototype.indexOf.call(o,n.target);(s=o.elements[u+1])==null||s.focus(),n.preventDefault()}};return q.jsxs("form",{className:"mt-4",onSubmit:r,children:[q.jsx("input",{className:"mb-2 w-full rounded border border-gray-400 p-2",type:"text",name:"name",placeholder:"Category Name",onKeyDown:e,required:!0}),q.jsx("input",{className:"mb-2 w-full rounded border border-gray-400 p-2",type:"text",name:"icon",placeholder:"Icon",onKeyDown:e}),q.jsx("button",{className:"w-full rounded bg-blue-500 p-2 text-white hover:bg-blue-600",type:"submit",children:"Add Category"})]})},lN=({categories:r})=>r.length===0?q.jsx("p",{className:"text-gray-500 text-center mt-4",children:"No categories found"}):q.jsx("ul",{className:"my-2 rounded-lg border border-gray-200 bg-white text-sm font-medium text-gray-900 dark:border-gray-600 dark:bg-gray-700 dark:text-white",children:r.map(e=>q.jsx("li",{className:"w-full border-b border-gray-200 px-4 py-2 dark:border-gray-600",children:q.jsxs("p",{children:[e.icon," ",e.name]})},e.id))}),uN=()=>{const{projectId:r}=xE(),[e,n]=F.useState([]),[s,o]=F.useState(!0),[u,h]=F.useState(null);F.useEffect(()=>{(async()=>{try{const g=await pi(Fn(_n,"categories")),E=[];g.forEach(A=>{E.push({id:A.id,...A.data()})}),n(E)}catch(g){console.error(g),h("Failed to fetch categories")}finally{o(!1)}})()},[r]);const m=async p=>{p.preventDefault();const{name:g,icon:E}=p.target.elements;try{const A=Fn(_n,"categories");await Lf(A,{name:g.value,icon:E.value||null});const R=await pi(A),N=[];R.forEach(P=>{N.push({id:P.id,...P.data()})}),n(N)}catch(A){console.error(A),h("Failed to add category")}};return s?q.jsx(Bf,{}):u?q.jsx(Um,{message:u}):q.jsx("div",{className:"flex items-center justify-center bg-gray-100",children:q.jsxs("div",{className:"w-full max-w-sm p-4",children:[q.jsx("h1",{children:"Categories"}),q.jsx(oN,{onSubmit:m}),q.jsx(lN,{categories:e})]})})},cN=()=>{const[r,e]=F.useState([]),[n,s]=F.useState(!0),[o,u]=F.useState(null);F.useEffect(()=>{(async()=>{try{const g=await pi(Fn(_n,"accounts")),E=[];g.forEach(A=>{E.push({id:A.id,...A.data()})}),e(E)}catch(g){console.error(g),u("Failed to fetch accounts")}finally{s(!1)}})()},[]);const h=async p=>{p.preventDefault();const{name:g}=p.target.elements;try{const E=Fn(_n,"accounts");await Lf(E,{name:g.value});const A=await pi(E),R=[];A.forEach(N=>{R.push({id:N.id,...N.data()})}),e(R)}catch(E){console.error(E),u("Failed to add account")}},m=p=>{if(p.key==="Enter"){const g=p.target.form,E=Array.prototype.indexOf.call(g,p.target);g.elements[E+1].focus(),p.preventDefault()}};return n?q.jsx(Bf,{}):o?q.jsx("div",{className:"flex items-center justify-center bg-gray-100",children:q.jsx("div",{className:"w-full max-w-sm p-4",children:q.jsx("div",{className:"text-center text-red-500",children:o})})}):q.jsx("div",{className:"flex items-center justify-center bg-gray-100",children:q.jsxs("div",{className:"w-full max-w-sm p-4",children:[q.jsx("h1",{children:"Accounts"}),q.jsxs("form",{className:"mt-4",onSubmit:h,children:[q.jsx("input",{className:"mb-2 w-full rounded border border-gray-400 p-2",type:"text",name:"name",placeholder:"Account Name",onKeyDown:m}),q.jsx("button",{className:"w-full rounded bg-blue-500 p-2 text-white",type:"submit",children:"Add Account"})]}),r.length===0&&q.jsx("p",{children:"No accounts found"}),q.jsx("ul",{className:"my-2 rounded-lg border border-gray-200 bg-white text-sm font-medium text-gray-900 dark:border-gray-600 dark:bg-gray-700 dark:text-white",children:r.map((p,g)=>q.jsx("li",{className:"w-full border-b border-gray-200 px-4 py-2 dark:border-gray-600",children:q.jsx("p",{children:p.name})},g))})]})})},fN=()=>{const r="/sakinahstory";return q.jsxs(Uw,{children:[q.jsx(di,{path:r,element:q.jsx(Tx,{})}),q.jsx(di,{path:`${r}/auth/login`,element:q.jsx(sN,{})}),q.jsx(di,{path:`${r}/auth/signup`,element:q.jsx(aN,{})}),q.jsx(di,{path:`${r}/project/:projectId`,element:q.jsx(bx,{})}),q.jsx(di,{path:`${r}/project/:projectId/transaction/:transactionId`,element:q.jsx(wx,{})}),q.jsx(di,{path:`${r}/project/:projectId/statistics`,element:q.jsx(Ax,{})}),q.jsx(di,{path:`${r}/categories`,element:q.jsx(uN,{})}),q.jsx(di,{path:`${r}/accounts`,element:q.jsx(cN,{})}),q.jsx(di,{path:"*",element:q.jsx(Pw,{to:r})})]})};QA.createRoot(document.getElementById("root")).render(q.jsx(F.StrictMode,{children:q.jsx(lS,{children:q.jsx(fN,{})})}));
